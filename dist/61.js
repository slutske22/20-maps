(function(){var e={"esri/widgets/LayerList/support/layerListUtils":294,"esri/widgets/LayerList/ListItem":347,"esri/widgets/LayerList":455,"esri/widgets/LayerList/LayerListViewModel":457,"esri/support/actions/ActionSlider":458,"esri/widgets/LayerList/ListItemPanel":459},t=this||window,i=t.webpackJsonp=t.webpackJsonp||[];i.registerAbsMids?i.registerAbsMids(e):(i.absMidsWaiting=i.absMidsWaiting||[]).push(e)})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[61,100],{181:function(e,t,i){"use strict";i.r(t);var r=i(10),n=i.n(r)()(!0);n.push([e.i,".esri-scroll-zoom-toggle{padding:0.7em 1.5em}.esri-scroll-zoom-toggle--inner-wrapper{display:flex;flex-direction:row;align-items:center;cursor:pointer}.esri-scroll-zoom-toggle--input-checkbox{margin-left:1em;margin-bottom:6px;cursor:pointer}\n","",{version:3,sources:["webpack://src/components/mapcomponents/ScrollZoom.scss"],names:[],mappings:"AAAA,yBACC,mBAAoB,CACpB,wCAGA,YAAa,CACb,kBAAmB,CACnB,kBAAmB,CACnB,cAAe,CACf,yCAGA,eAAgB,CAChB,iBAAkB,CAClB,cAAe",sourcesContent:[".esri-scroll-zoom-toggle {\n\tpadding: 0.7em 1.5em;\n}\n\n.esri-scroll-zoom-toggle--inner-wrapper {\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: center;\n\tcursor: pointer;\n}\n\n.esri-scroll-zoom-toggle--input-checkbox {\n\tmargin-left: 1em;\n\tmargin-bottom: 6px;\n\tcursor: pointer;\n}\n"],sourceRoot:""}]),t.default=n},1979:function(e,t,i){var r=i(99),n=i(978);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a={insert:"head",singleton:!1},o=r(n,a);if(!n.locals||e.hot.invalidate){var s=n.locals;e.hot.accept(978,(function(){"string"==typeof(n=(n=i(978)).__esModule?n.default:n)&&(n=[[e.i,n,""]]),function(e,t,i){if(!e&&t||e&&!t)return!1;var r;for(r in e)if((!i||"default"!==r)&&e[r]!==t[r])return!1;for(r in t)if(!(i&&"default"===r||e[r]))return!1;return!0}(s,n.locals)?(s=n.locals,o(n)):e.hot.invalidate()}))}e.hot.dispose((function(){o()})),e.exports=n.locals||{}},212:function(e,t,i){var r=i(99),n=i(181);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a={insert:"head",singleton:!1},o=r(n,a);if(!n.locals||e.hot.invalidate){var s=n.locals;e.hot.accept(181,(function(){"string"==typeof(n=(n=i(181)).__esModule?n.default:n)&&(n=[[e.i,n,""]]),function(e,t,i){if(!e&&t||e&&!t)return!1;var r;for(r in e)if((!i||"default"!==r)&&e[r]!==t[r])return!1;for(r in t)if(!(i&&"default"===r||e[r]))return!1;return!0}(s,n.locals)?(s=n.locals,o(n)):e.hot.invalidate()}))}e.hot.dispose((function(){o()})),e.exports=n.locals||{}},213:function(e,t,i){"use strict";var r=i(2),n=i.n(r),a=i(3),o=i(108),s=i.n(o),l=i(6),c=i(5),d=i(284),p=i.n(d),u=i(275),y=i.n(u),h=i(266),m=i.n(h),g=i(287),_=i.n(g),f=i(278),v=i.n(f),b=i(157),w=i(188),E=i.n(w),x=i(151),A=i(183);i(212);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var L,C,k,S=(L=function(e,t){return(L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}L(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),O=function(e,t,i,r){var n,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"===("undefined"==typeof Reflect?"undefined":I(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(o=(a<3?n(o):a>3?n(t,i,o):n(t,i))||o);return a>3&&o&&Object.defineProperty(t,i,o),o},M="esri-widget esri-scroll-zoom-toggle",N="esri-scroll-zoom-toggle--inner-wrapper",P="esri-scroll-zoom-toggle--input-checkbox",T=function(e){function t(t){var i=e.call(this,t)||this;return i.enabled=!1,i._toggleZoomOnScroll=function(){i.enabled=!i.enabled,i.enabled?(i.view.navigation.mouseWheelZoomEnabled=!0,i.view.navigation.browserTouchPanEnabled=!0):(i.view.navigation.mouseWheelZoomEnabled=!1,i.view.navigation.browserTouchPanEnabled=!1),console.log(i)},i}return S(t,e),t.prototype.render=function(){return Object(A.tsx)("div",{class:M},Object(A.tsx)("div",{class:N,onclick:this._toggleZoomOnScroll},Object(A.tsx)("div",null,"Enable Scroll Zoom"),Object(A.tsx)("input",{type:"checkbox",class:P,checked:this.enabled})))},O([Object(x.property)(),Object(A.renderable)()],t.prototype,"enabled",void 0),t=O([Object(x.subclass)("esri.widgets.ScrollZoom")],t)}(E.a),j=function(){return(j=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},V=function(e){var t=e.metadata,i=e.sources,a=e.customFeatures,o=e.customFeaturesPerPage,s=e.customMapDOM,l=e.pageRefs,d=e.currentPage,u=e.mapState,h=u.basemap,g=u.layers,f=u.position,w=u.customBehavior,E=Object(r.useRef)(null),x=Object(r.useState)(null),A=x[0],I=x[1],L=Object(r.useState)(!0),C=L[0],k=L[1],S=Object(r.useState)(null),O=S[0],M=S[1];return Object(r.useEffect)((function(){var e=new y.a({basemap:h||null,layers:g}),r=j(j({container:E.current,map:e},f),{navigation:{mouseWheelZoomEnabled:!1,browserTouchPanEnabled:!1}}),o=t.sceneview?new _.a(r):new m.a(r);(o.on("click",(function(e){console.log("view",o),console.log("extent",o.extent),console.log("mappoint",e.mapPoint)})),I({map:e,view:o}),t.fullWidthMap&&!t.sceneview)&&(document.querySelector("#"+t.name+" .esri-ui-top-left").style.left="calc(30% - 10px)");if(t.fullWidthMap&&t.sceneview){var s=document.querySelector("#"+t.name+' div[class^="SideCar"]');s.style.left="40px",s.style.width="500px",s.style.transition="all 0.5s";var l=new v.a({view:o,expandIconClass:"esri-icon-question",expandTooltip:"Information",expanded:!0});o.ui.add([{component:l,position:"top-left",index:0}]),l.container.addEventListener("click",(function(){l.expanded?(s.style.left="40px",s.style.opacity="1",s.style.pointerEvents="auto",s.style.transition="all 0.5s"):(s.style.left="35px",s.style.opacity="0",s.style.pointerEvents="none",s.style.transition="none")}));var d=new T({view:o});o.ui.add(d,"top-right")}document.createElement("div").innerHTML="Data sources here";var u=new v.a({view:o,expandIconClass:"clipboard-icon",expandTooltip:"Data Sources",collapseTooltip:"Close",content:p.a.renderToStaticMarkup(n.a.createElement(c.a,{sources:i,theme:t.theme}))});o.ui.add(u,"bottom-right"),t.disableSpinnerAfterInitialLoad?b.whenTrueOnce(o,"updating",(function(){k(!0)})):b.whenTrue(o,"updating",(function(){k(!0)})),b.whenFalse(o,"updating",(function(){k(!1)})),a&&a({map:e,view:o,layers:g})}),[]),Object(r.useEffect)((function(){A&&(A.map.layers=g)}),[g]),Object(r.useEffect)((function(){A&&(A.map.basemap=h)}),[h,A]),Object(r.useEffect)((function(){A&&f&&A.view.goTo({target:f.center,zoom:f.zoom},{duration:1e3})}),[f]),Object(r.useEffect)((function(){if(A)if(w){var e=A.map,t=A.view;O&&O();var i=w({map:e,view:t});M((function(){return i}))}else O&&O()}),[w,A]),Object(r.useEffect)((function(){if(A&&o){var e=A.view,t=A.map,i=o({map:t,view:e,layers:g,pageRefs:l,currentPage:d});if(i)return i}}),[A,d,o]),n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"arcgis-map "+t.name,ref:E}),s&&A&&s(A),C&&n.a.createElement(c.c,null))},R=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},z=a.b.section.withConfig({displayName:"ChapterTemplate__Wrapper",componentId:"sc-1cxnsi8-0"})(C||(C=R(["\n\twidth: 100%;\n\theight: ",";\n\tmin-height: 500px;\n\tposition: relative;\n\tdisplay: flex;\n\tflex-direction: row;\n\tbackground-color: ",";\n\t/* scroll-snap-stop: always;\n\tscroll-snap-align: start; */\n"],["\n\twidth: 100%;\n\theight: ",";\n\tmin-height: 500px;\n\tposition: relative;\n\tdisplay: flex;\n\tflex-direction: row;\n\tbackground-color: ",";\n\t/* scroll-snap-stop: always;\n\tscroll-snap-align: start; */\n"])),(function(e){return e.height||100*e.screensTall+"vh"||"auto"}),(function(e){return"light"===e.maptheme?"":"#242424"})),U=a.b.div.withConfig({displayName:"ChapterTemplate__Trigger",componentId:"sc-1cxnsi8-1"})(k||(k=R(["\n\tposition: absolute;\n\ttop: 0px;\n\tleft: 0px;\n\theight: 3px;\n\twidth: 3px;\n\tpointer-events: none;\n"],["\n\tposition: absolute;\n\ttop: 0px;\n\tleft: 0px;\n\theight: 3px;\n\twidth: 3px;\n\tpointer-events: none;\n"])));t.a=function(e){e.customMap;var t=e.data,i=t.metadata,a=t.sources,o=t.customFeatures,d=t.customFeaturesPerPage,p=t.customMapDOM,u=t.customChapterDOM,y=t.pages,h=Object(r.useState)(0),m=h[0],g=h[1],_=Object(r.useContext)(l.a).dispatch,f={};return Object(r.useMemo)((function(){return n.a.createElement(z,{maptheme:i.theme,id:i.name,screensTall:y.length>1?y.length:1},n.a.createElement(c.i,{floating:i.fullWidthMap},y.map((function(e,t){return n.a.createElement(c.d,{floating:i.fullWidthMap,ref:function(e){return f[t]=e},key:i.name+"-page-"+t},n.a.createElement(c.e,{theme:i.theme,floating:i.fullWidthMap},n.a.createElement(c.g,null,e.title),n.a.createElement(c.f,{floating:i.fullWidthMap},e.content)),n.a.createElement(s.a,{onChange:function(e){e&&(_({type:"SET_NAV",payload:i.name}),g(t))}},(function(e){e.isVisible;return n.a.createElement(U,null)})))}))),n.a.createElement(s.a,{partialVisibility:!0},(function(e){var t=e.isVisible;return n.a.createElement(c.b,{fullWidth:i.fullWidthMap,className:"arcgis-map-"+i.theme},t&&n.a.createElement(V,{mapState:y[m].mapState,customFeatures:o,customFeaturesPerPage:d,customMapDOM:p,metadata:i,sources:a,pageRefs:f,currentPage:m}))})),u&&u)}),[m])}},2290:function(e,t,i){"use strict";i.r(t);var r=i(2),n=i.n(r),a=i(488),o=i.n(a),s=i(222),l=i.n(s),c=i(455),d=i.n(c),p=i(757),u=i.n(p),y={title:"{Location}",content:[{type:"fields",fieldInfos:[{fieldName:"Date"},{fieldName:"Location"},{fieldName:"Attendees",format:{digitSeparator:!0,places:0}},{fieldName:"Tags"},{fieldName:"Source"}]}]},h=function(){var e=Object(r.useState)("none"),t=e[0],i=e[1];return Object(r.useEffect)((function(){i("flex")}),[]),n.a.createElement("div",{className:"US_protests esri-component esri-legend esri-widget esri-widget--panel",style:{display:t}},n.a.createElement("div",null,n.a.createElement("div",{className:"esri-legend__service"},n.a.createElement("h3",{className:"esri-widget__heading esri-legend__service-label"},"Protests 2020"),n.a.createElement("div",{className:"esri-legend__layer"},n.a.createElement("div",{className:"esri-legend__layer-table esri-legend__layer-table--size-ramp"},n.a.createElement("div",{className:"esri-legend__layer-caption"},"No. of Attendees"),n.a.createElement("div",{className:"esri-legend__layer-body"},n.a.createElement("div",{className:"esri-legend__layer-row"},n.a.createElement("div",{className:"esri-legend__layer-cell esri-legend__layer-cell--symbols esri-legend__size-ramp"},n.a.createElement("div",{className:"esri-legend__symbol"},n.a.createElement("div",{style:{opacity:1}},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40"},n.a.createElement("defs",null),n.a.createElement("g",{transform:"matrix(0.9836065769195557,0,0,0.9836065769195557,0.32786884903907776,0.32786884903907776)"},n.a.createElement("circle",{fillRule:"evenodd",fill:"rgba(255, 255, 255, 0)",stroke:"rgba(255, 255, 255, 1)",strokeWidth:"0.6666666666666666",strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"none",strokeMiterlimit:"4",cx:"20",cy:"20",r:"20"})))))),n.a.createElement("div",{className:"esri-legend__layer-cell esri-legend__layer-cell--info"},"> 100,000")),n.a.createElement("div",{className:"esri-legend__layer-row"},n.a.createElement("div",{className:"esri-legend__layer-cell esri-legend__layer-cell--symbols esri-legend__size-ramp"},n.a.createElement("div",{className:"esri-legend__symbol"},n.a.createElement("div",{style:{opacity:1}},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14"},n.a.createElement("defs",null),n.a.createElement("g",{transform:"matrix(1,0,0,1,0.3333333432674408,0.3333333432674408)"},n.a.createElement("circle",{fillRule:"evenodd",fill:"rgba(255, 255, 255, 0)",stroke:"rgba(255, 255, 255, 1)",strokeWidth:"0.6666666666666666",strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"none",strokeMiterlimit:"4",cx:"6.666666666666667",cy:"6.666666666666667",r:"6.666666666666667"})))))),n.a.createElement("div",{className:"esri-legend__layer-cell esri-legend__layer-cell--info"},"500")),n.a.createElement("div",{className:"esri-legend__layer-row"},n.a.createElement("div",{className:"esri-legend__layer-cell esri-legend__layer-cell--symbols esri-legend__size-ramp"},n.a.createElement("div",{className:"esri-legend__symbol"},n.a.createElement("div",{style:{opacity:1}},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"4",height:"4"},n.a.createElement("defs",null),n.a.createElement("g",{transform:"matrix(0.8571428656578064,0,0,0.8571428656578064,0.2857142984867096,0.2857142984867096)"},n.a.createElement("circle",{fillRule:"evenodd",fill:"rgba(255, 255, 255, 0)",stroke:"rgba(255, 255, 255, 1)",strokeWidth:"0.6666666666666666",strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"none",strokeMiterlimit:"4",cx:"2",cy:"2",r:"2"})))))),n.a.createElement("div",{className:"esri-legend__layer-cell esri-legend__layer-cell--info"},"< 1 or No Data"))))))),n.a.createElement("div",null,n.a.createElement("div",{className:"esri-legend__service protest-subject"},n.a.createElement("h3",{className:"esri-widget__heading esri-legend__service-label"},"Â "),n.a.createElement("div",{className:"esri-legend__layer"},n.a.createElement("div",{className:"esri-legend__layer-table esri-legend__layer-table--size-ramp"},n.a.createElement("div",{className:"esri-legend__layer-caption"},"Description Mentions:"),n.a.createElement("div",{className:"esri-legend__layer-body"},n.a.createElement("div",{className:"esri-legend__layer-row protest-subject"},n.a.createElement("div",{className:"esri-legend__layer-cell esri-legend__layer-cell--symbols esri-legend__size-ramp"},n.a.createElement("div",{className:"esri-legend__symbol"},n.a.createElement("div",{style:{opacity:1}},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14"},n.a.createElement("defs",null),n.a.createElement("g",{transform:"matrix(1,0,0,1,0.3333333432674408,0.3333333432674408)"},n.a.createElement("circle",{fillRule:"evenodd",fill:"rgba(153, 51, 51, 0.5)",stroke:"rgba(153, 51, 51, 1)",strokeWidth:"0.6666666666666666",strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"none",strokeMiterlimit:"4",cx:"6.666666666666667",cy:"6.666666666666667",r:"6.666666666666667"})))))),n.a.createElement("div",{className:"esri-legend__layer-cell esri-legend__layer-cell--info"},'"Racial" or "Police"')),n.a.createElement("div",{className:"esri-legend__layer-row  protest-subject"},n.a.createElement("div",{className:"esri-legend__layer-cell esri-legend__layer-cell--symbols esri-legend__size-ramp"},n.a.createElement("div",{className:"esri-legend__symbol"},n.a.createElement("div",{style:{opacity:1}},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14"},n.a.createElement("defs",null),n.a.createElement("g",{transform:"matrix(1,0,0,1,0.3333333432674408,0.3333333432674408)"},n.a.createElement("circle",{fillRule:"evenodd",fill:"rgba(255, 102, 0, 0.5)",stroke:"rgba(255, 102, 0, 1)",strokeWidth:"0.6666666666666666",strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"none",strokeMiterlimit:"4",cx:"6.666666666666667",cy:"6.666666666666667",r:"6.666666666666667"})))))),n.a.createElement("div",{className:"esri-legend__layer-cell esri-legend__layer-cell--info"},'"Coronavirus"')),n.a.createElement("div",{className:"esri-legend__layer-row  protest-subject"},n.a.createElement("div",{className:"esri-legend__layer-cell esri-legend__layer-cell--symbols esri-legend__size-ramp"},n.a.createElement("div",{className:"esri-legend__symbol"},n.a.createElement("div",{style:{opacity:1}},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14"},n.a.createElement("defs",null),n.a.createElement("g",{transform:"matrix(1,0,0,1,0.3333333432674408,0.3333333432674408)"},n.a.createElement("circle",{fillRule:"evenodd",fill:"rgba(124,185,232, 0.5)",stroke:"rgba(124,185,232, 1)",strokeWidth:"0.6666666666666666",strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"none",strokeMiterlimit:"4",cx:"6.666666666666667",cy:"6.666666666666667",r:"6.666666666666667"})))))),n.a.createElement("div",{className:"esri-legend__layer-cell esri-legend__layer-cell--info"},"Other"))))))))},m=i(5),g=new o.a({portalItem:{id:"4f2e99ba65e34bb8af49733d9778fb8e"}}),_=new l.a({id:"racial",url:"https://services6.arcgis.com/VqchQRhgtql2vsmO/arcgis/rest/services/US_Protests_2020_1/FeatureServer",outFields:["*"],renderer:{type:"simple",symbol:{type:"simple-marker",color:"rgba(153, 51, 51, 0.5)",size:"3px",outline:{color:"rgb(153, 51, 51)",width:.5}},visualVariables:[{type:"size",field:"Attendees",stops:[{value:1,size:3},{value:500,size:10},{value:1e5,size:30}]}]},popupTemplate:y,definitionExpression:"Tags LIKE '%racial%' OR Tags LIKE '%police%'"}),f=new l.a({id:"covid",url:"https://services6.arcgis.com/VqchQRhgtql2vsmO/arcgis/rest/services/US_Protests_2020_1/FeatureServer",outFields:["*"],renderer:{type:"simple",symbol:{type:"simple-marker",color:"rgba(255, 102, 0, 0.5)",size:"3px",outline:{color:"rgb(255, 102, 0)",width:.5}},visualVariables:[{type:"size",field:"Attendees",stops:[{value:1,size:3},{value:500,size:10},{value:1e5,size:30}]}]},popupTemplate:y,definitionExpression:"Tags LIKE '%coronavirus%'"}),v=new l.a({id:"other",url:"https://services6.arcgis.com/VqchQRhgtql2vsmO/arcgis/rest/services/US_Protests_2020_1/FeatureServer",outFields:["*"],renderer:{type:"simple",symbol:{type:"simple-marker",color:"rgba(124,185,232, 0.5)",size:"3px",outline:{color:"rgb(124,185,232)",width:.5}},visualVariables:[{type:"size",field:"Attendees",stops:[{value:1,size:3},{value:500,size:10},{value:1e5,size:30}]}]},popupTemplate:y,definitionExpression:"Tags NOT LIKE '%racial%' AND Tags NOT LIKE '%police%'"}),b={metadata:{name:"US_protests",theme:"dark",fullWidthMap:!0,disableSpinnerAfterInitialLoad:!0},sources:[{name:"US Protests 2020",url:"https://www.arcgis.com/home/item.html?id=d5c9efdb1db240f0bedc8f8d96515dba"}],customFeatures:function(e){e.map;var t=e.view,i=e.layers,r=[];i.forEach((function(e){t.whenLayerView(e).then((function(e){r.push(e)}))}));var n=new d.a({view:t,statusIndicatorsVisible:!1,listItemCreatedFunction:function(e){switch(e.item.layer.id){case"racial":e.item.title="Race Related";break;case"covid":e.item.title="Coronavirus Related";break;case"other":e.item.title="Other"}}});t.ui.add(n,"top-right");var a=new u.a({container:"timeSlider",playRate:100,mode:"cumulative-from-start",loop:!1,fullTimeExtent:{start:new Date(2020,0,1),end:new Date(2020,11,31)>new Date?new Date:new Date(2020,11,31)},stops:{interval:{value:1,unit:"days"}},tickConfigs:[{mode:"count",values:new Date(2020,11,31)>new Date?(new Date).getMonth()+1:12,labelsVisible:!0,labelFormatFunction:function(e){return new Date(e).toLocaleString("default",{month:"short"})}}]});t.ui.add(a,"bottom-right"),a.watch("timeExtent",(function(e){var t=e.end.getTime();r.forEach((function(e){e.effect={filter:{where:"Date <= '"+t+"'"},excludedEffect:"opacity(0%)"}}))}))},customMapDOM:function(){return n.a.createElement(h,null)},pages:[{title:"United States Protests",content:n.a.createElement(n.a.Fragment,null,n.a.createElement("p",null,"Social distancing and economic shutdown have overlapped with key police and political incidents this year. The public's response has been protests and riots on a scale that we have not seen in decades."),n.a.createElement("p",null,n.a.createElement(m.h,{linkTitle:"countlove.org",link:"https://countlove.org/",theme:"dark"},"Countlove.org")," ","has been keeping track of protests in the US for years. The protest data is tagged with keywords about what the protest is about."," "),n.a.createElement("p",null,n.a.createElement("em",{className:"action"},"Press the play button")," in the bottom right corner to watch the protests erupt as the year progresses. Pay special attention to what happens in March and April as Coronavirus takes hold, as well as what happens in late May, just after the"," ",n.a.createElement(m.h,{link:"https://en.wikipedia.org/wiki/Killing_of_George_Floyd",linkTitle:"Killing of George Floyd, Wikipedia",theme:"dark"},"killing of George Floyd"),".")),mapState:{position:{center:[-100,38],zoom:3},basemap:g,layers:[v,f,_]}}]},w=i(213);i(1979),t.default=function(){return n.a.createElement(w.a,{data:b})}},294:function(e,t,i){var r,n;r=[i.dj.c(e.i),t],void 0===(n=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});function i(e){if(e)return null!=e.listMode?e.listMode:void 0}function r(e){if(e)return null!=e.minScale?e.minScale:void 0}function n(e){if(e)return null!=e.maxScale?e.maxScale:void 0}function a(e){if(e&&"hide-children"!==e.listMode&&"wmts"!==e.type)return"group"===e.type?"layers":"sublayers"}function o(e,t){e&&e.sort((function(e,i){var r=t.indexOf(e.uid),n=t.indexOf(i.uid);return r>n?-1:r<n?1:0}))}t.findLayerListMode=i,t.findLayerMinScale=r,t.findLayerMaxScale=n,t.findLayerVisibilityMode=function(e){if(!e)return"inherited";var t=e.get("layer.capabilities.exportMap.supportsSublayerVisibility");if("boolean"==typeof t)return t?"independent":"inherited";var i=e.get("capabilities.exportMap.supportsSublayerVisibility");return"boolean"==typeof i?i?"independent":"inherited":null!=e.visibilityMode?e.visibilityMode:"independent"},t.getNormalizedChildLayerProperty=a,t.canSortSublayers=function(e){var t=e&&(e.get("layer.layer")||e.layer);if(!t)return!1;var i=t.get("capabilities.exportMap.supportsSublayersChanges");return"boolean"!=typeof i||i},t.canDisplayLayer=function(e){return"hide"!==i(e)},t.isLayerOutsideScaleRange=function(e,t){if(!e||isNaN(t))return!1;var i=r(e),a=n(e),o=!isNaN(i)&&i>0&&t>=i,s=!isNaN(a)&&a>0&&t<=a;return o||s},t.sortLayersToIds=o,t.sortChildLayersToIds=function(e,t){var i=null==e?void 0:e.layer;if(i){var r=a(i);r&&o(i.get(r),t)}},t.getItemLayers=function(e){var t=null==e?void 0:e.layer;return t&&"group"===t.type?t.layers:null},t.findSelectedItem=function(e,t){var i,r=null===(i=e.layer)||void 0===i?void 0:i.uid;return r&&t.find((function(e){var t;return(null===(t=e.layer)||void 0===t?void 0:t.uid)===r}))}}.apply(null,r))||(e.exports=n)},347:function(e,t,i){var r,n;r=[i.dj.c(e.i),t,i(117),i(158),i(169),i(236),i(292),i(157),i(151),i(438),i(337),i(480),i(458),i(520),i(459),i(294)],void 0===(n=function(e,t,i,r,n,a,o,s,l,c,d,p,u,y,h,m){var g=n.ofType({key:"type",defaultKeyValue:"button",base:d,typeMap:{button:p,toggle:y,slider:u}}),_=n.ofType(g);return function(e){function t(t){var i=e.call(this,t)||this;return i.actionsSections=new _,i.actionsOpen=!1,i.children=new(n.ofType(r)),i.childrenSortable=!0,i.error=null,i.layer=null,i.layerView=null,i.open=!1,i.panel=null,i.parent=null,i.sortable=!0,i.view=null,i.visible=null,i}var r;return i.__extends(t,e),r=t,t.prototype.initialize=function(){var e=this;this.handles.add([s.init(this,"layer",(function(t){return e._watchLayerProperties(t)})),s.init(this,"view",(function(t){return e._updateChildren(t)})),s.init(this,"panel",(function(t){return e._setListItemOnPanel(t)})),s.init(this,["layer","view"],(function(){return e._getLayerView()}))])},t.prototype.destroy=function(){this.view=null},t.prototype.castPanel=function(e){return this.get("panel.open")&&!e.hasOwnProperty("open")&&(e.open=!0),e?new h(e):null},Object.defineProperty(t.prototype,"title",{get:function(){var e=this.get("layer.layer");return(!e||e&&this.get("layer.layer.loaded"))&&this.get("layer.title")||""},set:function(e){void 0!==e?this._override("title",e):this._clearOverride("title")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updating",{get:function(){var e=this.layerView;return e?e.updating:this._isLayerUpdating(this.layer)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visibleAtCurrentScale",{get:function(){return!m.isLayerOutsideScaleRange(this.layer,this.get("view.scale"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visibilityMode",{get:function(){return m.findLayerVisibilityMode(this.layer)},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new r({actionsSections:this.actionsSections.clone(),actionsOpen:this.actionsOpen,children:this.children.clone(),layer:this.layer,open:this.open,panel:this.panel,title:this.title,view:this.view,visible:this.visible})},t.prototype._setListItemOnPanel=function(e){e&&(e.listItem=this)},t.prototype._updateChildren=function(e){var t=this.children;t&&t.forEach((function(t){return t.view=e}))},t.prototype._addChildren=function(e){var t=this;if(this.handles.remove("child-list-mode"),this.children.removeAll(),e){e.forEach((function(i){t.handles.add(s.watch(i,"listMode",(function(){return t._addChildren(e)})),"child-list-mode")}));var i=[];e.filter((function(e){return"hide"!==m.findLayerListMode(e)})).forEach((function(e){if(m.canDisplayLayer(e)){var n=new r({layer:e,parent:t,view:t.view});i.unshift(n)}})),this.children.addMany(i)}},t.prototype._watchSublayerChanges=function(e){var t=this;e&&this.handles.add(e.on("change",(function(){t._addChildren(e)})),"layer")},t.prototype._initializeChildLayers=function(e){this._addChildren(e),this._watchSublayerChanges(e)},t.prototype._watchLayerProperties=function(e){var t=this;if(this.handles&&(this.handles.remove("layer"),this.handles.remove("child-list-mode"),e))if(this.handles.add(s.watch(e,"listMode",(function(){return t._watchLayerProperties(e)})),"layer"),"hide-children"!==m.findLayerListMode(e)){var i=m.getNormalizedChildLayerProperty(e);i&&this.handles.add(s.init(e,i,(function(){e.hasOwnProperty(i)&&t._initializeChildLayers(e[i])})),"layer")}else this.children.removeAll()},t.prototype._getLayerView=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,t,r,n;return i.__generator(this,(function(i){switch(i.label){case 0:if(t=(e=this).layer,r=e.view,!t||!r)return[2];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,r.whenLayerView(t)];case 2:return(n=i.sent()).layer!==this.layer?[2]:(this._set("layerView",n),[3,4]);case 3:return i.sent(),[3,4];case 4:return[2]}}))}))},t.prototype._isLayerUpdating=function(e){return!(e instanceof c)&&e&&"loading"===e.loadStatus},i.__decorate([l.property({type:_})],t.prototype,"actionsSections",void 0),i.__decorate([l.property()],t.prototype,"actionsOpen",void 0),i.__decorate([l.property({type:n})],t.prototype,"children",void 0),i.__decorate([l.property()],t.prototype,"childrenSortable",void 0),i.__decorate([l.aliasOf("layer.loadError?")],t.prototype,"error",void 0),i.__decorate([l.property()],t.prototype,"layer",void 0),i.__decorate([l.property({readOnly:!0})],t.prototype,"layerView",void 0),i.__decorate([l.property()],t.prototype,"open",void 0),i.__decorate([l.property({type:h})],t.prototype,"panel",void 0),i.__decorate([l.cast("panel")],t.prototype,"castPanel",null),i.__decorate([l.property()],t.prototype,"parent",void 0),i.__decorate([l.property()],t.prototype,"sortable",void 0),i.__decorate([l.property({dependsOn:["layer.layer?.loaded","layer.title"]})],t.prototype,"title",null),i.__decorate([l.property({dependsOn:["layer.loadStatus?","layerView.updating"],readOnly:!0})],t.prototype,"updating",null),i.__decorate([l.property({value:null})],t.prototype,"view",void 0),i.__decorate([l.aliasOf("layer.visible")],t.prototype,"visible",void 0),i.__decorate([l.property({dependsOn:["layer.minScale?","layer.maxScale?","view.scale"],readOnly:!0})],t.prototype,"visibleAtCurrentScale",null),i.__decorate([l.property({dependsOn:["layer.visibilityMode?","layer.capabilities?.exportMap?.supportsSublayerVisibility","layer.layer?.capabilities?.exportMap?.supportsSublayerVisibility"],readOnly:!0})],t.prototype,"visibilityMode",null),r=i.__decorate([l.subclass("esri.widgets.LayerList.ListItem")],t)}(o.IdentifiableMixin(a.HandleOwnerMixin(r)))}.apply(null,r))||(e.exports=n)},455:function(e,t,i){var r,n;r=[i.dj.c(e.i),t,i(117),i(169),i(335),i(270),i(167),i(164),i(156),i(157),i(151),i(456),i(188),i(457),i(347),i(294),i(183)],void 0===(n=function(e,t,i,r,n,a,o,s,l,c,d,p,u,y,h,m,g){function _(e,t,i){e.splice(i,0,e.splice(t,1)[0])}var f=r.ofType(h),v="esri-layer-list__list",b="esri-layer-list__list--independent",w="esri-layer-list__item",E="esri-layer-list__item-actions-menu-item",x="esri-layer-list__item-actions-menu-item--active",A="esri-layer-list__item-action-image",I="esri-layer-list__item-label",L="esri-layer-list__item-toggle",C="esri-icon-default-action",k="exclusive",S="inherited",O=l.getLogger("esri.widgets.LayerList"),M={statusIndicators:!0};return function(e){function t(t,r){var n=e.call(this,t,r)||this;return n._handles=new o,n._sortableNodes=new Map,n._sortableMap=new Map,n._focusSortUid=null,n._newUI=s("esri-layerlist-new-ui"),n.visibleItems=null,n.iconClass="esri-icon-layers",n.label=void 0,n.listItemCreatedFunction=null,n.messages=null,n.messagesCommon=null,n.multipleSelectionEnabled=!1,n.operationalItems=null,n.selectionEnabled=!1,n.selectedItems=new f,n.view=null,n.viewModel=new y,n.visibleElements=i.__assign({},M),n._onSortableSort=function(e){var t=e.to,i=e.from,r=e.item,a=e.newIndex;i&&t&&(i===t?n._sortLayers(n._sortableMap.get(i.dataset.group)):n._moveLayerFromChildList({to:t,from:i,item:r,newIndex:a}))},n._sortableCanPut=function(e,t,i){var r,n,a=e.el.dataset.group,o=t.el.dataset.group,s=e.el["data-item"],l=i["data-item"],c=null===(r=null==l?void 0:l.layer)||void 0===r?void 0:r.type,d=null===(n=null==s?void 0:s.layer)||void 0===n?void 0:n.type;return a&&o&&c&&!("group"===d&&"group"===c)},n._sortableCanPull=function(e,t,i){var r,n=e.el.dataset.group,a=t.el.dataset.group,o=i["data-item"],s=null===(r=null==o?void 0:o.layer)||void 0===r?void 0:r.type;return n&&a&&!!s},n._onSortableEnd=function(e){var t=e.oldIndex,i=e.from,r=e.to,n=e.item;i!==r&&i.insertBefore(n,i.children[t])},n}return i.__extends(t,e),t.prototype.initialize=function(){var e=this,t=this.operationalItems;this._setVisibleItems(t),this.own(c.on(this,"operationalItems","change",(function(){return e._itemsChanged(t)})),c.init(this,"selectionEnabled",(function(){return e._toggleAllSorting()})))},t.prototype.destroy=function(){this._destroySortables(),this._handles.destroy(),this._handles=null},Object.defineProperty(t.prototype,"statusIndicatorsVisible",{set:function(e){n.deprecatedProperty(O,"statusIndicatorsVisible",{replacement:"visibleElements.statusIndicators",version:"4.15"}),this.visibleElements=i.__assign(i.__assign({},this.visibleElements),{statusIndicators:e})},enumerable:!0,configurable:!0}),t.prototype.castVisibleElements=function(e){return i.__assign(i.__assign({},M),e)},t.prototype.triggerAction=function(e,t){this.viewModel.triggerAction(e,t)},t.prototype.render=function(){var e,t,i=this.visibleItems,r=this._newUI,n=null===(t=this.viewModel)||void 0===t?void 0:t.state,a=((e={})["esri-layer-list--new-ui"]=r,e["esri-hidden"]="loading"===n,e["esri-disabled"]="disabled"===n,e);return g.tsx("div",{class:this.classes("esri-layer-list esri-widget esri-widget--panel",a)},(null==i?void 0:i.length)?this.renderItems():this.renderNoItems())},t.prototype.renderNoItems=function(){return g.tsx("div",{class:"esri-layer-list__no-items"},this.messages.noItemsToDisplay)},t.prototype.renderItems=function(){var e=this,t=this.visibleItems,i=this.selectionEnabled,r=this.messages;return g.tsx("ul",{"aria-label":r.widgetLabel,role:i?"listbox":void 0,afterCreate:this._sortNodeCreated,afterUpdate:this._sortNodeCreated,afterRemoved:this._sortNodeRemoved,"data-group":"root",bind:this,class:this.classes(v,"esri-layer-list__list--root",b)},null==t?void 0:t.map((function(t){return e.renderItem(t,null)})).toArray())},t.prototype.renderActionsMenuIcon=function(e,t){var i,r=this.messagesCommon,n=((i={})[x]=e.actionsOpen,i),a=e.actionsOpen?r.close:r.open;return g.tsx("div",{key:"actions-menu-toggle","data-item":e,bind:this,onclick:this._toggleActionsOpen,onkeydown:this._toggleActionsOpen,class:this.classes(E,n),tabindex:"0",role:"button","aria-controls":t,"aria-label":a,title:a},g.tsx("span",{"aria-hidden":"true",class:"esri-icon-handle-horizontal"}))},t.prototype.renderActionsMenu=function(e,t,i,r){var n=e.panel,a=n&&n.visible?this.renderPanelButton(n):null,o=1===i&&this._getSingleActionButton(t),s=o?this.renderAction({item:e,action:o,singleAction:!0}):null,l=!o&&i?this.renderActionsMenuIcon(e,r):null;return l||a||o?g.tsx("div",{key:"actions-menu",class:"esri-layer-list__item-actions-menu"},a,s,l):null},t.prototype.renderChildList=function(e,t){var i,r,n=this,a=this.selectionEnabled,o=e.visibilityMode,s=e.children,l=!!e.error,c=!!s.length&&!l,d=!c&&a&&"group"===(null===(r=e.layer)||void 0===r?void 0:r.type),p=k,u=S,y=((i={})["esri-layer-list__list--exclusive"]=o===p,i["esri-layer-list__list--inherited"]=o===u,i[b]=o!==u&&o!==p,i);return c||d?g.tsx("ul",{bind:this,key:"list-items",id:t,"data-group":e.uid,"data-item":e,afterCreate:this._sortNodeCreated,afterUpdate:this._sortNodeCreated,afterRemoved:this._sortNodeRemoved,class:this.classes(v,y),"aria-expanded":e.open?"true":"false",role:a?"listbox":o===p?"radiogroup":"group",hidden:!e.open&&!d||null},null==s?void 0:s.map((function(t){return n.renderItem(t,e)})).toArray()):null},t.prototype.renderChildrenToggle=function(e,t){var i,r=this.messagesCommon,n=e.children,a=!!e.error,o=!!n.length&&!a,s=((i={})["esri-layer-list__child-toggle--open"]=e.open,i),l=e.open?r.collapse:r.expand;return o?g.tsx("span",{onclick:this._toggleChildrenClick,onkeydown:this._toggleChildrenClick,"data-item":e,key:"toggle-children",class:this.classes("esri-layer-list__child-toggle",s),tabindex:"0",role:"button","aria-controls":t,"aria-label":l,title:l},g.tsx("span",{"aria-hidden":"true",class:this.classes("esri-layer-list__child-toggle-icon--closed","esri-icon-right-triangle-arrow")}),g.tsx("span",{"aria-hidden":"true",class:this.classes("esri-layer-list__child-toggle-icon--opened","esri-icon-down-arrow")}),g.tsx("span",{"aria-hidden":"true",class:this.classes("esri-layer-list__child-toggle-icon--closed-rtl","esri-icon-left-triangle-arrow")})):null},t.prototype.renderError=function(e){return e.error?g.tsx("div",{key:"esri-layer-list__error",class:"esri-layer-list__item-error-message",role:"alert"},g.tsx("span",null,this.messages.layerError)):null},t.prototype.renderItemContent=function(e,t,i){var r=this.id+"_"+e.uid,n=r+"_actions",a=r+"__list",o=e.panel,s=this._filterActions(e.actionsSections),l=this._countActions(s);return[g.tsx("div",{key:"list-item-container",class:"esri-layer-list__item-container"},this.renderChildrenToggle(e,a),this.renderLabel(e,t,i),this.renderActionsMenu(e,s,l,n)),this.renderError(e),l?this.renderActionsSections(e,s,n):null,o&&o.open?o.render():null,this.renderChildList(e,a)]},t.prototype.renderItem=function(e,t){var r,n,a,o=this,s=o._newUI,l=o.id,c=o.selectionEnabled,d=o.selectedItems,p=o.visibleElements,u=e.children,y=l+"_"+e.uid+"__title",h=!!e.error,_=!!u.length&&!h,f=((r={})["esri-layer-list__item--has-children"]=_,r["esri-layer-list__item--error"]=!!h,r["esri-layer-list__item--updating"]=e.updating&&!t&&p.statusIndicators,r["esri-layer-list__item--invisible"]=s&&!e.visible,r["esri-layer-list__item--invisible-at-scale"]=!e.visibleAtCurrentScale,r["esri-layer-list__item--selectable"]=c,r);if(c){var v=((n={})["data-layer-uid"]=null===(a=e.layer)||void 0===a?void 0:a.uid,n["data-sort-filter"]=(!e.sortable).toString(),n);return g.tsx("li",i.__assign({key:"item-with-selection-"+e.uid,bind:this,afterCreate:this._focusListItem,afterUpdate:this._focusListItem,class:this.classes(w,f),"aria-labelledby":y,onclick:this._toggleSelection,onkeydown:this._selectionKeydown,"data-item":e,"data-group":t?t.uid:"root",tabIndex:0,"aria-selected":m.findSelectedItem(e,d)?"true":"false",role:"option"},v),this.renderItemContent(e,t,y))}return g.tsx("li",{key:"item-no-selection-"+e.uid,bind:this,afterCreate:this._focusListItem,afterUpdate:this._focusListItem,class:this.classes(w,f),"aria-labelledby":y},this.renderItemContent(e,t,y))},t.prototype.renderItemTitle=function(e,t){var i=this.messages,r=e.title||i.untitledLayer,n=e.visibleAtCurrentScale?r:r+" ("+i.layerInvisibleAtScale+")";return g.tsx("span",{key:"layer-title-container",id:t,title:n,"aria-label":n,class:"esri-layer-list__item-title"},r)},t.prototype.renderItemToggleIcon=function(e,t){var i,r=this._newUI,n=k,a=t&&t.visibilityMode,o=((i={})["esri-layer-list__item-toggle-icon"]=r,i["esri-layer-list__item-toggle-icon"]=r&&a!==n,i["esri-layer-list__item-radio-icon"]=r&&a===n,i["esri-icon-radio-checked"]=a===n&&e.visible,i["esri-icon-radio-unchecked"]=a===n&&!e.visible,i["esri-icon-visible"]=a!==n&&e.visible,i["esri-icon-non-visible"]=a!==n&&!e.visible,i);return g.tsx("span",{key:"item-toggle-icon",class:this.classes(o),"aria-hidden":"true"})},t.prototype.renderItemToggle=function(e,t,i){var r=this.selectionEnabled,n=t&&t.visibilityMode,a="exclusive"===n?"radio":"switch";return r?g.tsx("span",{key:"item-toggle-selection-enabled",class:L,bind:this,onclick:this._toggleVisibility,onkeydown:this._toggleVisibility,"data-item":e,"data-parent-visibility":n,tabIndex:0,"aria-checked":e.visible?"true":"false",role:a,"aria-labelledby":i},this.renderItemToggleIcon(e,t)):g.tsx("span",{key:"item-toggle",class:L},this.renderItemToggleIcon(e,t))},t.prototype.renderItemError=function(e){return e.error?g.tsx("span",{key:"notice-triangle","aria-hidden":"true",class:"esri-icon-notice-triangle"}):null},t.prototype.renderLabel=function(e,t,i){var r=this.selectionEnabled,n=this._newUI,a=null==t?void 0:t.visibilityMode,o="exclusive"===a?"radio":"switch",s=[this.renderItemToggle(e,t,i),this.renderItemTitle(e,i)];n&&s.reverse();var l=r?g.tsx("div",{key:"item-label-no-selection-"+e.uid,class:I},s):g.tsx("div",{key:"item-label-with-selection-"+e.uid,class:I,bind:this,onclick:this._toggleVisibility,onkeydown:this._toggleVisibility,"data-item":e,"data-parent-visibility":a,tabIndex:0,"aria-checked":e.visible?"true":"false",role:o,"aria-labelledby":i},s);return"inherited"===a||e.error?g.tsx("div",{key:"item-label-container-"+e.uid,class:I},this.renderItemError(e),this.renderItemTitle(e,i)):l},t.prototype.renderPanelButton=function(e){var t,i,r=e.className,n=e.open,a=e.title,o=e.image||r?r:C,s=this._getIconImageStyles(e),l=((t={})[x]=n,t),c=((i={})[A]=!!s["background-image"],i);return o&&(c[o]=!!o),g.tsx("div",{key:e,bind:this,"data-panel":e,onclick:this._triggerPanel,onkeydown:this._triggerPanel,class:this.classes(E,l),role:"button",tabindex:"0",title:a,"aria-label":a},g.tsx("span",{class:this.classes(c),styles:s}))},t.prototype.renderActionsSections=function(e,t,i){var r=this,n=t.toArray().map((function(t){return g.tsx("ul",{key:t,class:"esri-layer-list__item-actions-list"},r.renderActionSection(e,t))}));return g.tsx("div",{role:"group","aria-expanded":e.actionsOpen?"true":"false",key:"actions-section",id:i,class:"esri-layer-list__item-actions",hidden:!e.actionsOpen||null},n)},t.prototype.renderActionSection=function(e,t){var i=this;return(t&&t.toArray()).map((function(t){return i.renderAction({item:e,action:t})}))},t.prototype.renderActionIcon=function(e){var t,i=e.active,r=e.className,n=this._getIconImageStyles(e),a="button"!==e.type||e.image||r?r:C,o=((t={})[A]=!i&&!!n["background-image"],t["esri-icon-loading-indicator"]=i,t["esri-rotating"]=i,t);return a&&!i&&(o[a]=!0),g.tsx("span",{key:"action-icon","aria-hidden":"true",class:this.classes("esri-layer-list__item-action-icon",o),styles:n})},t.prototype.renderActionTitle=function(e,t){return t?null:g.tsx("span",{key:"action-title",class:"esri-layer-list__item-action-title"},e)},t.prototype.renderAction=function(e){var t,i=e.item,r=e.action,n=e.singleAction,a=r.active,o=r.disabled,s=r.title,l=((t={})[E]=n&&"button"===r.type,t["esri-layer-list__item-action"]=a||!n&&"toggle"!==r.type,t["esri-layer-list__action-toggle"]=!a&&"toggle"===r.type,t["esri-layer-list__action-toggle--on"]=!a&&"toggle"===r.type&&r.value,t["esri-disabled-element"]=o,t),c=[this.renderActionIcon(r),this.renderActionTitle(s,n)];return n?g.tsx("div",{bind:this,"data-item":i,"data-action":r,role:"button",key:r,onclick:this._triggerAction,onkeydown:this._triggerAction,classes:l,tabindex:"0",title:s,"aria-label":s},c):g.tsx("li",{bind:this,"data-item":i,"data-action":r,key:r,onclick:this._triggerAction,onkeydown:this._triggerAction,classes:l,tabindex:"0",role:"button",title:s,"aria-label":s},c)},t.prototype._sortNodeRemoved=function(e){var t=this._sortableMap,i=e.dataset.group,r=t.get(i);r&&r.destroy(),t.delete(i)},t.prototype._destroySortables=function(){var e=this._sortableMap,t=this._sortableNodes;e.forEach((function(e){return e&&e.destroy()})),e.clear(),t.clear()},t.prototype._moveLayerFromChildList=function(e){var t=e.to,i=e.from,r=e.item,n=e.newIndex,a=r["data-item"],o=t["data-item"],s=i["data-item"];this.viewModel.moveListItem(a,s,o,n)},t.prototype._sortLayers=function(e){var t,i;if(e){var r=e.el["data-item"],n=e.toArray();r?m.sortChildLayersToIds(r,n):m.sortLayersToIds(null===(i=null===(t=this.view)||void 0===t?void 0:t.map)||void 0===i?void 0:i.layers,n)}},t.prototype._toggleSorting=function(e,t){var i=this._sortableMap,r=this.selectionEnabled,n=i.get(t),a=e["data-item"],o=("root"===t||a.childrenSortable&&m.canSortSublayers(a))&&r;if(n)n.option("disabled",!o);else if(o){var s=p.create(e,{dataIdAttr:"data-layer-uid",group:{name:t,pull:this._sortableCanPull,put:this._sortableCanPut},filter:'[data-sort-filter="true"]',fallbackTolerance:4,onSort:this._onSortableSort,onEnd:this._onSortableEnd,disabled:!o,chosenClass:"esri-layer-list--chosen"});i.set(t,s)}},t.prototype._toggleAllSorting=function(){var e=this;this._sortableNodes.forEach((function(t,i){return e._toggleSorting(t,i)}))},t.prototype._sortNodeCreated=function(e){var t=e.dataset.group;t&&(this._sortableNodes.set(t,e),this._toggleSorting(e,t))},t.prototype._setVisibleItems=function(e){var t=this;this.visibleItems=null==e?void 0:e.filter((function(e){return t.errorsVisible||!e.error}))},t.prototype._getSingleActionButton=function(e){return e.reduce((function(e){return e})).filter((function(e){return e&&"button"===e.type})).getItemAt(0)},t.prototype._focusListItem=function(e){var t,i=this._focusSortUid;e&&i&&(null===(t=e["data-item"].layer)||void 0===t?void 0:t.uid)===i&&(e.focus(),this._focusSortUid=null)},t.prototype._watchActionSectionChanges=function(e,t){var i=this,r="action-section"+t;this._handles.add(e.on("change",this.scheduleRender.bind(this)),r),e.forEach((function(e){return i._renderOnActionChanges(e,t)}))},t.prototype._renderOnActionChanges=function(e,t){var i=this,r="actions"+t;"toggle"!==e.type?"slider"!==e.type?this._handles.add([c.init(e,["className","image","id","title","visible"],(function(){return i.scheduleRender()}))],r):this._handles.add([c.init(e,["className","id","title","visible","value","displayValueEnabled","max","min","step"],(function(){return i.scheduleRender()}))],r):this._handles.add([c.init(e,["className","image","id","title","visible","value"],(function(){return i.scheduleRender()}))],r)},t.prototype._renderOnItemChanges=function(e){var t=this,i=e.uid,r="items"+i;this._handles.add([c.init(e,["actionsOpen","visible","open","updating","title","visibleAtCurrentScale","error","visibilityMode","panel","panel.title","panel.content","panel.className","sortable","childrenSortable"],(function(){return t.scheduleRender()})),e.actionsSections.on("change",(function(){return t.scheduleRender()})),e.children.on("change",(function(){return t.scheduleRender()}))],r),e.children.forEach((function(e){return t._renderOnItemChanges(e)})),e.actionsSections.forEach((function(e){return t._watchActionSectionChanges(e,i)}))},t.prototype._itemsChanged=function(e){var t=this;this._handles.removeAll(),e.forEach((function(e){return t._renderOnItemChanges(e)})),this._setVisibleItems(e),this.scheduleRender()},t.prototype._filterActions=function(e){return e.map((function(e){return e.filter((function(e){return e.visible}))}))},t.prototype._countActions=function(e){return e.reduce((function(e,t){return e+t.length}),0)},t.prototype._getIconImageStyles=function(e){var t="esri.widgets.LayerList.ListItemPanel"===e.declaredClass||"esri.support.Action.ActionButton"===e.declaredClass||"esri.support.Action.ActionToggle"===e.declaredClass?e.image:null;return{"background-image":t?'url("'+t+'")':null}},t.prototype._selectionKeydown=function(e){var t,i,r,n,o=a.eventKey(e);if(-1!==["ArrowDown","ArrowUp"].indexOf(o)){e.stopPropagation();var s=e.currentTarget,l=s["data-item"],c=this._sortableMap,d=this.selectedItems,p=s.dataset.group,u=c.get(p);if(u){var y=m.findSelectedItem(l,d),h=u.toArray(),g=e.target,f=h.indexOf(g.dataset.layerUid);if(-1!==f){if("ArrowDown"===o){if((v=f+1)>=h.length)return;y?(_(h,f,v),u.sort(h),this._sortLayers(u),this._focusSortUid=null===(t=l.layer)||void 0===t?void 0:t.uid):(this._focusSortUid=null===(i=l.layer)||void 0===i?void 0:i.uid,this.scheduleRender())}if("ArrowUp"===o){var v;if((v=f-1)<=-1)return;y?(_(h,f,v),u.sort(h),this._sortLayers(u),this._focusSortUid=null===(r=l.layer)||void 0===r?void 0:r.uid):(this._focusSortUid=null===(n=l.layer)||void 0===n?void 0:n.uid,this.scheduleRender())}}}}else this._toggleSelection(e)},t.prototype._toggleActionsOpen=function(e){var t=e.currentTarget["data-item"],i=!t.actionsOpen;i&&this.operationalItems.forEach((function(e){return function e(t){var i=t.actionsOpen,r=t.children;i&&(t.actionsOpen=!1),r.forEach((function(t){return e(t)}))}(e)})),t.actionsOpen=i,e.stopPropagation()},t.prototype._triggerPanel=function(e){var t=e.currentTarget["data-panel"];t&&(t.open=!t.open),e.stopPropagation()},t.prototype._triggerAction=function(e){var t=e.currentTarget,i=t["data-action"],r=t["data-item"];"toggle"===i.type&&(i.value=!i.value),this.triggerAction(i,r),e.stopPropagation()},t.prototype._toggleVisibility=function(e){var t=e.currentTarget,i=t.getAttribute("data-parent-visibility"),r=t["data-item"];i===k&&r.visible||(r.visible=!r.visible),e.stopPropagation()},t.prototype._toggleChildrenClick=function(e){var t=e.currentTarget["data-item"];t.open=!t.open,e.stopPropagation()},t.prototype._toggleSelection=function(e){e.stopPropagation();var t=this.multipleSelectionEnabled,i=this.selectedItems,r=t&&(e.metaKey||e.ctrlKey),n=e.currentTarget["data-item"],a=m.findSelectedItem(n,i),o=i.length;if(!r)return!o||a&&1===o?void(a?i.remove(a):i.add(n)):(i.removeAll(),void i.add(n));a?i.remove(a):i.add(n)},i.__decorate([d.property()],t.prototype,"visibleItems",void 0),i.__decorate([d.property()],t.prototype,"iconClass",void 0),i.__decorate([d.property(),g.renderable()],t.prototype,"errorsVisible",void 0),i.__decorate([d.property({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],t.prototype,"label",void 0),i.__decorate([d.aliasOf("viewModel.listItemCreatedFunction"),g.renderable()],t.prototype,"listItemCreatedFunction",void 0),i.__decorate([d.property(),g.renderable(),g.messageBundle("esri/widgets/LayerList/t9n/LayerList")],t.prototype,"messages",void 0),i.__decorate([d.property(),g.renderable(),g.messageBundle("esri/t9n/common")],t.prototype,"messagesCommon",void 0),i.__decorate([d.property()],t.prototype,"multipleSelectionEnabled",void 0),i.__decorate([d.aliasOf("viewModel.operationalItems"),g.renderable()],t.prototype,"operationalItems",void 0),i.__decorate([d.property(),g.renderable()],t.prototype,"selectionEnabled",void 0),i.__decorate([d.property(),g.renderable()],t.prototype,"selectedItems",void 0),i.__decorate([d.property(),g.renderable()],t.prototype,"statusIndicatorsVisible",null),i.__decorate([d.aliasOf("viewModel.view"),g.renderable()],t.prototype,"view",void 0),i.__decorate([g.vmEvent("trigger-action"),d.property({type:y}),g.renderable("viewModel.state")],t.prototype,"viewModel",void 0),i.__decorate([d.property(),g.renderable()],t.prototype,"visibleElements",void 0),i.__decorate([d.cast("visibleElements")],t.prototype,"castVisibleElements",null),i.__decorate([d.aliasOf("viewModel.triggerAction")],t.prototype,"triggerAction",null),i.__decorate([g.accessibleHandler()],t.prototype,"_toggleActionsOpen",null),i.__decorate([g.accessibleHandler()],t.prototype,"_triggerPanel",null),i.__decorate([g.accessibleHandler()],t.prototype,"_triggerAction",null),i.__decorate([g.accessibleHandler()],t.prototype,"_toggleVisibility",null),i.__decorate([g.accessibleHandler()],t.prototype,"_toggleChildrenClick",null),i.__decorate([g.accessibleHandler()],t.prototype,"_toggleSelection",null),i.__decorate([d.subclass("esri.widgets.LayerList")],t)}(u)}.apply(null,r))||(e.exports=n)},457:function(e,t,i){var r,n;r=[i.dj.c(e.i),t,i(117),i(169),i(190),i(167),i(157),i(151),i(347),i(294)],void 0===(n=function(e,t,i,r,n,a,o,s,l,c){var d="view-layers",p="map-layers",u="layer-views",y="layer-list-mode",h=r.ofType(l);return function(e){function t(t){var i=e.call(this,t)||this;return i._handles=new a,i.listItemCreatedFunction=null,i.operationalItems=new h,i.view=null,i}return i.__extends(t,e),t.prototype.initialize=function(){var e=this;this._handles.add(o.init(this,["view","view.ready"],(function(){return e._viewHandles()})),"view")},t.prototype.destroy=function(){this._handles.destroy(),this._handles=null,this.view=null,this.operationalItems.removeAll()},Object.defineProperty(t.prototype,"state",{get:function(){var e=this.get("view");return this.get("view.ready")?"ready":e?"loading":"disabled"},enumerable:!0,configurable:!0}),t.prototype.triggerAction=function(e,t){e&&this.emit("trigger-action",{action:e,item:t})},t.prototype.moveListItem=function(e,t,i,r){var n,a,o=null==e?void 0:e.layer;if(o){var s=null===(a=null===(n=this.view)||void 0===n?void 0:n.map)||void 0===a?void 0:a.layers,l=t?c.getItemLayers(t):s,d=i?c.getItemLayers(i):s;if(l&&d){var p=this.operationalItems,u=(null==t?void 0:t.children)||p,y=(null==i?void 0:i.children)||p,h=d.length-r;e.parent=i||null,u.includes(e)&&u.remove(e),l.includes(o)&&l.remove(o),y.includes(e)||y.add(e,h),d.includes(o)||d.add(o,h)}}},t.prototype._createLayerViewHandles=function(e){var t=this,i=this._handles;i.remove(u),this._compileList(),e&&i.add(e.on("change",(function(){return t._compileList()})),u)},t.prototype._createMapLayerHandles=function(e){var t=this,i=this._handles;i.remove(p),this._compileList(),e&&i.add(e.on("change",(function(){return t._compileList()})),p)},t.prototype._watchItemProperties=function(e){var t=this;this._handles.add([e.children.on("change",(function(){t._modifyListItemChildren(e.children)}))],"children-change-"+e.uid)},t.prototype._modifyListItemChildren=function(e){var t=this;e.forEach((function(e){return t._modifyListItem(e)}))},t.prototype._modifyListItem=function(e){if("function"==typeof this.listItemCreatedFunction){var t={item:e};this.listItemCreatedFunction.call(null,t)}this._modifyListItemChildren(e.children)},t.prototype._createListItem=function(e){var t=this.view,i=new l({layer:e,view:t});return this._watchItemProperties(i),i},t.prototype._removeAllItems=function(){var e=this._handles,t=this.operationalItems;t.forEach((function(t){e.remove("children-change-"+t.uid)})),t.removeAll()},t.prototype._getViewableLayers=function(e){if(e)return e.filter((function(e){return"hide"!==c.findLayerListMode(e)}))},t.prototype._watchLayersListMode=function(e){var t=this,i=this._handles;i.remove(y),e&&e.forEach((function(e){i.add(o.watch(e,"listMode",(function(){return t._compileList()})),y)}))},t.prototype._compileList=function(){var e=this.get("view.map.layers");this._watchLayersListMode(e);var t=this._getViewableLayers(e);t&&t.length?(this._createNewItems(t),this._modifyOrRemoveItems(t),this._sortItems(t)):this._removeAllItems()},t.prototype._createNewItems=function(e){var t=this,i=this.operationalItems;e.forEach((function(e){i.find((function(t){return t.layer===e}))||i.add(t._createListItem(e))}))},t.prototype._modifyOrRemoveItems=function(e){var t=this,i=this._handles,r=this.operationalItems;r.forEach((function(n){n&&(e&&e.find((function(e){return n.layer===e}))?t._modifyListItem(n):(i.remove("children-change-"+n.uid),r.remove(n)))}))},t.prototype._sortItems=function(e){this.operationalItems.sort((function(t,i){var r=e.indexOf(t.layer),n=e.indexOf(i.layer);return r>n?-1:r<n?1:0}))},t.prototype._viewHandles=function(){var e=this,t=this._handles,i=this.view;t.remove([p,u,d]),this._compileList(),i&&i.ready&&t.add([o.init(this,"view.map.layers",(function(t){return e._createMapLayerHandles(t)})),o.init(this,"view.layerViews",(function(t){return e._createLayerViewHandles(t)})),o.init(this,"listItemCreatedFunction",(function(){return e._compileList()}))],d)},i.__decorate([s.property()],t.prototype,"listItemCreatedFunction",void 0),i.__decorate([s.property({type:h})],t.prototype,"operationalItems",void 0),i.__decorate([s.property({dependsOn:["view.ready"],readOnly:!0})],t.prototype,"state",null),i.__decorate([s.property()],t.prototype,"view",void 0),i.__decorate([s.subclass("esri.widgets.LayerList.LayerListViewModel")],t)}(n.EventedAccessor)}.apply(null,r))||(e.exports=n)},458:function(e,t,i){var r,n;r=[i.dj.c(e.i),t,i(117),i(151),i(337)],void 0===(n=function(e,t,i,r,n){return function(e){function t(t){var i=e.call(this,t)||this;return i.displayValueEnabled=!1,i.max=1,i.min=0,i.step=.1,i.type="slider",i.value=null,i}var n;return i.__extends(t,e),n=t,t.prototype.clone=function(){return new n({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,displayValueEnabled:this.displayValueEnabled,max:this.max,min:this.min,step:this.step,value:this.value})},i.__decorate([r.property()],t.prototype,"displayValueEnabled",void 0),i.__decorate([r.property()],t.prototype,"max",void 0),i.__decorate([r.property()],t.prototype,"min",void 0),i.__decorate([r.property()],t.prototype,"step",void 0),i.__decorate([r.property()],t.prototype,"value",void 0),n=i.__decorate([r.subclass("esri.support.Action.ActionSlider")],t)}(n)}.apply(null,r))||(e.exports=n)},459:function(e,t,i){var r,n;r=[i.dj.c(e.i),t,i(117),i(167),i(292),i(157),i(151),i(188),i(183),i(161)],void 0===(n=function(e,t,r,n,a,o,s,l,c){var d="esri-layer-list-panel__content";return function(e){function t(t,i){var r=e.call(this,t,i)||this;return r._legend=null,r._handles=new n,r.content=null,r.image=null,r.listItem=null,r.open=!1,r.visible=!0,r}return r.__extends(t,e),t.prototype.initialize=function(){var e=this;this.own([o.init(this,"content",(function(t){return e._createLegend(t)}))])},t.prototype.destroy=function(){var e=this._legend;e&&e.destroy(),this._legend=null},Object.defineProperty(t.prototype,"className",{get:function(){var e=this.image,t=this._getFirstWidget();return this._get("className")||!e&&t?t.iconClass:""},set:function(e){void 0!==e?this._override("className",e):this._clearOverride("className")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){var e=this._getFirstWidget();return this._get("title")||e?e.label:""},set:function(e){void 0!==e?this._override("title",e):this._clearOverride("title")},enumerable:!0,configurable:!0}),t.prototype.render=function(){return c.tsx("div",{class:"esri-layer-list-panel"},this._renderContents())},t.prototype._renderContent=function(e){var t=this._legend,i=this.listItem;return e?"legend"===e?i&&i.view&&i.layer&&t?c.tsx("div",{class:this.classes(d,"esri-layer-list-panel__content--legend"),key:t},t.render()):null:"string"==typeof e?c.tsx("div",{class:this.classes(d,"esri-layer-list-panel__content--string"),key:e,innerHTML:e}):c.isWidget(e)?c.tsx("div",{class:this.classes(d,"esri-layer-list-panel__content--widget"),key:e},e.render()):e instanceof HTMLElement?c.tsx("div",{class:this.classes(d,"esri-layer-list-panel__content--html-element"),key:e,bind:e,afterCreate:this._attachToNode}):null:null},t.prototype._renderContents=function(){var e=this,t=this.content;return Array.isArray(t)?t.map((function(t){return e._renderContent(t)})):this._renderContent(t)},t.prototype._getLegendOptions=function(e){if(e){var t=e.layer,i=e.view;if(t&&i)return{view:i,layerInfos:[{layer:t,title:""}]}}},t.prototype._createLegend=function(e){var t=this;this._hasLegend(e)&&!this._legend&&new Promise((function(e,t){i.e(6).then(function(){var t=[i(300)];e.apply(null,t)}.bind(this)).catch(t.bind(this))})).then((function(e){var i=t,r=i._handles,n=i.listItem,a=new e(t._getLegendOptions(n));t._legend=a,t.notifyChange("className"),t.notifyChange("title");var s=o.init(t,["listItem.view","listItem.layer"],(function(){return t._updateLegend(a)}));r.add(s,"legends"),t.scheduleRender()}))},t.prototype._hasLegend=function(e){return"legend"===e||!!Array.isArray(e)&&e.some((function(e){return"legend"===e}))},t.prototype._attachToNode=function(e){e.appendChild(this)},t.prototype._updateLegend=function(e){var t=this.listItem;if(t){var i=t.layer,r=t.view;e.view=r,e.layerInfos=[{layer:i,title:null}],this.scheduleRender()}},t.prototype._getWidget=function(e){return"legend"===e?this._legend:c.isWidget(e)?e:null},t.prototype._getFirstWidget=function(){var e=this,t=this.content;if(Array.isArray(t)){var i=null;return t.some((function(t){var r=e._getWidget(t);return r&&(i=r),!!r})),i}return this._getWidget(t)},r.__decorate([s.property({dependsOn:["content","image"]})],t.prototype,"className",null),r.__decorate([s.property(),c.renderable()],t.prototype,"content",void 0),r.__decorate([s.property()],t.prototype,"image",void 0),r.__decorate([s.property()],t.prototype,"listItem",void 0),r.__decorate([s.property({dependsOn:["content"]})],t.prototype,"title",null),r.__decorate([s.property(),c.renderable()],t.prototype,"open",void 0),r.__decorate([s.property()],t.prototype,"visible",void 0),r.__decorate([s.subclass("esri.widgets.LayerList.ListItemPanel")],t)}(a.IdentifiableMixin(l))}.apply(null,r))||(e.exports=n)},978:function(e,t,i){"use strict";i.r(t);var r=i(10),n=i.n(r)()(!0);n.push([e.i,".arcgis-map.US_protests .esri-ui-bottom-right{width:100%}.arcgis-map.US_protests .esri-time-slider{width:50%;max-width:500px}.US_protests.esri-component.esri-legend{position:absolute;bottom:30px;left:15px}.US_protests .esri-legend__layer-row.protest-subject{display:block;margin-bottom:10px}.US_protests .esri-legend__service.protest-subject{width:200px}.US_protests .esri-legend__service.protest-subject .esri-legend__layer-caption{margin-bottom:10px}.US_protests .esri-legend__service.protest-subject .esri-legend__layer-cell.esri-legend__layer-cell--info{width:auto;max-width:auto}\n","",{version:3,sources:["webpack://src/components/chapters/protests_us/styles.scss"],names:[],mappings:"AAAA,8CAEE,UAAW,CAFb,0CAME,SAAU,CACV,eAAgB,CAChB,wCAKA,iBAAkB,CAClB,WAAY,CACZ,SAAU,CAJZ,qDAQE,aAAc,CACd,kBAAmB,CATrB,mDAaE,WAAY,CAbd,+EAiBE,kBAAmB,CAjBrB,0GAsBE,UAAW,CACX,cAAe",sourcesContent:[".arcgis-map.US_protests {\n\t.esri-ui-bottom-right {\n\t\twidth: 100%;\n\t}\n\n\t.esri-time-slider {\n\t\twidth: 50%;\n\t\tmax-width: 500px;\n\t}\n}\n\n.US_protests {\n\t&.esri-component.esri-legend {\n\t\tposition: absolute;\n\t\tbottom: 30px;\n\t\tleft: 15px;\n\t}\n\n\t.esri-legend__layer-row.protest-subject {\n\t\tdisplay: block;\n\t\tmargin-bottom: 10px;\n\t}\n\n\t.esri-legend__service.protest-subject {\n\t\twidth: 200px;\n\t}\n\n\t.esri-legend__service.protest-subject .esri-legend__layer-caption {\n\t\tmargin-bottom: 10px;\n\t}\n\n\t.esri-legend__service.protest-subject\n\t\t.esri-legend__layer-cell.esri-legend__layer-cell--info {\n\t\twidth: auto;\n\t\tmax-width: auto;\n\t}\n}\n"],sourceRoot:""}]),t.default=n}}]);
//# sourceMappingURL=61.js.map