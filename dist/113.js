(function(){var e={"esri/layers/graphics/centroid":349,"esri/layers/support/PromiseQueue":383,"esri/layers/graphics/data/optimizedFeatureQueryEngineAdapter":384,"esri/views/3d/layers/IntegratedMeshLayerView3D":2140},t=this||window,r=t.webpackJsonp=t.webpackJsonp||[];r.registerAbsMids?r.registerAbsMids(e):(r.absMidsWaiting=r.absMidsWaiting||[]).push(e)})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[113],{2140:function(e,t,r){var o,n;o=[r.dj.c(e.i),t,r(117),r(174),r(152),r(151),r(201),r(173),r(842),r(308),r(453),r(218)],void 0===(n=function(e,t,r,o,n,i,a,s,l,u,c,d){return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lodFactor=1,t._elevationContext="im",t._isIntegratedMesh=!0,t._supportsLabeling=!1,t.drapeTargetType=1,t._overlayTexOffset=a.vec4f64.fromValues(-1,-1,-1,-1),t._overlayTexScale=a.vec4f64.create(),t._overlayTextures=[null,null],t._overlayHighlights=[null,null],t._overlayNormals=[null,null],t}return r.__extends(t,e),Object.defineProperty(t.prototype,"progressiveLoadFactor",{get:function(){return this.lodFactor>=1?.2:1},enumerable:!0,configurable:!0}),t.prototype.setDrapingTextures=function(e,t,r,o,i){var a=this;n.isSome(r)&&s.area(t)>0?(this._overlayTextures[e]=r,this._overlayHighlights[e]=o,this._overlayNormals[e]=i,this._overlayTexOffset[2*e]=-t[0]/s.width(t),this._overlayTexOffset[2*e+1]=-t[1]/s.height(t),this._overlayTexScale[2*e]=1/s.width(t),this._overlayTexScale[2*e+1]=1/s.height(t)):(this._overlayTextures[e]=null,this._overlayHighlights[e]=null,this._overlayNormals[e]=null,this._overlayTexOffset[2*e]=-1,this._overlayTexOffset[2*e+1]=-1,this._overlayTexScale[2*e]=0,this._overlayTexScale[2*e+1]=0),this._forAllNodes((function(e){return n.isSome(e)&&a._collection.updateMaterial(e.objectHandle,(function(e){return a._updateMaterialOverlay(e)}))}))},t.prototype._updateMaterialOverlay=function(e){e.overlayColorInner=this._overlayTextures[0],e.overlayColorOuter=this._overlayTextures[1],e.overlayHighlightInner=this._overlayHighlights[0],e.overlayHighlightOuter=this._overlayHighlights[1],e.overlayNormalInner=this._overlayNormals[0],e.overlayNormalOuter=this._overlayNormals[1],e.overlayTexOffset=this._overlayTexOffset,e.overlayTexScale=this._overlayTexScale},t.prototype.initialize=function(){var e=this;this.updatingHandles.add(this.layer,"modifications",(function(){return e._loadModifications()}),2)},t.prototype.destroy=function(){},t.prototype._createLayerGraphic=function(){var e=new o;return e.layer=this.layer,e.sourceLayer=this.layer,e},t.prototype.canResume=function(){return e.prototype.canResume.call(this)&&(!this._controller||this._controller.rootNodeVisible)},t.prototype.isUpdating=function(){return this.updatingMeshView3D},t.prototype._loadModifications=function(){var e=this;if(this.handles.remove("modifications"),n.isNone(this.layer.modifications))this._modifications=[];else{var t=this.layer.modifications;this.handles.add(this.updatingHandles.addOnCollectionChange(t,(function(){return e._modifications=t.toArray()}),2),"modifications")}},r.__decorate([i.property()],t.prototype,"layer",void 0),r.__decorate([i.property({dependsOn:["updatingMeshView3D"]})],t.prototype,"updating",void 0),r.__decorate([i.property({dependsOn:["_controller.rootNodeVisible"]})],t.prototype,"suspended",void 0),r.__decorate([i.property(c.updatingProgress)],t.prototype,"updatingProgress",void 0),r.__decorate([i.property({readOnly:!0,aliasOf:"_controller.updatingProgress"})],t.prototype,"updatingProgressValue",void 0),r.__decorate([i.property({readOnly:!0,aliasOf:"view.qualitySettings.sceneService.integratedMesh.lodFactor"})],t.prototype,"lodFactor",void 0),r.__decorate([i.property({readOnly:!0,dependsOn:["lodFactor"]})],t.prototype,"progressiveLoadFactor",null),r.__decorate([i.subclass("esri.views.3d.layers.SceneLayerView3D")],t)}(l.I3SMeshView3D(u.LayerView3D(d)))}.apply(null,o))||(e.exports=n)},349:function(e,t,r){var o,n;o=[r.dj.c(e.i),t],void 0===(n=function(e,t){function r(e,t){return e?t?4:3:t?3:2}function o(e,t,o,n,i,a){for(var s=r(i,a),l=o,u=o+s,c=0,d=0,p=0,h=0,y=0,f=0,v=n-1;f<v;f++,l+=s,u+=s){var _=t[l],g=t[l+1],I=t[l+2],N=t[u],m=t[u+1],b=t[u+2],T=_*m-N*g;h+=T,c+=(_+N)*T,d+=(g+m)*T,i&&(p+=(I+b)*(T=_*b-N*I),y+=T),_<e[0]&&(e[0]=_),_>e[1]&&(e[1]=_),g<e[2]&&(e[2]=g),g>e[3]&&(e[3]=g),i&&(I<e[4]&&(e[4]=I),I>e[5]&&(e[5]=I))}if(h>0&&(h*=-1),y>0&&(y*=-1),!h)return null;var O=[c,d,.5*h];return i&&(O[3]=p,O[4]=.5*y),O}function n(e,t,o,n,u){for(var c=r(n,u),d=t,p=t+c,h=0,y=0,f=0,v=0,_=0,g=o-1;_<g;_++,d+=c,p+=c){var I,N=e[d],m=e[d+1],b=e[d+2],T=e[p],O=e[p+1],w=e[p+2],x=n?a(N,m,b,T,O,w):i(N,m,T,O);x&&(h+=x,n?(y+=x*(I=l(N,m,b,T,O,w))[0],f+=x*I[1],v+=x*I[2]):(y+=x*(I=s(N,m,T,O))[0],f+=x*I[1]))}return h>0?n?[y/h,f/h,v/h]:[y/h,f/h]:o>0?n?[e[t],e[t+1],e[t+2]]:[e[t],e[t+1]]:null}function i(e,t,r,o){var n=r-e,i=o-t;return Math.sqrt(n*n+i*i)}function a(e,t,r,o,n,i){var a=o-e,s=n-t,l=i-r;return Math.sqrt(a*a+s*s+l*l)}function s(e,t,r,o){return[e+.5*(r-e),t+.5*(o-t)]}function l(e,t,r,o,n,i){return[e+.5*(o-e),t+.5*(n-t),r+.5*(i-r)]}Object.defineProperty(t,"__esModule",{value:!0}),t.getCentroidOptimizedGeometry=function(e,t,i,a){if(!t||!t.lengths.length)return null;e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0);for(var s=e.coords,l=[],u=i?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],c=t.lengths,d=t.coords,p=r(i,a),h=0,y=0,f=c;y<f.length;y++){var v=f[y],_=o(u,d,h,v,i,a);_&&l.push(_),h+=v*p}if(l.sort((function(e,t){var r=e[2]-t[2];return 0===r&&i&&(r=e[4]-t[4]),r})),l.length){var g=6*l[0][2];s[0]=l[0][0]/g,s[1]=l[0][1]/g,i&&(g=6*l[0][4],s[2]=0!==g?l[0][3]/g:0),(s[0]<u[0]||s[0]>u[1]||s[1]<u[2]||s[1]>u[3]||i&&(s[2]<u[4]||s[2]>u[5]))&&(s.length=0)}if(!s.length){var I=t.lengths[0]?n(d,0,c[0],i,a):null;if(!I)return null;s[0]=I[0],s[1]=I[1],i&&I.length>2&&(s[2]=I[2])}return e},t.lineCentroid=n}.apply(null,o))||(e.exports=n)},383:function(e,t,r){var o,n;o=[r.dj.c(e.i),t,r(153)],void 0===(n=function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){this._tasks=new Array}return Object.defineProperty(e.prototype,"length",{get:function(){return this._tasks.length},enumerable:!0,configurable:!0}),e.prototype.push=function(e){var t=this;return r.create((function(r,o){return t._tasks.push(new n(r,o,e))}))},e.prototype.unshift=function(e){var t=this;return r.create((function(r,o){return t._tasks.unshift(new n(r,o,e))}))},e.prototype.process=function(){if(0===this._tasks.length)return!1;var e=this._tasks.shift();try{var t=e.callback();t&&"then"in t&&"function"==typeof t.then?t.then(e.resolve,e.reject):e.resolve(t)}catch(t){e.reject(t)}return!0},e.prototype.cancelAll=function(){for(var e=r.createAbortError(),t=0,o=this._tasks;t<o.length;t++)o[t].reject(e);this._tasks.length=0},e}();t.default=o;var n=function(e,t,r){this.resolve=e,this.reject=t,this.callback=r}}.apply(null,o))||(e.exports=n)},384:function(e,t,r){var o,n;o=[r.dj.c(e.i),t,r(349),r(274),r(224)],void 0===(n=function(e,t,r,o,n){Object.defineProperty(t,"__esModule",{value:!0}),t.optimizedFeatureQueryEngineAdapter={getObjectId:function(e){return e.objectId},getAttributes:function(e){return e.attributes},getAttribute:function(e,t){return e.attributes[t]},cloneWithGeometry:function(e,t){return new o.default(t,e.attributes,null,e.objectId)},getGeometry:function(e){return e.geometry},getCentroid:function(e,t){return e.centroid||(e.centroid=r.getCentroidOptimizedGeometry(new n.default,e.geometry,t.hasZ,t.hasM)),e.centroid}},t.default=t.optimizedFeatureQueryEngineAdapter}.apply(null,o))||(e.exports=n)}}]);
//# sourceMappingURL=113.js.map