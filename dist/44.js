(function(){var e={"esri/views/layers/support/ClipArea":176,"esri/tasks/support/FeatureSet":187,"esri/views/layers/support/ClipRect":209,"esri/views/2d/layers/LayerView2D":219,"esri/views/layers/support/Geometry":220,"esri/views/layers/support/Path":221,"esri/geometry/projection":291,"esri/widgets/LayerList/support/layerListUtils":294,"esri/geometry/pe":310,"esri/geometry/support/GeographicTransformation":311,"esri/geometry/support/GeographicTransformationStep":312,"esri/widgets/LayerList/ListItem":347,"esri/widgets/LayerList":455,"esri/widgets/LayerList/LayerListViewModel":457,"esri/support/actions/ActionSlider":458,"esri/widgets/LayerList/ListItemPanel":459,"esri/views/2d/layers/BaseLayerView2D":669,"esri/views/2d/layers/support/Display":675},t=this||window,n=t.webpackJsonp=t.webpackJsonp||[];n.registerAbsMids?n.registerAbsMids(e):(n.absMidsWaiting=n.absMidsWaiting||[]).push(e)})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[44,13,32,100,188],{176:function(e,t,n){var r,i;r=[n.dj.c(e.i),t,n(117),n(155),n(151)],void 0===(i=function(e,t,n,r,i){return function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),n.__decorate([i.subclass("esri.views.layers.support.ClipArea")],t)}(r.JSONSupport)}.apply(null,r))||(e.exports=i)},181:function(e,t,n){"use strict";n.r(t);var r=n(10),i=n.n(r)()(!0);i.push([e.i,".esri-scroll-zoom-toggle{padding:0.7em 1.5em}.esri-scroll-zoom-toggle--inner-wrapper{display:flex;flex-direction:row;align-items:center;cursor:pointer}.esri-scroll-zoom-toggle--input-checkbox{margin-left:1em;margin-bottom:6px;cursor:pointer}\n","",{version:3,sources:["webpack://src/components/mapcomponents/ScrollZoom.scss"],names:[],mappings:"AAAA,yBACC,mBAAoB,CACpB,wCAGA,YAAa,CACb,kBAAmB,CACnB,kBAAmB,CACnB,cAAe,CACf,yCAGA,eAAgB,CAChB,iBAAkB,CAClB,cAAe",sourcesContent:[".esri-scroll-zoom-toggle {\n\tpadding: 0.7em 1.5em;\n}\n\n.esri-scroll-zoom-toggle--inner-wrapper {\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: center;\n\tcursor: pointer;\n}\n\n.esri-scroll-zoom-toggle--input-checkbox {\n\tmargin-left: 1em;\n\tmargin-bottom: 6px;\n\tcursor: pointer;\n}\n"],sourceRoot:""}]),t.default=i},187:function(e,t,n){var r,i;r=[n.dj.c(e.i),t,n(117),n(159),n(174),n(166),n(155),n(152),n(151),n(170),n(163),n(194)],void 0===(i=function(e,t,n,r,i,o,a,s,l,c,u,p){var d=new o.default({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),h=function(e){function t(t){var n=e.call(this,t)||this;return n.displayFieldName=null,n.exceededTransferLimit=!1,n.features=[],n.fields=null,n.geometryType=null,n.hasM=!1,n.hasZ=!1,n.queryGeometry=null,n.spatialReference=null,n}return n.__extends(t,e),t.prototype.readFeatures=function(e,t){for(var n=c.fromJSON(t.spatialReference),r=[],o=0;o<e.length;o++){var a=e[o],l=i.fromJSON(a),u=a.geometry&&a.geometry.spatialReference;s.isSome(l.geometry)&&!u&&(l.geometry.spatialReference=n),r.push(l)}return r},t.prototype.writeGeometryType=function(e,t,n,r){if(e)d.write(e,t,n,r);else{var i=this.features;if(i)for(var o=0,a=i;o<a.length;o++){var l=a[o];if(l&&s.isSome(l.geometry))return void d.write(l.geometry.type,t,n,r)}}},t.prototype.writeSpatialReference=function(e,t){if(e)t.spatialReference=e.toJSON();else{var n=this.features;if(n)for(var r=0,i=n;r<i.length;r++){var o=i[r];o&&s.isSome(o.geometry)&&o.geometry.spatialReference&&(t.spatialReference=o.geometry.spatialReference.toJSON())}}},t.prototype.toJSON=function(e){var t=this.write(null);if(t.features&&Array.isArray(e)&&e.length>0)for(var n=0;n<t.features.length;n++){var r=t.features[n];if(r.geometry){var i=e&&e[n];r.geometry=i&&i.toJSON()||r.geometry}}return t},t.prototype.quantize=function(e){for(var t=e.scale,n=t[0],r=t[1],i=e.translate,o=i[0],a=i[1],l=this.features,c=this._getQuantizationFunction(this.geometryType,(function(e){return Math.round((e-o)/n)}),(function(e){return Math.round((a-e)/r)})),u=0,p=l.length;u<p;u++)c(s.unwrap(l[u].geometry))||(l.splice(u,1),u--,p--);return this.transform=e,this},t.prototype.unquantize=function(){var e=this.geometryType,t=this.features,n=this.transform;if(!n)return this;for(var r=n.translate,i=r[0],o=r[1],a=n.scale,l=a[0],c=a[1],u=this._getHydrationFunction(e,(function(e){return e*l+i}),(function(e){return o-e*c})),p=0,d=t;p<d.length;p++){var h=d[p].geometry;s.isSome(h)&&u(h)}return this},t.prototype._quantizePoints=function(e,t,n){for(var r,i,o=[],a=0,s=e.length;a<s;a++){var l=e[a];if(a>0){var c=t(l[0]),u=n(l[1]);c===r&&u===i||(o.push([c-r,u-i]),r=c,i=u)}else r=t(l[0]),i=n(l[1]),o.push([r,i])}return o.length>0?o:null},t.prototype._getQuantizationFunction=function(e,t,n){var r=this;return"point"===e?function(e){return e.x=t(e.x),e.y=n(e.y),e}:"polyline"===e||"polygon"===e?function(e){for(var i=u.isPolygon(e)?e.rings:e.paths,o=[],a=0,s=i.length;a<s;a++){var l=i[a],c=r._quantizePoints(l,t,n);c&&o.push(c)}return o.length>0?(u.isPolygon(e)?e.rings=o:e.paths=o,e):null}:"multipoint"===e?function(e){var i;return(i=r._quantizePoints(e.points,t,n)).length>0?(e.points=i,e):null}:"extent"===e?function(e){return e}:null},t.prototype._getHydrationFunction=function(e,t,n){return"point"===e?function(e){e.x=t(e.x),e.y=n(e.y)}:"polyline"===e||"polygon"===e?function(e){for(var r,i,o=u.isPolygon(e)?e.rings:e.paths,a=0,s=o.length;a<s;a++)for(var l=o[a],c=0,p=l.length;c<p;c++){var d=l[c];c>0?(r+=d[0],i+=d[1]):(r=d[0],i=d[1]),d[0]=t(r),d[1]=n(i)}}:"extent"===e?function(e){e.xmin=t(e.xmin),e.ymin=n(e.ymin),e.xmax=t(e.xmax),e.ymax=n(e.ymax)}:"multipoint"===e?function(e){for(var r,i,o=e.points,a=0,s=o.length;a<s;a++){var l=o[a];a>0?(r+=l[0],i+=l[1]):(r=l[0],i=l[1]),l[0]=t(r),l[1]=n(i)}}:void 0},n.__decorate([l.property({type:String,json:{write:!0}})],t.prototype,"displayFieldName",void 0),n.__decorate([l.property({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],t.prototype,"exceededTransferLimit",void 0),n.__decorate([l.property({type:[i],json:{write:!0}})],t.prototype,"features",void 0),n.__decorate([l.reader("features")],t.prototype,"readFeatures",null),n.__decorate([l.property({type:[p],json:{write:!0}})],t.prototype,"fields",void 0),n.__decorate([l.property({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:d.read}}})],t.prototype,"geometryType",void 0),n.__decorate([l.writer("geometryType")],t.prototype,"writeGeometryType",null),n.__decorate([l.property({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],t.prototype,"hasM",void 0),n.__decorate([l.property({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],t.prototype,"hasZ",void 0),n.__decorate([l.property({types:r.geometryTypes,json:{read:u.fromJSON,write:!0}})],t.prototype,"queryGeometry",void 0),n.__decorate([l.property({type:c,json:{write:!0}})],t.prototype,"spatialReference",void 0),n.__decorate([l.writer("spatialReference")],t.prototype,"writeSpatialReference",null),n.__decorate([l.property({json:{write:!0}})],t.prototype,"transform",void 0),n.__decorate([l.subclass("esri.tasks.support.FeatureSet")],t)}(a.JSONSupport);return h.prototype.toJSON.isDefaultToJSON=!0,h||(h={}),h}.apply(null,r))||(e.exports=i)},209:function(e,t,n){var r,i;r=[n.dj.c(e.i),t,n(117),n(151),n(176)],void 0===(i=function(e,t,n,r,i){return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="rect",t.left=null,t.right=null,t.top=null,t.bottom=null,t}var i;return n.__extends(t,e),i=t,t.prototype.clone=function(){return new i({left:this.left,right:this.right,top:this.top,bottom:this.bottom})},Object.defineProperty(t.prototype,"version",{get:function(){return(this._get("version")||0)+1},enumerable:!0,configurable:!0}),n.__decorate([r.property({type:[Number,String],json:{write:!0}})],t.prototype,"left",void 0),n.__decorate([r.property({type:[Number,String],json:{write:!0}})],t.prototype,"right",void 0),n.__decorate([r.property({type:[Number,String],json:{write:!0}})],t.prototype,"top",void 0),n.__decorate([r.property({type:[Number,String],json:{write:!0}})],t.prototype,"bottom",void 0),n.__decorate([r.property({readOnly:!0,dependsOn:["left","right","top","bottom"]})],t.prototype,"version",null),i=n.__decorate([r.subclass("esri.views.layers.support.ClipRect")],t)}(i)}.apply(null,r))||(e.exports=i)},212:function(e,t,n){var r=n(99),i=n(181);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1},a=r(i,o);if(!i.locals||e.hot.invalidate){var s=i.locals;e.hot.accept(181,(function(){"string"==typeof(i=(i=n(181)).__esModule?i.default:i)&&(i=[[e.i,i,""]]),function(e,t,n){if(!e&&t||e&&!t)return!1;var r;for(r in e)if((!n||"default"!==r)&&e[r]!==t[r])return!1;for(r in t)if(!(n&&"default"===r||e[r]))return!1;return!0}(s,i.locals)?(s=i.locals,a(i)):e.hot.invalidate()}))}e.hot.dispose((function(){a()})),e.exports=i.locals||{}},213:function(e,t,n){"use strict";var r=n(2),i=n.n(r),o=n(3),a=n(108),s=n.n(a),l=n(6),c=n(5),u=n(284),p=n.n(u),d=n(275),h=n.n(d),f=n(266),g=n.n(f),_=n(287),y=n.n(_),v=n(278),m=n.n(v),b=n(157),w=n(188),E=n.n(w),P=n(151),S=n(183);n(212);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var T,C,x,I=(T=function(e,t){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}T(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),A=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":O(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},M="esri-widget esri-scroll-zoom-toggle",D="esri-scroll-zoom-toggle--inner-wrapper",N="esri-scroll-zoom-toggle--input-checkbox",R=function(e){function t(t){var n=e.call(this,t)||this;return n.enabled=!1,n._toggleZoomOnScroll=function(){n.enabled=!n.enabled,n.enabled?(n.view.navigation.mouseWheelZoomEnabled=!0,n.view.navigation.browserTouchPanEnabled=!0):(n.view.navigation.mouseWheelZoomEnabled=!1,n.view.navigation.browserTouchPanEnabled=!1),console.log(n)},n}return I(t,e),t.prototype.render=function(){return Object(S.tsx)("div",{class:M},Object(S.tsx)("div",{class:D,onclick:this._toggleZoomOnScroll},Object(S.tsx)("div",null,"Enable Scroll Zoom"),Object(S.tsx)("input",{type:"checkbox",class:N,checked:this.enabled})))},A([Object(P.property)(),Object(S.renderable)()],t.prototype,"enabled",void 0),t=A([Object(P.subclass)("esri.widgets.ScrollZoom")],t)}(E.a),L=function(){return(L=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},k=function(e){var t=e.metadata,n=e.sources,o=e.customFeatures,a=e.customFeaturesPerPage,s=e.customMapDOM,l=e.pageRefs,u=e.currentPage,d=e.mapState,f=d.basemap,_=d.layers,v=d.position,w=d.customBehavior,E=Object(r.useRef)(null),P=Object(r.useState)(null),S=P[0],O=P[1],T=Object(r.useState)(!0),C=T[0],x=T[1],I=Object(r.useState)(null),A=I[0],M=I[1];return Object(r.useEffect)((function(){var e=new h.a({basemap:f||null,layers:_}),r=L(L({container:E.current,map:e},v),{navigation:{mouseWheelZoomEnabled:!1,browserTouchPanEnabled:!1}}),a=t.sceneview?new y.a(r):new g.a(r);(a.on("click",(function(e){console.log("view",a),console.log("extent",a.extent),console.log("mappoint",e.mapPoint)})),O({map:e,view:a}),t.fullWidthMap&&!t.sceneview)&&(document.querySelector("#"+t.name+" .esri-ui-top-left").style.left="calc(30% - 10px)");if(t.fullWidthMap&&t.sceneview){var s=document.querySelector("#"+t.name+' div[class^="SideCar"]');s.style.left="40px",s.style.width="500px",s.style.transition="all 0.5s";var l=new m.a({view:a,expandIconClass:"esri-icon-question",expandTooltip:"Information",expanded:!0});a.ui.add([{component:l,position:"top-left",index:0}]),l.container.addEventListener("click",(function(){l.expanded?(s.style.left="40px",s.style.opacity="1",s.style.pointerEvents="auto",s.style.transition="all 0.5s"):(s.style.left="35px",s.style.opacity="0",s.style.pointerEvents="none",s.style.transition="none")}));var u=new R({view:a});a.ui.add(u,"top-right")}document.createElement("div").innerHTML="Data sources here";var d=new m.a({view:a,expandIconClass:"clipboard-icon",expandTooltip:"Data Sources",collapseTooltip:"Close",content:p.a.renderToStaticMarkup(i.a.createElement(c.a,{sources:n,theme:t.theme}))});a.ui.add(d,"bottom-right"),t.disableSpinnerAfterInitialLoad?b.whenTrueOnce(a,"updating",(function(){x(!0)})):b.whenTrue(a,"updating",(function(){x(!0)})),b.whenFalse(a,"updating",(function(){x(!1)})),o&&o({map:e,view:a,layers:_})}),[]),Object(r.useEffect)((function(){S&&(S.map.layers=_)}),[_]),Object(r.useEffect)((function(){S&&(S.map.basemap=f)}),[f,S]),Object(r.useEffect)((function(){S&&v&&S.view.goTo({target:v.center,zoom:v.zoom},{duration:1e3})}),[v]),Object(r.useEffect)((function(){if(S)if(w){var e=S.map,t=S.view;A&&A();var n=w({map:e,view:t});M((function(){return n}))}else A&&A()}),[w,S]),Object(r.useEffect)((function(){if(S&&a){var e=S.view,t=S.map,n=a({map:t,view:e,layers:_,pageRefs:l,currentPage:u});if(n)return n}}),[S,u,a]),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"arcgis-map "+t.name,ref:E}),s&&S&&s(S),C&&i.a.createElement(c.c,null))},j=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},G=o.b.section.withConfig({displayName:"ChapterTemplate__Wrapper",componentId:"sc-1cxnsi8-0"})(C||(C=j(["\n\twidth: 100%;\n\theight: ",";\n\tmin-height: 500px;\n\tposition: relative;\n\tdisplay: flex;\n\tflex-direction: row;\n\tbackground-color: ",";\n\t/* scroll-snap-stop: always;\n\tscroll-snap-align: start; */\n"],["\n\twidth: 100%;\n\theight: ",";\n\tmin-height: 500px;\n\tposition: relative;\n\tdisplay: flex;\n\tflex-direction: row;\n\tbackground-color: ",";\n\t/* scroll-snap-stop: always;\n\tscroll-snap-align: start; */\n"])),(function(e){return e.height||100*e.screensTall+"vh"||"auto"}),(function(e){return"light"===e.maptheme?"":"#242424"})),F=o.b.div.withConfig({displayName:"ChapterTemplate__Trigger",componentId:"sc-1cxnsi8-1"})(x||(x=j(["\n\tposition: absolute;\n\ttop: 0px;\n\tleft: 0px;\n\theight: 3px;\n\twidth: 3px;\n\tpointer-events: none;\n"],["\n\tposition: absolute;\n\ttop: 0px;\n\tleft: 0px;\n\theight: 3px;\n\twidth: 3px;\n\tpointer-events: none;\n"])));t.a=function(e){e.customMap;var t=e.data,n=t.metadata,o=t.sources,a=t.customFeatures,u=t.customFeaturesPerPage,p=t.customMapDOM,d=t.customChapterDOM,h=t.pages,f=Object(r.useState)(0),g=f[0],_=f[1],y=Object(r.useContext)(l.a).dispatch,v={};return Object(r.useMemo)((function(){return i.a.createElement(G,{maptheme:n.theme,id:n.name,screensTall:h.length>1?h.length:1},i.a.createElement(c.i,{floating:n.fullWidthMap},h.map((function(e,t){return i.a.createElement(c.d,{floating:n.fullWidthMap,ref:function(e){return v[t]=e},key:n.name+"-page-"+t},i.a.createElement(c.e,{theme:n.theme,floating:n.fullWidthMap},i.a.createElement(c.g,null,e.title),i.a.createElement(c.f,{floating:n.fullWidthMap},e.content)),i.a.createElement(s.a,{onChange:function(e){e&&(y({type:"SET_NAV",payload:n.name}),_(t))}},(function(e){e.isVisible;return i.a.createElement(F,null)})))}))),i.a.createElement(s.a,{partialVisibility:!0},(function(e){var t=e.isVisible;return i.a.createElement(c.b,{fullWidth:n.fullWidthMap,className:"arcgis-map-"+n.theme},t&&i.a.createElement(k,{mapState:h[g].mapState,customFeatures:a,customFeaturesPerPage:u,customMapDOM:p,metadata:n,sources:o,pageRefs:v,currentPage:g}))})),d&&d)}),[g])}},219:function(e,t,n){var r,i;r=[n.dj.c(e.i),t,n(117),n(169),n(254),n(157),n(151),n(186),n(176),n(209),n(220),n(221)],void 0===(i=function(e,t,n,r,i,o,a,s,l,c,u,p){Object.defineProperty(t,"__esModule",{value:!0});var d=r.ofType({key:"type",base:l,typeMap:{rect:c,path:p,geometry:u}});t.LayerView2DMixin=function(e){return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.clips=new d,t.moving=!1,t.attached=!1,t.lastUpdateId=-1,t.updateRequested=!1,t}return n.__extends(t,e),t.prototype.initialize=function(){var e,t=this;this.container||(this.container=new s.Container),this.handles.add([o.init(this,"suspended",(function(e){t.container&&(t.container.visible=!e),t.view&&!e&&t.updateRequested&&t.view.requestUpdate()}),!0),o.init(this,["layer.opacity","container"],(function(){var e,n;t.container&&(t.container.opacity=null!==(n=null===(e=t.layer)||void 0===e?void 0:e.opacity)&&void 0!==n?n:1)}),!0),o.init(this,["layer.blendMode"],(function(e){t.container&&(t.container.blendMode=e)}),!0),this.clips.on("change",(function(){t.container.clips=t.clips,t.notifyChange("clips")}))]),this.container.clips=this.clips,(null===(e=this.view)||void 0===e?void 0:e.whenLayerView)?this.view.whenLayerView(this.layer).then((function(e){e!==t||t.attached||t.destroyed||(t.attach(),t.requestUpdate(),t.attached=!0)}),(function(){})):this.when().then((function(){t.attached||t.destroyed||(t.attach(),t.requestUpdate(),t.attached=!0)}),(function(){}))},t.prototype.destroy=function(){this.attached&&(this.detach(),this.attached=!1),this.handles.remove("initialize"),this.updateRequested=!1,this.layer=null,this.view=null},Object.defineProperty(t.prototype,"updating",{get:function(){return!this.attached||!this.suspended&&(this.updateRequested||this.isUpdating())},enumerable:!0,configurable:!0}),t.prototype.isVisibleAtScale=function(e){var t=!0,n=this.layer,r=n.minScale,i=n.maxScale;if(null!=r&&null!=i){var o=!r,a=!i;!o&&e<=r&&(o=!0),!a&&e>=i&&(a=!0),t=o&&a}return t},t.prototype.requestUpdate=function(){this.updateRequested||(this.updateRequested=!0,this.suspended||this.view.requestUpdate())},t.prototype.processUpdate=function(e){!this.isFulfilled()||this.isResolved()?(this._set("updateParameters",e),this.updateRequested&&!this.suspended&&(this.updateRequested=!1,this.update(e))):this.updateRequested=!1},t.prototype.isUpdating=function(){return!1},t.prototype.isRendering=function(){return!1},t.prototype.canResume=function(){return!!e.prototype.canResume.call(this)&&this.isVisibleAtScale(this.view.scale)},n.__decorate([a.property({type:d,set:function(e){var t=i.referenceSetter(e,this._get("clips"),d);this._set("clips",t)}})],t.prototype,"clips",void 0),n.__decorate([a.property()],t.prototype,"moving",void 0),n.__decorate([a.property()],t.prototype,"attached",void 0),n.__decorate([a.property()],t.prototype,"container",void 0),n.__decorate([a.property({dependsOn:["view.scale","layer.minScale","layer.maxScale"]})],t.prototype,"suspended",void 0),n.__decorate([a.property({readOnly:!0})],t.prototype,"updateParameters",void 0),n.__decorate([a.property()],t.prototype,"updateRequested",void 0),n.__decorate([a.property({dependsOn:["attached","updateRequested","suspended"]})],t.prototype,"updating",null),n.__decorate([a.property()],t.prototype,"view",void 0),n.__decorate([a.subclass("esri.views.2d.layers.LayerView2D")],t)}(e)}}.apply(null,r))||(e.exports=i)},220:function(e,t,n){var r,i;r=[n.dj.c(e.i),t,n(117),n(159),n(151),n(215),n(163),n(176)],void 0===(i=function(e,t,n,r,i,o,a,s){var l={base:o,key:"type",typeMap:{extent:r.Extent,polygon:r.Polygon}};return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="geometry",t.geometry=null,t}var r;return n.__extends(t,e),r=t,Object.defineProperty(t.prototype,"version",{get:function(){return(this._get("version")||0)+1},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new r({geometry:this.geometry.clone()})},n.__decorate([i.property({types:l,json:{read:a.fromJSON,write:!0}})],t.prototype,"geometry",void 0),n.__decorate([i.property({readOnly:!0,dependsOn:["geometry"]})],t.prototype,"version",null),r=n.__decorate([i.subclass("esri.views.layers.support.Geometry")],t)}(s)}.apply(null,r))||(e.exports=i)},221:function(e,t,n){var r,i;r=[n.dj.c(e.i),t,n(117),n(151),n(176)],void 0===(i=function(e,t,n,r,i){return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="path",t.path=[],t}return n.__extends(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return(this._get("version")||0)+1},enumerable:!0,configurable:!0}),n.__decorate([r.property({type:[[[Number]]],json:{write:!0}})],t.prototype,"path",void 0),n.__decorate([r.property({readOnly:!0,dependsOn:["path"]})],t.prototype,"version",null),n.__decorate([r.subclass("esri.views.layers.support.Path")],t)}(i)}.apply(null,r))||(e.exports=i)},2302:function(e,t,n){"use strict";n.r(t);var r=n(2),i=n.n(r),o=n(455),a=n.n(o),s=n(5),l=n(208),c=n.n(l),u=n(222),p=n.n(u),d=n(237),h=n.n(d),f=n(668),g=new p.a({url:"https://services.arcgis.com/LG9Yn2oFqZi5PnO5/arcgis/rest/services/Armed_Conflict_Location_Event_Data_ACLED/FeatureServer",outFields:["*"],definitionExpression:"Year = 2020",listMode:"hide"}),_=new p.a({url:"https://services.arcgis.com/P3ePLMYs2RVChkJx/arcgis/rest/services/World_Countries_(Generalized)/FeatureServer/0",legendEnabled:!1}),y=new(c.a.createSubclass({tileInfo:h.a.create({size:512,spatialReference:{wkid:3857}}),constructor:function(){this.color=[0,0,0,1],this.distance=2},createLayerView:function(e){if("2d"===e.type)return new f.a({view:e,layer:this})},properties:{color:{},geometry:{},distance:{}}}))({color:[0,0,0,.75],title:"Mask"}),v={metadata:{name:"belarus",theme:"dark",fullWidthMap:!1},sources:[{name:"The Armed Conflict Location & Event Data Project",url:"https://www.arcgis.com/home/item.html?id=a6e330c275dd421a9a3dda6e8e546f3d"}],pages:[{title:"Conflict in Belarus",content:i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,"Protests in 2020 were not limited to the United States. With the"," ",i.a.createElement(s.h,{theme:"dark",link:"https://theglobepost.com/2020/08/11/belarus-rigged-elections/",linkTitle:'"Potentially Rigged Elections in Belarus: What Did You Expect?", Hillman, A., Globe Post, Aug 11, 2020, Retrieved Dec 21, 2020'},"question election")," ","of President Alexander Lukashenko,"," ",i.a.createElement(s.h,{theme:"dark",link:"https://www.euronews.com/2020/05/25/belarus-hundreds-protest-in-minsk-against-president-lukashenko",linkTitle:'"Belarus: Hundreds protest in Minsk against President Lukashenko", Holroyd, M., Euronews, May 25, 2020, Retrieved Dec 21, 2020'},"protests erupted"," "),"across the country in May. Lukashenko responded"," ",i.a.createElement(s.h,{theme:"dark",link:"https://www.dw.com/en/belarus-lukashenko-outlaws-protests-arrests-opponents/a-53651863",linkTitle:'"Belarus\' Lukashenko outlaws protests, arrests opponents", dw.com, Jun 1, 2020, Retrieved Dec 21, 2020'},"with force"),", and a bitter battle between government and citizens"," ",i.a.createElement(s.h,{theme:"dark",linkTitle:'"Thousands of protesters march in Belarus, dozens detained", Aljazeera, Dec 6, 2020, Retrieved Dec 21, 2020',link:"https://www.aljazeera.com/news/2020/12/6/belarus-opposition-rallies-in-latest-protest-amid-arrests"},"continued")," ","through the end of the year."),i.a.createElement("p",null,"The red spots on the map represent protests. Click one for more details. This data, while not as detailed as the U.S. protest data, is part of a larger dataset documenting incidents of conflict around the world. Toggle off the mask layer and explore the globe to see what other conflicts occurred in 2020.")),mapState:{position:{center:[53,28],zoom:8},basemap:"dark-gray-vector",layers:[g,y]}}],customFeatures:function(e){var t=e.view;t.when((function(){t.popup.defaultPopupTemplateEnabled=!0}));var n=_.createQuery();n.where="ISO = 'BY'",_.queryFeatures(n).then((function(e){var n=e.features[0].geometry;console.log("geometry",n),y.geometry=n,t.goTo(n).catch((function(e){"AbortError"!=e.name&&console.error(e)}))}));var r=new a.a({view:t});t.ui.add(r,"top-right")}},m=n(213);t.default=function(){return i.a.createElement(m.a,{data:v})}},291:function(e,t,n){var r,i;r=[n.dj.c(e.i),t,n(153),n(310),n(311),n(161)],void 0===(i=function(e,t,r,i,o){Object.defineProperty(t,"__esModule",{value:!0});var a=null,s=null;t.isLoaded=function(){return!!a&&i.isLoaded()},t.isSupported=function(){return i.isSupported()};var l=null;t.load=function(){return l||(l=r.all([i.load(),new Promise((function(e,t){n.e(12).then(function(){var t=[n(381)];e.apply(null,t)}.bind(this)).catch(t.bind(this))})),new Promise((function(e,t){n.e(140).then(function(){var t=[n(405)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))]).then((function(e){var t=e[1],n=e[2].hydratedAdapter;s=n,(a=t)._enableProjection(i)})))},t.project=function(e,t,n){return void 0===n&&(n=null),e instanceof Array?0===e.length?[]:u(s,e,e[0].spatialReference,t,n):u(s,[e],e.spatialReference,t,n)[0]};var c={};function u(e,t,n,r,i){if(void 0===i&&(i=null),null===i){var s=o.cacheKey(n,r);void 0!==c[s]?i=c[s]:(null===(i=p(n,r,null))&&(i=new o),c[s]=i)}return a._project(e,t,n,r,i)}function p(e,t,n){void 0===n&&(n=null);var r=a._getTransformation(s,e,t,n,null==n?void 0:n.spatialReference);return null!==r?o.fromGE(r):null}t.projectMany=u,t.getTransformation=p,t.getTransformations=function(e,t,n){void 0===n&&(n=null);var r=a._getTransformationBySuitability(s,e,t,n,null==n?void 0:n.spatialReference);if(null!==r){for(var i=[],l=0,c=r;l<c.length;l++){var u=c[l];i.push(o.fromGE(u))}return i}return[]}}.apply(null,r))||(e.exports=i)},294:function(e,t,n){var r,i;r=[n.dj.c(e.i),t],void 0===(i=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});function n(e){if(e)return null!=e.listMode?e.listMode:void 0}function r(e){if(e)return null!=e.minScale?e.minScale:void 0}function i(e){if(e)return null!=e.maxScale?e.maxScale:void 0}function o(e){if(e&&"hide-children"!==e.listMode&&"wmts"!==e.type)return"group"===e.type?"layers":"sublayers"}function a(e,t){e&&e.sort((function(e,n){var r=t.indexOf(e.uid),i=t.indexOf(n.uid);return r>i?-1:r<i?1:0}))}t.findLayerListMode=n,t.findLayerMinScale=r,t.findLayerMaxScale=i,t.findLayerVisibilityMode=function(e){if(!e)return"inherited";var t=e.get("layer.capabilities.exportMap.supportsSublayerVisibility");if("boolean"==typeof t)return t?"independent":"inherited";var n=e.get("capabilities.exportMap.supportsSublayerVisibility");return"boolean"==typeof n?n?"independent":"inherited":null!=e.visibilityMode?e.visibilityMode:"independent"},t.getNormalizedChildLayerProperty=o,t.canSortSublayers=function(e){var t=e&&(e.get("layer.layer")||e.layer);if(!t)return!1;var n=t.get("capabilities.exportMap.supportsSublayersChanges");return"boolean"!=typeof n||n},t.canDisplayLayer=function(e){return"hide"!==n(e)},t.isLayerOutsideScaleRange=function(e,t){if(!e||isNaN(t))return!1;var n=r(e),o=i(e),a=!isNaN(n)&&n>0&&t>=n,s=!isNaN(o)&&o>0&&t<=o;return a||s},t.sortLayersToIds=a,t.sortChildLayersToIds=function(e,t){var n=null==e?void 0:e.layer;if(n){var r=o(n);r&&a(n.get(r),t)}},t.getItemLayers=function(e){var t=null==e?void 0:e.layer;return t&&"group"===t.type?t.layers:null},t.findSelectedItem=function(e,t){var n,r=null===(n=e.layer)||void 0===n?void 0:n.uid;return r&&t.find((function(e){var t;return(null===(t=e.layer)||void 0===t?void 0:t.uid)===r}))}}.apply(null,r))||(e.exports=i)},310:function(e,t,n){var r,i;r=[n.dj.c(e.i),t,n(117),n(271),n(164),n(153),n(161)],void 0===(i=function(e,t,r,i,o,a){var s,l,c,u,p,d;function h(e){function n(e,t,n){e[t]=n(e[t])}t._pe=e,l.init(),c.init(),u.init(),p.init(),d.init(),t.PeGCSExtent=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(n,e),n.prototype.destroy=function(){t._pe.destroy(this)},n}(t._pe.PeGCSExtent);for(var i=0,o=[t._pe.PeDatum,t._pe.PeGeogcs,t._pe.PeGeogtran,t._pe.PeObject,t._pe.PeParameter,t._pe.PePrimem,t._pe.PeProjcs,t._pe.PeSpheroid,t._pe.PeUnit];i<o.length;i++)n(o[i].prototype,"getName",(function(e){return function(){return e.call(this,new Array(l.PE_NAME_MAX))}}));for(var a=0,s=[t._pe.PeGeogtran,t._pe.PeProjcs];a<s.length;a++)n(s[a].prototype,"getParameters",(function(e){return function(){for(var n=new Array(l.PE_PARM_MAX),r=e.call(this),i=0;i<n.length;i++){var o=t._pe.getValue(r,"*");n[i]=o?t._pe.wrapPointer(o,t._pe.PeParameter):null,r+=Int32Array.BYTES_PER_ELEMENT}return n}}));n(t._pe.PeHorizon.prototype,"getCoord",(function(e){return function(){var t=this.getSize();if(!t)return null;var n=[];return y(n,t,e.call(this)),n}})),n(t._pe.PeGTlistExtendedEntry.prototype,"getEntries",(function(e){var n=t._pe._pe_getPeGTlistExtendedGTsSize();return function(){var r=null,i=e.call(this);if(!t._pe.compare(i,t._pe.NULL)){r=[i];var o=this.getSteps();if(o>1)for(var a=t._pe.getPointer(i),s=1;s<o;s++)r.push(t._pe.wrapPointer(a+n*s,t._pe.PeGTlistExtendedGTs))}return r}}));var h=t._pe._pe_getPeHorizonSize(),f=function(e){return function(){var n=this._cache;if(n||(n=new Map,this._cache=n),n.has(e))return n.get(e);var r=null,i=e.call(this);if(!t._pe.compare(i,t._pe.NULL)){r=[i];var o=i.getNump();if(o>1)for(var a=t._pe.getPointer(i),s=1;s<o;s++)r.push(t._pe.wrapPointer(a+h*s,t._pe.PeHorizon))}return n.set(e,r),r}};n(t._pe.PeProjcs.prototype,"horizonGcsGenerate",f),n(t._pe.PeProjcs.prototype,"horizonPcsGenerate",f),t._pe.PeObject.prototype.toString=function(e){void 0===e&&(e=l.PE_STR_OPTS_NONE),t._pe.ensureCache.prepare();var n=t._pe.getPointer(this),r=t._pe.ensureInt8(new Array(l.PE_BUFFER_MAX));return t._pe.UTF8ToString(t._pe._pe_object_to_string_ext(n,e,r))}}function f(e){if(e){var n=t._pe.getClass(e);if(n){var r=t._pe.getCache(n);if(r){var i=t._pe.getPointer(e);i&&delete r[i]}}}}function g(e,n){for(var r=[],i=new Array(n),o=0;o<e;o++)r.push(t._pe.ensureInt8(i));return r}function _(e){var t;return Array.isArray(e[0])?(t=[],e.forEach((function(e){t.push(e[0],e[1])}))):t=e,t}function y(e,n,r,i){if(void 0===i&&(i=!1),i)for(var o=0;o<2*n;o++)e[o]=t._pe.getValue(r+o*Float64Array.BYTES_PER_ELEMENT,"double");else{var a=0===e.length;for(o=0;o<n;o++)a&&(e[o]=new Array(2)),e[o][0]=t._pe.getValue(r,"double"),e[o][1]=t._pe.getValue(r+Float64Array.BYTES_PER_ELEMENT,"double"),r+=2*Float64Array.BYTES_PER_ELEMENT}}Object.defineProperty(t,"__esModule",{value:!0}),t._pe=null,t.isLoaded=function(){return!!t._pe},t.isSupported=function(){return!!o("esri-wasm")},t.load=function(){return s||(s=a.create((function(e,t){new Promise((function(e,t){n.e(122).then(function(){var t=[n(474)];e.apply(null,t)}.bind(this)).catch(t.bind(this))})).then((function(n){n({locateFile:function(e){return i.getAssetUrl("esri/geometry/support/"+e)},onAbort:function(e){t(new Error(e))}}).then((function(t){h(t),e()}))}))})))},function(e){function n(e,n,r){t._pe.ensureCache.prepare();var i=_(r),o=r===i,a=t._pe.ensureFloat64(i),s=t._pe._pe_geog_to_proj(t._pe.getPointer(e),n,a);return s&&y(r,n,a,o),s}function r(e,t,n){return i(e,t,n,0)}function i(e,n,r,i){t._pe.ensureCache.prepare();var o=_(r),a=r===o,s=t._pe.ensureFloat64(o),l=t._pe._pe_proj_to_geog_center(t._pe.getPointer(e),n,s,i);return l&&y(r,n,s,a),l}e.geogToProj=n,e.projGeog=function(e,t,i,o){switch(o){case l.PE_TRANSFORM_P_TO_G:return r(e,t,i);case l.PE_TRANSFORM_G_TO_P:return n(e,t,i)}return 0},e.projToGeog=r,e.projToGeogCenter=i}(t.PeCSTransformations||(t.PeCSTransformations={})),function(e){e.init=function(){e.PE_BUFFER_MAX=t._pe.PeDefs.prototype.PE_BUFFER_MAX,e.PE_NAME_MAX=t._pe.PeDefs.prototype.PE_NAME_MAX,e.PE_MGRS_MAX=t._pe.PeDefs.prototype.PE_MGRS_MAX,e.PE_USNG_MAX=t._pe.PeDefs.prototype.PE_USNG_MAX,e.PE_DD_MAX=t._pe.PeDefs.prototype.PE_DD_MAX,e.PE_DDM_MAX=t._pe.PeDefs.prototype.PE_DDM_MAX,e.PE_DMS_MAX=t._pe.PeDefs.prototype.PE_DMS_MAX,e.PE_UTM_MAX=t._pe.PeDefs.prototype.PE_UTM_MAX,e.PE_PARM_MAX=t._pe.PeDefs.prototype.PE_PARM_MAX,e.PE_TYPE_NONE=t._pe.PeDefs.prototype.PE_TYPE_NONE,e.PE_TYPE_GEOGCS=t._pe.PeDefs.prototype.PE_TYPE_GEOGCS,e.PE_TYPE_PROJCS=t._pe.PeDefs.prototype.PE_TYPE_PROJCS,e.PE_TYPE_GEOGTRAN=t._pe.PeDefs.prototype.PE_TYPE_GEOGTRAN,e.PE_TYPE_COORDSYS=t._pe.PeDefs.prototype.PE_TYPE_COORDSYS,e.PE_TYPE_UNIT=t._pe.PeDefs.prototype.PE_TYPE_UNIT,e.PE_STR_OPTS_NONE=t._pe.PeDefs.prototype.PE_STR_OPTS_NONE,e.PE_STR_AUTH_NONE=t._pe.PeDefs.prototype.PE_STR_AUTH_NONE,e.PE_STR_AUTH_TOP=t._pe.PeDefs.prototype.PE_STR_AUTH_TOP,e.PE_STR_NAME_CANON=t._pe.PeDefs.prototype.PE_STR_NAME_CANON,e.PE_PARM_X0=t._pe.PeDefs.prototype.PE_PARM_X0,e.PE_PARM_ND=t._pe.PeDefs.prototype.PE_PARM_ND,e.PE_TRANSFORM_1_TO_2=t._pe.PeDefs.prototype.PE_TRANSFORM_1_TO_2,e.PE_TRANSFORM_2_TO_1=t._pe.PeDefs.prototype.PE_TRANSFORM_2_TO_1,e.PE_TRANSFORM_P_TO_G=t._pe.PeDefs.prototype.PE_TRANSFORM_P_TO_G,e.PE_TRANSFORM_G_TO_P=t._pe.PeDefs.prototype.PE_TRANSFORM_G_TO_P,e.PE_HORIZON_RECT=t._pe.PeDefs.prototype.PE_HORIZON_RECT,e.PE_HORIZON_POLY=t._pe.PeDefs.prototype.PE_HORIZON_POLY,e.PE_HORIZON_LINE=t._pe.PeDefs.prototype.PE_HORIZON_LINE,e.PE_HORIZON_DELTA=t._pe.PeDefs.prototype.PE_HORIZON_DELTA}}(l=t.PeDefs||(t.PeDefs={})),function(e){var n={},r={};function i(e,r){var i=null,a=n[e];if(a||(a={},n[e]=a),a.hasOwnProperty(String(r)))i=a[r];else{var s=t._pe.PeFactory.prototype.factoryByType(e,r);t._pe.compare(s,t._pe.NULL)||(i=s,a[r]=i)}return o(i)}function o(e){if(e){var n=e.getType();switch(n){case l.PE_TYPE_GEOGCS:e=t._pe.castObject(e,t._pe.PeGeogcs);break;case l.PE_TYPE_PROJCS:e=t._pe.castObject(e,t._pe.PeProjcs);break;case l.PE_TYPE_GEOGTRAN:e=t._pe.castObject(e,t._pe.PeGeogtran);break;default:n&l.PE_TYPE_UNIT&&(e=t._pe.castObject(e,t._pe.PeUnit))}}return e}e.initialize=function(){t._pe.PeFactory.prototype.initialize(null)},e.coordsys=function(e){return i(l.PE_TYPE_COORDSYS,e)},e.factoryByType=i,e.fromString=function(e,n){var i=null,a=r[e];if(a||(a={},r[e]=a),a.hasOwnProperty(n))i=a[n];else{var s=t._pe.PeFactory.prototype.fromString(e,n);t._pe.compare(s,t._pe.NULL)||(i=s,a[n]=i)}return o(i)},e.geogcs=function(e){return i(l.PE_TYPE_GEOGCS,e)},e.geogtran=function(e){return i(l.PE_TYPE_GEOGTRAN,e)},e.getCode=function(e){return t._pe.PeFactory.prototype.getCode(e)},e.projcs=function(e){return i(l.PE_TYPE_PROJCS,e)},e.unit=function(e){return i(l.PE_TYPE_UNIT,e)}}(t.PeFactory||(t.PeFactory={})),t.PeGCSExtent=null,function(e){var n;e.init=function(){e.PE_GTLIST_OPTS_COMMON=t._pe.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,n=t._pe._pe_getPeGTlistExtendedEntrySize()},e.getGTlist=function(e,r,i,o,a,s){var l=null,c=new t._pe.PeInteger(s);try{var u=t._pe.PeGTlistExtended.prototype.getGTlist(e,r,i,o,a,c);if((s=c.val)&&(l=[u],s>1))for(var p=t._pe.getPointer(u),d=1;d<s;d++)l.push(t._pe.wrapPointer(p+n*d,t._pe.PeGTlistExtendedEntry))}finally{t._pe.destroy(c)}return l}}(c=t.PeGTlistExtended||(t.PeGTlistExtended={})),function(e){e.destroy=function(e){if(e&&e.length){for(var n=0,r=e;n<r.length;n++){var i=r[n];f(i),i.getEntries().forEach((function(e){f(e);var t=e.getGeogtran();f(t),t.getParameters().forEach(f),[t.getGeogcs1(),t.getGeogcs2()].forEach((function(e){f(e);var t=e.getDatum();f(t),f(t.getSpheroid()),f(e.getPrimem()),f(e.getUnit())}))}))}t._pe.PeGTlistExtendedEntry.prototype.Delete(e[0])}}}(t.PeGTlistExtendedEntry||(t.PeGTlistExtendedEntry={})),function(e){e.geogToGeog=function(e,n,r,i,o){t._pe.ensureCache.prepare();var a=_(r),s=r===a,l=t._pe.ensureFloat64(a),c=0;i&&(c=t._pe.ensureFloat64(i));var u=t._pe._pe_geog_to_geog(t._pe.getPointer(e),n,l,c,o);return u&&y(r,n,l,s),u}}(t.PeGTTransformations||(t.PeGTTransformations={})),function(e){function n(e,n,r,i,o,a){var s,c;switch(t._pe.ensureCache.prepare(),e){case"dd":s=t._pe._pe_geog_to_dd,c=l.PE_DD_MAX;break;case"ddm":s=t._pe._pe_geog_to_ddm,c=l.PE_DDM_MAX;break;case"dms":s=t._pe._pe_geog_to_dms,c=l.PE_DMS_MAX}var u=0;n&&(u=t._pe.getPointer(n));var p=_(i),d=t._pe.ensureFloat64(p),h=g(r,c),f=s(u,r,d,o,t._pe.ensureInt32(h));if(f)for(var y=0;y<r;y++)a[y]=t._pe.UTF8ToString(h[y]);return f}function r(e,n,r,i,o){var a;switch(t._pe.ensureCache.prepare(),e){case"dd":a=t._pe._pe_dd_to_geog;break;case"ddm":a=t._pe._pe_ddm_to_geog;break;case"dms":a=t._pe._pe_dms_to_geog}var s=0;n&&(s=t._pe.getPointer(n));var l=i.map((function(e){return t._pe.ensureString(e)})),c=t._pe.ensureInt32(l),u=t._pe.ensureFloat64(new Array(2*r)),p=a(s,r,c,u);return p&&y(o,r,u),p}e.geog_to_dms=function(e,t,r,i,o){return n("dms",e,t,r,i,o)},e.dms_to_geog=function(e,t,n,i){return r("dms",e,t,n,i)},e.geog_to_ddm=function(e,t,r,i,o){return n("ddm",e,t,r,i,o)},e.ddm_to_geog=function(e,t,n,i){return r("ddm",e,t,n,i)},e.geog_to_dd=function(e,t,r,i,o){return n("dd",e,t,r,i,o)},e.dd_to_geog=function(e,t,n,i){return r("dd",e,t,n,i)}}(t.PeNotationDms||(t.PeNotationDms={})),function(e){e.init=function(){e.PE_MGRS_STYLE_NEW=t._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=t._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=t._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=t._pe.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=t._pe.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES},e.geog_to_mgrs_extended=function(e,n,r,i,o,a,s){t._pe.ensureCache.prepare();var c=0;e&&(c=t._pe.getPointer(e));var u=_(r),p=t._pe.ensureFloat64(u),d=g(n,l.PE_MGRS_MAX),h=t._pe.ensureInt32(d),f=t._pe._pe_geog_to_mgrs_extended(c,n,p,i,o,a,h);if(f)for(var y=0;y<n;y++)s[y]=t._pe.UTF8ToString(d[y]);return f},e.mgrs_to_geog_extended=function(e,n,r,i,o){t._pe.ensureCache.prepare();var a=0;e&&(a=t._pe.getPointer(e));var s=r.map((function(e){return t._pe.ensureString(e)})),l=t._pe.ensureInt32(s),c=t._pe.ensureFloat64(new Array(2*n)),u=t._pe._pe_mgrs_to_geog_extended(a,n,l,i,c);return u&&y(o,n,c),u}}(u=t.PeNotationMgrs||(t.PeNotationMgrs={})),function(e){e.geog_to_usng=function(e,n,r,i,o,a,s){t._pe.ensureCache.prepare();var c=0;e&&(c=t._pe.getPointer(e));var u=_(r),p=t._pe.ensureFloat64(u),d=g(n,l.PE_MGRS_MAX),h=t._pe.ensureInt32(d),f=t._pe._pe_geog_to_usng(c,n,p,i,o,a,h);if(f)for(var y=0;y<n;y++)s[y]=t._pe.UTF8ToString(d[y]);return f},e.usng_to_geog=function(e,n,r,i){t._pe.ensureCache.prepare();var o=0;e&&(o=t._pe.getPointer(e));var a=r.map((function(e){return t._pe.ensureString(e)})),s=t._pe.ensureInt32(a),l=t._pe.ensureFloat64(new Array(2*n)),c=t._pe._pe_usng_to_geog(o,n,s,l);return c&&y(i,n,l),c}}(t.PeNotationUsng||(t.PeNotationUsng={})),function(e){e.init=function(){e.PE_UTM_OPTS_NONE=t._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=t._pe.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=t._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NS},e.geog_to_utm=function(e,n,r,i,o){t._pe.ensureCache.prepare();var a=0;e&&(a=t._pe.getPointer(e));var s=_(r),c=t._pe.ensureFloat64(s),u=g(n,l.PE_UTM_MAX),p=t._pe.ensureInt32(u),d=t._pe._pe_geog_to_utm(a,n,c,i,p);if(d)for(var h=0;h<n;h++)o[h]=t._pe.UTF8ToString(u[h]);return d},e.utm_to_geog=function(e,n,r,i,o){t._pe.ensureCache.prepare();var a=0;e&&(a=t._pe.getPointer(e));var s=r.map((function(e){return t._pe.ensureString(e)})),l=t._pe.ensureInt32(s),c=t._pe.ensureFloat64(new Array(2*n)),u=t._pe._pe_utm_to_geog(a,n,l,i,c);return u&&y(o,n,c),u}}(p=t.PeNotationUtm||(t.PeNotationUtm={})),function(e){var n=new Map;e.init=function(){e.PE_PCSINFO_OPTION_NONE=t._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=t._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=t._pe.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=t._pe.PePCSInfo.prototype.PE_POLE_POINT},e.generate=function(r,i){var o,a;return void 0===i&&(i=e.PE_PCSINFO_OPTION_DOMAIN),n.has(r)&&(a=n.get(r))[i]&&(o=a[i]),o||(o=t._pe.PePCSInfo.prototype.generate(r,i),a||(a=[],n.set(r,a)),a[i]=o),o}}(d=t.PePCSInfo||(t.PePCSInfo={})),function(e){e.version_string=function(){return t._pe.PeVersion.prototype.version_string()}}(t.PeVersion||(t.PeVersion={})),t._init=h}.apply(null,r))||(e.exports=i)},311:function(e,t,n){var r,i;r=[n.dj.c(e.i),t,n(312)],void 0===(i=function(e,t,n){return function(){function e(e){if(this.steps=[],this._cached_projection={},this._chain="",this._gtlistentry=null,e&&e.steps)for(var t=0,r=e.steps;t<r.length;t++){var i=r[t];i instanceof n?this.steps.push(i):this.steps.push(new n({wkid:i.wkid,wkt:i.wkt,isInverse:i.isInverse}))}}return e.cacheKey=function(e,t){return[void 0!==e.wkid&&null!==e.wkid?e.wkid.toString():"-1",void 0!==e.wkt&&null!==e.wkt?e.wkt.toString():"",void 0!==t.wkid&&null!==t.wkid?t.wkid.toString():"-1",void 0!==t.wkt&&null!==t.wkt?t.wkt.toString():""].join(",")},e.fromGE=function(t){for(var r=new e,i="",o=0,a=t.steps;o<a.length;o++){var s=a[o],l=n.fromGE(s);r.steps.push(l),i+=l.uid.toString()+","}return r._cached_projection={},r._gtlistentry=null,r._chain=i,r},e.prototype.getInverse=function(){var t=new e;t.steps=[];for(var n=this.steps.length-1;n>=0;n--){var r=this.steps[n];t.steps.push(r.getInverse())}return t},e.prototype.getGTListEntry=function(){for(var e="",t=0,n=this.steps;t<n.length;t++)e+=n[t].uid.toString()+",";return e!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=e),this._gtlistentry},e.prototype.assignCachedGe=function(t,n,r){this._cached_projection[e.cacheKey(t,n)]=r},e.prototype.getCachedGeTransformation=function(t,n){for(var r="",i=0,o=this.steps;i<o.length;i++)r+=o[i].uid.toString()+",";r!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=r);var a=this._cached_projection[e.cacheKey(t,n)];return void 0===a?null:a},e}()}.apply(null,r))||(e.exports=i)},312:function(e,t,n){var r,i;r=[n.dj.c(e.i),t],void 0===(i=function(e,t){var n=0;return function(){function e(e){void 0===e&&(e=null),this.uid=n++,e?(this._wkt=void 0!==e.wkt?e.wkt:null,this._wkid=void 0!==e.wkid?e.wkid:-1,this._isInverse=void 0!==e.isInverse&&!0===e.isInverse):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}return e.fromGE=function(t){var n=new e;return n._wkt=t.wkt,n._wkid=t.wkid,n._isInverse=t.isInverse,n},Object.defineProperty(e.prototype,"wkt",{get:function(){return this._wkt},set:function(e){this._wkt=e,this.uid=n++},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wkid",{get:function(){return this._wkid},set:function(e){this._wkid=e,this.uid=n++},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInverse",{get:function(){return this._isInverse},set:function(e){this._isInverse=e,this.uid=n++},enumerable:!0,configurable:!0}),e.prototype.getInverse=function(){var t=new e;return t._wkt=this.wkt,t._wkid=this._wkid,t._isInverse=!this.isInverse,t},e}()}.apply(null,r))||(e.exports=i)},347:function(e,t,n){var r,i;r=[n.dj.c(e.i),t,n(117),n(158),n(169),n(236),n(292),n(157),n(151),n(438),n(337),n(480),n(458),n(520),n(459),n(294)],void 0===(i=function(e,t,n,r,i,o,a,s,l,c,u,p,d,h,f,g){var _=i.ofType({key:"type",defaultKeyValue:"button",base:u,typeMap:{button:p,toggle:h,slider:d}}),y=i.ofType(_);return function(e){function t(t){var n=e.call(this,t)||this;return n.actionsSections=new y,n.actionsOpen=!1,n.children=new(i.ofType(r)),n.childrenSortable=!0,n.error=null,n.layer=null,n.layerView=null,n.open=!1,n.panel=null,n.parent=null,n.sortable=!0,n.view=null,n.visible=null,n}var r;return n.__extends(t,e),r=t,t.prototype.initialize=function(){var e=this;this.handles.add([s.init(this,"layer",(function(t){return e._watchLayerProperties(t)})),s.init(this,"view",(function(t){return e._updateChildren(t)})),s.init(this,"panel",(function(t){return e._setListItemOnPanel(t)})),s.init(this,["layer","view"],(function(){return e._getLayerView()}))])},t.prototype.destroy=function(){this.view=null},t.prototype.castPanel=function(e){return this.get("panel.open")&&!e.hasOwnProperty("open")&&(e.open=!0),e?new f(e):null},Object.defineProperty(t.prototype,"title",{get:function(){var e=this.get("layer.layer");return(!e||e&&this.get("layer.layer.loaded"))&&this.get("layer.title")||""},set:function(e){void 0!==e?this._override("title",e):this._clearOverride("title")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updating",{get:function(){var e=this.layerView;return e?e.updating:this._isLayerUpdating(this.layer)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visibleAtCurrentScale",{get:function(){return!g.isLayerOutsideScaleRange(this.layer,this.get("view.scale"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visibilityMode",{get:function(){return g.findLayerVisibilityMode(this.layer)},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new r({actionsSections:this.actionsSections.clone(),actionsOpen:this.actionsOpen,children:this.children.clone(),layer:this.layer,open:this.open,panel:this.panel,title:this.title,view:this.view,visible:this.visible})},t.prototype._setListItemOnPanel=function(e){e&&(e.listItem=this)},t.prototype._updateChildren=function(e){var t=this.children;t&&t.forEach((function(t){return t.view=e}))},t.prototype._addChildren=function(e){var t=this;if(this.handles.remove("child-list-mode"),this.children.removeAll(),e){e.forEach((function(n){t.handles.add(s.watch(n,"listMode",(function(){return t._addChildren(e)})),"child-list-mode")}));var n=[];e.filter((function(e){return"hide"!==g.findLayerListMode(e)})).forEach((function(e){if(g.canDisplayLayer(e)){var i=new r({layer:e,parent:t,view:t.view});n.unshift(i)}})),this.children.addMany(n)}},t.prototype._watchSublayerChanges=function(e){var t=this;e&&this.handles.add(e.on("change",(function(){t._addChildren(e)})),"layer")},t.prototype._initializeChildLayers=function(e){this._addChildren(e),this._watchSublayerChanges(e)},t.prototype._watchLayerProperties=function(e){var t=this;if(this.handles&&(this.handles.remove("layer"),this.handles.remove("child-list-mode"),e))if(this.handles.add(s.watch(e,"listMode",(function(){return t._watchLayerProperties(e)})),"layer"),"hide-children"!==g.findLayerListMode(e)){var n=g.getNormalizedChildLayerProperty(e);n&&this.handles.add(s.init(e,n,(function(){e.hasOwnProperty(n)&&t._initializeChildLayers(e[n])})),"layer")}else this.children.removeAll()},t.prototype._getLayerView=function(){return n.__awaiter(this,void 0,void 0,(function(){var e,t,r,i;return n.__generator(this,(function(n){switch(n.label){case 0:if(t=(e=this).layer,r=e.view,!t||!r)return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,r.whenLayerView(t)];case 2:return(i=n.sent()).layer!==this.layer?[2]:(this._set("layerView",i),[3,4]);case 3:return n.sent(),[3,4];case 4:return[2]}}))}))},t.prototype._isLayerUpdating=function(e){return!(e instanceof c)&&e&&"loading"===e.loadStatus},n.__decorate([l.property({type:y})],t.prototype,"actionsSections",void 0),n.__decorate([l.property()],t.prototype,"actionsOpen",void 0),n.__decorate([l.property({type:i})],t.prototype,"children",void 0),n.__decorate([l.property()],t.prototype,"childrenSortable",void 0),n.__decorate([l.aliasOf("layer.loadError?")],t.prototype,"error",void 0),n.__decorate([l.property()],t.prototype,"layer",void 0),n.__decorate([l.property({readOnly:!0})],t.prototype,"layerView",void 0),n.__decorate([l.property()],t.prototype,"open",void 0),n.__decorate([l.property({type:f})],t.prototype,"panel",void 0),n.__decorate([l.cast("panel")],t.prototype,"castPanel",null),n.__decorate([l.property()],t.prototype,"parent",void 0),n.__decorate([l.property()],t.prototype,"sortable",void 0),n.__decorate([l.property({dependsOn:["layer.layer?.loaded","layer.title"]})],t.prototype,"title",null),n.__decorate([l.property({dependsOn:["layer.loadStatus?","layerView.updating"],readOnly:!0})],t.prototype,"updating",null),n.__decorate([l.property({value:null})],t.prototype,"view",void 0),n.__decorate([l.aliasOf("layer.visible")],t.prototype,"visible",void 0),n.__decorate([l.property({dependsOn:["layer.minScale?","layer.maxScale?","view.scale"],readOnly:!0})],t.prototype,"visibleAtCurrentScale",null),n.__decorate([l.property({dependsOn:["layer.visibilityMode?","layer.capabilities?.exportMap?.supportsSublayerVisibility","layer.layer?.capabilities?.exportMap?.supportsSublayerVisibility"],readOnly:!0})],t.prototype,"visibilityMode",null),r=n.__decorate([l.subclass("esri.widgets.LayerList.ListItem")],t)}(a.IdentifiableMixin(o.HandleOwnerMixin(r)))}.apply(null,r))||(e.exports=i)},455:function(e,t,n){var r,i;r=[n.dj.c(e.i),t,n(117),n(169),n(335),n(270),n(167),n(164),n(156),n(157),n(151),n(456),n(188),n(457),n(347),n(294),n(183)],void 0===(i=function(e,t,n,r,i,o,a,s,l,c,u,p,d,h,f,g,_){function y(e,t,n){e.splice(n,0,e.splice(t,1)[0])}var v=r.ofType(f),m="esri-layer-list__list",b="esri-layer-list__list--independent",w="esri-layer-list__item",E="esri-layer-list__item-actions-menu-item",P="esri-layer-list__item-actions-menu-item--active",S="esri-layer-list__item-action-image",O="esri-layer-list__item-label",T="esri-layer-list__item-toggle",C="esri-icon-default-action",x="exclusive",I="inherited",A=l.getLogger("esri.widgets.LayerList"),M={statusIndicators:!0};return function(e){function t(t,r){var i=e.call(this,t,r)||this;return i._handles=new a,i._sortableNodes=new Map,i._sortableMap=new Map,i._focusSortUid=null,i._newUI=s("esri-layerlist-new-ui"),i.visibleItems=null,i.iconClass="esri-icon-layers",i.label=void 0,i.listItemCreatedFunction=null,i.messages=null,i.messagesCommon=null,i.multipleSelectionEnabled=!1,i.operationalItems=null,i.selectionEnabled=!1,i.selectedItems=new v,i.view=null,i.viewModel=new h,i.visibleElements=n.__assign({},M),i._onSortableSort=function(e){var t=e.to,n=e.from,r=e.item,o=e.newIndex;n&&t&&(n===t?i._sortLayers(i._sortableMap.get(n.dataset.group)):i._moveLayerFromChildList({to:t,from:n,item:r,newIndex:o}))},i._sortableCanPut=function(e,t,n){var r,i,o=e.el.dataset.group,a=t.el.dataset.group,s=e.el["data-item"],l=n["data-item"],c=null===(r=null==l?void 0:l.layer)||void 0===r?void 0:r.type,u=null===(i=null==s?void 0:s.layer)||void 0===i?void 0:i.type;return o&&a&&c&&!("group"===u&&"group"===c)},i._sortableCanPull=function(e,t,n){var r,i=e.el.dataset.group,o=t.el.dataset.group,a=n["data-item"],s=null===(r=null==a?void 0:a.layer)||void 0===r?void 0:r.type;return i&&o&&!!s},i._onSortableEnd=function(e){var t=e.oldIndex,n=e.from,r=e.to,i=e.item;n!==r&&n.insertBefore(i,n.children[t])},i}return n.__extends(t,e),t.prototype.initialize=function(){var e=this,t=this.operationalItems;this._setVisibleItems(t),this.own(c.on(this,"operationalItems","change",(function(){return e._itemsChanged(t)})),c.init(this,"selectionEnabled",(function(){return e._toggleAllSorting()})))},t.prototype.destroy=function(){this._destroySortables(),this._handles.destroy(),this._handles=null},Object.defineProperty(t.prototype,"statusIndicatorsVisible",{set:function(e){i.deprecatedProperty(A,"statusIndicatorsVisible",{replacement:"visibleElements.statusIndicators",version:"4.15"}),this.visibleElements=n.__assign(n.__assign({},this.visibleElements),{statusIndicators:e})},enumerable:!0,configurable:!0}),t.prototype.castVisibleElements=function(e){return n.__assign(n.__assign({},M),e)},t.prototype.triggerAction=function(e,t){this.viewModel.triggerAction(e,t)},t.prototype.render=function(){var e,t,n=this.visibleItems,r=this._newUI,i=null===(t=this.viewModel)||void 0===t?void 0:t.state,o=((e={})["esri-layer-list--new-ui"]=r,e["esri-hidden"]="loading"===i,e["esri-disabled"]="disabled"===i,e);return _.tsx("div",{class:this.classes("esri-layer-list esri-widget esri-widget--panel",o)},(null==n?void 0:n.length)?this.renderItems():this.renderNoItems())},t.prototype.renderNoItems=function(){return _.tsx("div",{class:"esri-layer-list__no-items"},this.messages.noItemsToDisplay)},t.prototype.renderItems=function(){var e=this,t=this.visibleItems,n=this.selectionEnabled,r=this.messages;return _.tsx("ul",{"aria-label":r.widgetLabel,role:n?"listbox":void 0,afterCreate:this._sortNodeCreated,afterUpdate:this._sortNodeCreated,afterRemoved:this._sortNodeRemoved,"data-group":"root",bind:this,class:this.classes(m,"esri-layer-list__list--root",b)},null==t?void 0:t.map((function(t){return e.renderItem(t,null)})).toArray())},t.prototype.renderActionsMenuIcon=function(e,t){var n,r=this.messagesCommon,i=((n={})[P]=e.actionsOpen,n),o=e.actionsOpen?r.close:r.open;return _.tsx("div",{key:"actions-menu-toggle","data-item":e,bind:this,onclick:this._toggleActionsOpen,onkeydown:this._toggleActionsOpen,class:this.classes(E,i),tabindex:"0",role:"button","aria-controls":t,"aria-label":o,title:o},_.tsx("span",{"aria-hidden":"true",class:"esri-icon-handle-horizontal"}))},t.prototype.renderActionsMenu=function(e,t,n,r){var i=e.panel,o=i&&i.visible?this.renderPanelButton(i):null,a=1===n&&this._getSingleActionButton(t),s=a?this.renderAction({item:e,action:a,singleAction:!0}):null,l=!a&&n?this.renderActionsMenuIcon(e,r):null;return l||o||a?_.tsx("div",{key:"actions-menu",class:"esri-layer-list__item-actions-menu"},o,s,l):null},t.prototype.renderChildList=function(e,t){var n,r,i=this,o=this.selectionEnabled,a=e.visibilityMode,s=e.children,l=!!e.error,c=!!s.length&&!l,u=!c&&o&&"group"===(null===(r=e.layer)||void 0===r?void 0:r.type),p=x,d=I,h=((n={})["esri-layer-list__list--exclusive"]=a===p,n["esri-layer-list__list--inherited"]=a===d,n[b]=a!==d&&a!==p,n);return c||u?_.tsx("ul",{bind:this,key:"list-items",id:t,"data-group":e.uid,"data-item":e,afterCreate:this._sortNodeCreated,afterUpdate:this._sortNodeCreated,afterRemoved:this._sortNodeRemoved,class:this.classes(m,h),"aria-expanded":e.open?"true":"false",role:o?"listbox":a===p?"radiogroup":"group",hidden:!e.open&&!u||null},null==s?void 0:s.map((function(t){return i.renderItem(t,e)})).toArray()):null},t.prototype.renderChildrenToggle=function(e,t){var n,r=this.messagesCommon,i=e.children,o=!!e.error,a=!!i.length&&!o,s=((n={})["esri-layer-list__child-toggle--open"]=e.open,n),l=e.open?r.collapse:r.expand;return a?_.tsx("span",{onclick:this._toggleChildrenClick,onkeydown:this._toggleChildrenClick,"data-item":e,key:"toggle-children",class:this.classes("esri-layer-list__child-toggle",s),tabindex:"0",role:"button","aria-controls":t,"aria-label":l,title:l},_.tsx("span",{"aria-hidden":"true",class:this.classes("esri-layer-list__child-toggle-icon--closed","esri-icon-right-triangle-arrow")}),_.tsx("span",{"aria-hidden":"true",class:this.classes("esri-layer-list__child-toggle-icon--opened","esri-icon-down-arrow")}),_.tsx("span",{"aria-hidden":"true",class:this.classes("esri-layer-list__child-toggle-icon--closed-rtl","esri-icon-left-triangle-arrow")})):null},t.prototype.renderError=function(e){return e.error?_.tsx("div",{key:"esri-layer-list__error",class:"esri-layer-list__item-error-message",role:"alert"},_.tsx("span",null,this.messages.layerError)):null},t.prototype.renderItemContent=function(e,t,n){var r=this.id+"_"+e.uid,i=r+"_actions",o=r+"__list",a=e.panel,s=this._filterActions(e.actionsSections),l=this._countActions(s);return[_.tsx("div",{key:"list-item-container",class:"esri-layer-list__item-container"},this.renderChildrenToggle(e,o),this.renderLabel(e,t,n),this.renderActionsMenu(e,s,l,i)),this.renderError(e),l?this.renderActionsSections(e,s,i):null,a&&a.open?a.render():null,this.renderChildList(e,o)]},t.prototype.renderItem=function(e,t){var r,i,o,a=this,s=a._newUI,l=a.id,c=a.selectionEnabled,u=a.selectedItems,p=a.visibleElements,d=e.children,h=l+"_"+e.uid+"__title",f=!!e.error,y=!!d.length&&!f,v=((r={})["esri-layer-list__item--has-children"]=y,r["esri-layer-list__item--error"]=!!f,r["esri-layer-list__item--updating"]=e.updating&&!t&&p.statusIndicators,r["esri-layer-list__item--invisible"]=s&&!e.visible,r["esri-layer-list__item--invisible-at-scale"]=!e.visibleAtCurrentScale,r["esri-layer-list__item--selectable"]=c,r);if(c){var m=((i={})["data-layer-uid"]=null===(o=e.layer)||void 0===o?void 0:o.uid,i["data-sort-filter"]=(!e.sortable).toString(),i);return _.tsx("li",n.__assign({key:"item-with-selection-"+e.uid,bind:this,afterCreate:this._focusListItem,afterUpdate:this._focusListItem,class:this.classes(w,v),"aria-labelledby":h,onclick:this._toggleSelection,onkeydown:this._selectionKeydown,"data-item":e,"data-group":t?t.uid:"root",tabIndex:0,"aria-selected":g.findSelectedItem(e,u)?"true":"false",role:"option"},m),this.renderItemContent(e,t,h))}return _.tsx("li",{key:"item-no-selection-"+e.uid,bind:this,afterCreate:this._focusListItem,afterUpdate:this._focusListItem,class:this.classes(w,v),"aria-labelledby":h},this.renderItemContent(e,t,h))},t.prototype.renderItemTitle=function(e,t){var n=this.messages,r=e.title||n.untitledLayer,i=e.visibleAtCurrentScale?r:r+" ("+n.layerInvisibleAtScale+")";return _.tsx("span",{key:"layer-title-container",id:t,title:i,"aria-label":i,class:"esri-layer-list__item-title"},r)},t.prototype.renderItemToggleIcon=function(e,t){var n,r=this._newUI,i=x,o=t&&t.visibilityMode,a=((n={})["esri-layer-list__item-toggle-icon"]=r,n["esri-layer-list__item-toggle-icon"]=r&&o!==i,n["esri-layer-list__item-radio-icon"]=r&&o===i,n["esri-icon-radio-checked"]=o===i&&e.visible,n["esri-icon-radio-unchecked"]=o===i&&!e.visible,n["esri-icon-visible"]=o!==i&&e.visible,n["esri-icon-non-visible"]=o!==i&&!e.visible,n);return _.tsx("span",{key:"item-toggle-icon",class:this.classes(a),"aria-hidden":"true"})},t.prototype.renderItemToggle=function(e,t,n){var r=this.selectionEnabled,i=t&&t.visibilityMode,o="exclusive"===i?"radio":"switch";return r?_.tsx("span",{key:"item-toggle-selection-enabled",class:T,bind:this,onclick:this._toggleVisibility,onkeydown:this._toggleVisibility,"data-item":e,"data-parent-visibility":i,tabIndex:0,"aria-checked":e.visible?"true":"false",role:o,"aria-labelledby":n},this.renderItemToggleIcon(e,t)):_.tsx("span",{key:"item-toggle",class:T},this.renderItemToggleIcon(e,t))},t.prototype.renderItemError=function(e){return e.error?_.tsx("span",{key:"notice-triangle","aria-hidden":"true",class:"esri-icon-notice-triangle"}):null},t.prototype.renderLabel=function(e,t,n){var r=this.selectionEnabled,i=this._newUI,o=null==t?void 0:t.visibilityMode,a="exclusive"===o?"radio":"switch",s=[this.renderItemToggle(e,t,n),this.renderItemTitle(e,n)];i&&s.reverse();var l=r?_.tsx("div",{key:"item-label-no-selection-"+e.uid,class:O},s):_.tsx("div",{key:"item-label-with-selection-"+e.uid,class:O,bind:this,onclick:this._toggleVisibility,onkeydown:this._toggleVisibility,"data-item":e,"data-parent-visibility":o,tabIndex:0,"aria-checked":e.visible?"true":"false",role:a,"aria-labelledby":n},s);return"inherited"===o||e.error?_.tsx("div",{key:"item-label-container-"+e.uid,class:O},this.renderItemError(e),this.renderItemTitle(e,n)):l},t.prototype.renderPanelButton=function(e){var t,n,r=e.className,i=e.open,o=e.title,a=e.image||r?r:C,s=this._getIconImageStyles(e),l=((t={})[P]=i,t),c=((n={})[S]=!!s["background-image"],n);return a&&(c[a]=!!a),_.tsx("div",{key:e,bind:this,"data-panel":e,onclick:this._triggerPanel,onkeydown:this._triggerPanel,class:this.classes(E,l),role:"button",tabindex:"0",title:o,"aria-label":o},_.tsx("span",{class:this.classes(c),styles:s}))},t.prototype.renderActionsSections=function(e,t,n){var r=this,i=t.toArray().map((function(t){return _.tsx("ul",{key:t,class:"esri-layer-list__item-actions-list"},r.renderActionSection(e,t))}));return _.tsx("div",{role:"group","aria-expanded":e.actionsOpen?"true":"false",key:"actions-section",id:n,class:"esri-layer-list__item-actions",hidden:!e.actionsOpen||null},i)},t.prototype.renderActionSection=function(e,t){var n=this;return(t&&t.toArray()).map((function(t){return n.renderAction({item:e,action:t})}))},t.prototype.renderActionIcon=function(e){var t,n=e.active,r=e.className,i=this._getIconImageStyles(e),o="button"!==e.type||e.image||r?r:C,a=((t={})[S]=!n&&!!i["background-image"],t["esri-icon-loading-indicator"]=n,t["esri-rotating"]=n,t);return o&&!n&&(a[o]=!0),_.tsx("span",{key:"action-icon","aria-hidden":"true",class:this.classes("esri-layer-list__item-action-icon",a),styles:i})},t.prototype.renderActionTitle=function(e,t){return t?null:_.tsx("span",{key:"action-title",class:"esri-layer-list__item-action-title"},e)},t.prototype.renderAction=function(e){var t,n=e.item,r=e.action,i=e.singleAction,o=r.active,a=r.disabled,s=r.title,l=((t={})[E]=i&&"button"===r.type,t["esri-layer-list__item-action"]=o||!i&&"toggle"!==r.type,t["esri-layer-list__action-toggle"]=!o&&"toggle"===r.type,t["esri-layer-list__action-toggle--on"]=!o&&"toggle"===r.type&&r.value,t["esri-disabled-element"]=a,t),c=[this.renderActionIcon(r),this.renderActionTitle(s,i)];return i?_.tsx("div",{bind:this,"data-item":n,"data-action":r,role:"button",key:r,onclick:this._triggerAction,onkeydown:this._triggerAction,classes:l,tabindex:"0",title:s,"aria-label":s},c):_.tsx("li",{bind:this,"data-item":n,"data-action":r,key:r,onclick:this._triggerAction,onkeydown:this._triggerAction,classes:l,tabindex:"0",role:"button",title:s,"aria-label":s},c)},t.prototype._sortNodeRemoved=function(e){var t=this._sortableMap,n=e.dataset.group,r=t.get(n);r&&r.destroy(),t.delete(n)},t.prototype._destroySortables=function(){var e=this._sortableMap,t=this._sortableNodes;e.forEach((function(e){return e&&e.destroy()})),e.clear(),t.clear()},t.prototype._moveLayerFromChildList=function(e){var t=e.to,n=e.from,r=e.item,i=e.newIndex,o=r["data-item"],a=t["data-item"],s=n["data-item"];this.viewModel.moveListItem(o,s,a,i)},t.prototype._sortLayers=function(e){var t,n;if(e){var r=e.el["data-item"],i=e.toArray();r?g.sortChildLayersToIds(r,i):g.sortLayersToIds(null===(n=null===(t=this.view)||void 0===t?void 0:t.map)||void 0===n?void 0:n.layers,i)}},t.prototype._toggleSorting=function(e,t){var n=this._sortableMap,r=this.selectionEnabled,i=n.get(t),o=e["data-item"],a=("root"===t||o.childrenSortable&&g.canSortSublayers(o))&&r;if(i)i.option("disabled",!a);else if(a){var s=p.create(e,{dataIdAttr:"data-layer-uid",group:{name:t,pull:this._sortableCanPull,put:this._sortableCanPut},filter:'[data-sort-filter="true"]',fallbackTolerance:4,onSort:this._onSortableSort,onEnd:this._onSortableEnd,disabled:!a,chosenClass:"esri-layer-list--chosen"});n.set(t,s)}},t.prototype._toggleAllSorting=function(){var e=this;this._sortableNodes.forEach((function(t,n){return e._toggleSorting(t,n)}))},t.prototype._sortNodeCreated=function(e){var t=e.dataset.group;t&&(this._sortableNodes.set(t,e),this._toggleSorting(e,t))},t.prototype._setVisibleItems=function(e){var t=this;this.visibleItems=null==e?void 0:e.filter((function(e){return t.errorsVisible||!e.error}))},t.prototype._getSingleActionButton=function(e){return e.reduce((function(e){return e})).filter((function(e){return e&&"button"===e.type})).getItemAt(0)},t.prototype._focusListItem=function(e){var t,n=this._focusSortUid;e&&n&&(null===(t=e["data-item"].layer)||void 0===t?void 0:t.uid)===n&&(e.focus(),this._focusSortUid=null)},t.prototype._watchActionSectionChanges=function(e,t){var n=this,r="action-section"+t;this._handles.add(e.on("change",this.scheduleRender.bind(this)),r),e.forEach((function(e){return n._renderOnActionChanges(e,t)}))},t.prototype._renderOnActionChanges=function(e,t){var n=this,r="actions"+t;"toggle"!==e.type?"slider"!==e.type?this._handles.add([c.init(e,["className","image","id","title","visible"],(function(){return n.scheduleRender()}))],r):this._handles.add([c.init(e,["className","id","title","visible","value","displayValueEnabled","max","min","step"],(function(){return n.scheduleRender()}))],r):this._handles.add([c.init(e,["className","image","id","title","visible","value"],(function(){return n.scheduleRender()}))],r)},t.prototype._renderOnItemChanges=function(e){var t=this,n=e.uid,r="items"+n;this._handles.add([c.init(e,["actionsOpen","visible","open","updating","title","visibleAtCurrentScale","error","visibilityMode","panel","panel.title","panel.content","panel.className","sortable","childrenSortable"],(function(){return t.scheduleRender()})),e.actionsSections.on("change",(function(){return t.scheduleRender()})),e.children.on("change",(function(){return t.scheduleRender()}))],r),e.children.forEach((function(e){return t._renderOnItemChanges(e)})),e.actionsSections.forEach((function(e){return t._watchActionSectionChanges(e,n)}))},t.prototype._itemsChanged=function(e){var t=this;this._handles.removeAll(),e.forEach((function(e){return t._renderOnItemChanges(e)})),this._setVisibleItems(e),this.scheduleRender()},t.prototype._filterActions=function(e){return e.map((function(e){return e.filter((function(e){return e.visible}))}))},t.prototype._countActions=function(e){return e.reduce((function(e,t){return e+t.length}),0)},t.prototype._getIconImageStyles=function(e){var t="esri.widgets.LayerList.ListItemPanel"===e.declaredClass||"esri.support.Action.ActionButton"===e.declaredClass||"esri.support.Action.ActionToggle"===e.declaredClass?e.image:null;return{"background-image":t?'url("'+t+'")':null}},t.prototype._selectionKeydown=function(e){var t,n,r,i,a=o.eventKey(e);if(-1!==["ArrowDown","ArrowUp"].indexOf(a)){e.stopPropagation();var s=e.currentTarget,l=s["data-item"],c=this._sortableMap,u=this.selectedItems,p=s.dataset.group,d=c.get(p);if(d){var h=g.findSelectedItem(l,u),f=d.toArray(),_=e.target,v=f.indexOf(_.dataset.layerUid);if(-1!==v){if("ArrowDown"===a){if((m=v+1)>=f.length)return;h?(y(f,v,m),d.sort(f),this._sortLayers(d),this._focusSortUid=null===(t=l.layer)||void 0===t?void 0:t.uid):(this._focusSortUid=null===(n=l.layer)||void 0===n?void 0:n.uid,this.scheduleRender())}if("ArrowUp"===a){var m;if((m=v-1)<=-1)return;h?(y(f,v,m),d.sort(f),this._sortLayers(d),this._focusSortUid=null===(r=l.layer)||void 0===r?void 0:r.uid):(this._focusSortUid=null===(i=l.layer)||void 0===i?void 0:i.uid,this.scheduleRender())}}}}else this._toggleSelection(e)},t.prototype._toggleActionsOpen=function(e){var t=e.currentTarget["data-item"],n=!t.actionsOpen;n&&this.operationalItems.forEach((function(e){return function e(t){var n=t.actionsOpen,r=t.children;n&&(t.actionsOpen=!1),r.forEach((function(t){return e(t)}))}(e)})),t.actionsOpen=n,e.stopPropagation()},t.prototype._triggerPanel=function(e){var t=e.currentTarget["data-panel"];t&&(t.open=!t.open),e.stopPropagation()},t.prototype._triggerAction=function(e){var t=e.currentTarget,n=t["data-action"],r=t["data-item"];"toggle"===n.type&&(n.value=!n.value),this.triggerAction(n,r),e.stopPropagation()},t.prototype._toggleVisibility=function(e){var t=e.currentTarget,n=t.getAttribute("data-parent-visibility"),r=t["data-item"];n===x&&r.visible||(r.visible=!r.visible),e.stopPropagation()},t.prototype._toggleChildrenClick=function(e){var t=e.currentTarget["data-item"];t.open=!t.open,e.stopPropagation()},t.prototype._toggleSelection=function(e){e.stopPropagation();var t=this.multipleSelectionEnabled,n=this.selectedItems,r=t&&(e.metaKey||e.ctrlKey),i=e.currentTarget["data-item"],o=g.findSelectedItem(i,n),a=n.length;if(!r)return!a||o&&1===a?void(o?n.remove(o):n.add(i)):(n.removeAll(),void n.add(i));o?n.remove(o):n.add(i)},n.__decorate([u.property()],t.prototype,"visibleItems",void 0),n.__decorate([u.property()],t.prototype,"iconClass",void 0),n.__decorate([u.property(),_.renderable()],t.prototype,"errorsVisible",void 0),n.__decorate([u.property({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],t.prototype,"label",void 0),n.__decorate([u.aliasOf("viewModel.listItemCreatedFunction"),_.renderable()],t.prototype,"listItemCreatedFunction",void 0),n.__decorate([u.property(),_.renderable(),_.messageBundle("esri/widgets/LayerList/t9n/LayerList")],t.prototype,"messages",void 0),n.__decorate([u.property(),_.renderable(),_.messageBundle("esri/t9n/common")],t.prototype,"messagesCommon",void 0),n.__decorate([u.property()],t.prototype,"multipleSelectionEnabled",void 0),n.__decorate([u.aliasOf("viewModel.operationalItems"),_.renderable()],t.prototype,"operationalItems",void 0),n.__decorate([u.property(),_.renderable()],t.prototype,"selectionEnabled",void 0),n.__decorate([u.property(),_.renderable()],t.prototype,"selectedItems",void 0),n.__decorate([u.property(),_.renderable()],t.prototype,"statusIndicatorsVisible",null),n.__decorate([u.aliasOf("viewModel.view"),_.renderable()],t.prototype,"view",void 0),n.__decorate([_.vmEvent("trigger-action"),u.property({type:h}),_.renderable("viewModel.state")],t.prototype,"viewModel",void 0),n.__decorate([u.property(),_.renderable()],t.prototype,"visibleElements",void 0),n.__decorate([u.cast("visibleElements")],t.prototype,"castVisibleElements",null),n.__decorate([u.aliasOf("viewModel.triggerAction")],t.prototype,"triggerAction",null),n.__decorate([_.accessibleHandler()],t.prototype,"_toggleActionsOpen",null),n.__decorate([_.accessibleHandler()],t.prototype,"_triggerPanel",null),n.__decorate([_.accessibleHandler()],t.prototype,"_triggerAction",null),n.__decorate([_.accessibleHandler()],t.prototype,"_toggleVisibility",null),n.__decorate([_.accessibleHandler()],t.prototype,"_toggleChildrenClick",null),n.__decorate([_.accessibleHandler()],t.prototype,"_toggleSelection",null),n.__decorate([u.subclass("esri.widgets.LayerList")],t)}(d)}.apply(null,r))||(e.exports=i)},456:function(e,t,n){
/**!
 * Sortable 1.10.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
e.exports=function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function r(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),i.forEach((function(n){t(e,n,r[n])}))}return e}function i(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function o(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e){return!!navigator.userAgent.match(e)}var s=a(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),l=a(/Edge/i),c=a(/firefox/i),u=a(/safari/i)&&!a(/chrome/i)&&!a(/android/i),p=a(/iP(ad|od|hone)/i),d=a(/chrome/i)&&a(/android/i),h={capture:!1,passive:!1};function f(e,t,n){e.addEventListener(t,n,!s&&h)}function g(e,t,n){e.removeEventListener(t,n,!s&&h)}function _(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function y(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function v(e,t,n,r){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&_(e,t):_(e,t))||r&&e===n)return e;if(e===n)break}while(e=y(e))}return null}var m,b=/\s+/g;function w(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(b," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(b," ")}}function E(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in r||-1!==t.indexOf("webkit")||(t="-webkit-"+t),r[t]=n+("string"==typeof n?"":"px")}}function P(e,t){var n="";if("string"==typeof e)n=e;else do{var r=E(e,"transform");r&&"none"!==r&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix;return i&&new i(n)}function S(e,t,n){if(e){var r=e.getElementsByTagName(t),i=0,o=r.length;if(n)for(;i<o;i++)n(r[i],i);return r}return[]}function O(){return s?document.documentElement:document.scrollingElement}function T(e,t,n,r,i){if(e.getBoundingClientRect||e===window){var o,a,l,c,u,p,d;if(e!==window&&e!==O()?(a=(o=e.getBoundingClientRect()).top,l=o.left,c=o.bottom,u=o.right,p=o.height,d=o.width):(a=0,l=0,c=window.innerHeight,u=window.innerWidth,p=window.innerHeight,d=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!s))do{if(i&&i.getBoundingClientRect&&("none"!==E(i,"transform")||n&&"static"!==E(i,"position"))){var h=i.getBoundingClientRect();a-=h.top+parseInt(E(i,"border-top-width")),l-=h.left+parseInt(E(i,"border-left-width")),c=a+o.height,u=l+o.width;break}}while(i=i.parentNode);if(r&&e!==window){var f=P(i||e),g=f&&f.a,_=f&&f.d;f&&(c=(a/=_)+(p/=_),u=(l/=g)+(d/=g))}return{top:a,left:l,bottom:c,right:u,width:d,height:p}}}function C(e,t,n){for(var r=D(e,!0),i=T(e)[t];r;){var o=T(r)[n];if(!("top"===n||"left"===n?i>=o:i<=o))return r;if(r===O())break;r=D(r,!1)}return!1}function x(e,t,n){for(var r=0,i=0,o=e.children;i<o.length;){if("none"!==o[i].style.display&&o[i]!==ke.ghost&&o[i]!==ke.dragged&&v(o[i],n.draggable,e,!1)){if(r===t)return o[i];r++}i++}return null}function I(e,t){for(var n=e.lastElementChild;n&&(n===ke.ghost||"none"===E(n,"display")||t&&!_(n,t));)n=n.previousElementSibling;return n||null}function A(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===ke.clone||t&&!_(e,t)||n++;return n}function M(e){var t=0,n=0,r=O();if(e)do{var i=P(e),o=i.a,a=i.d;t+=e.scrollLeft*o,n+=e.scrollTop*a}while(e!==r&&(e=e.parentNode));return[t,n]}function D(e,t){if(!e||!e.getBoundingClientRect)return O();var n=e,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=E(n);if(n.clientWidth<n.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!n.getBoundingClientRect||n===document.body)return O();if(r||t)return n;r=!0}}}while(n=n.parentNode);return O()}function N(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function R(e,t){return function(){if(!m){var n=arguments,r=this;1===n.length?e.call(r,n[0]):e.apply(r,n),m=setTimeout((function(){m=void 0}),t)}}}function L(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function k(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function j(e,t){E(e,"position","absolute"),E(e,"top",t.top),E(e,"left",t.left),E(e,"width",t.width),E(e,"height",t.height)}function G(e){E(e,"position",""),E(e,"top",""),E(e,"left",""),E(e,"width",""),E(e,"height","")}var F="Sortable"+(new Date).getTime();function U(){var e,t=[];return{captureAnimationState:function(){t=[],this.options.animation&&[].slice.call(this.el.children).forEach((function(e){if("none"!==E(e,"display")&&e!==ke.ghost){t.push({target:e,rect:T(e)});var n=r({},t[t.length-1].rect);if(e.thisAnimationDuration){var i=P(e,!0);i&&(n.top-=i.f,n.left-=i.e)}e.fromRect=n}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n);return-1}(t,{target:e}),1)},animateAll:function(n){var r=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof n&&n());var i=!1,o=0;t.forEach((function(e){var t=0,n=e.target,a=n.fromRect,s=T(n),l=n.prevFromRect,c=n.prevToRect,u=e.rect,p=P(n,!0);p&&(s.top-=p.f,s.left-=p.e),n.toRect=s,n.thisAnimationDuration&&N(l,s)&&!N(a,s)&&(u.top-s.top)/(u.left-s.left)==(a.top-s.top)/(a.left-s.left)&&(t=function(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}(u,l,c,r.options)),N(s,a)||(n.prevFromRect=a,n.prevToRect=s,t||(t=r.options.animation),r.animate(n,u,s,t)),t&&(i=!0,o=Math.max(o,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),i?e=setTimeout((function(){"function"==typeof n&&n()}),o):"function"==typeof n&&n(),t=[]},animate:function(e,t,n,r){if(r){E(e,"transition",""),E(e,"transform","");var i=P(this.el),o=i&&i.a,a=i&&i.d,s=(t.left-n.left)/(o||1),l=(t.top-n.top)/(a||1);e.animatingX=!!s,e.animatingY=!!l,E(e,"transform","translate3d("+s+"px,"+l+"px,0)"),function(e){e.offsetWidth}(e),E(e,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),E(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){E(e,"transition",""),E(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),r)}}}}var B=[],Y={initializeByDefault:!0},V={mount:function(e){for(var t in Y)!Y.hasOwnProperty(t)||t in e||(e[t]=Y[t]);B.push(e)},pluginEvent:function(e,t,n){var i=this;this.eventCanceled=!1,n.cancel=function(){i.eventCanceled=!0};var o=e+"Global";B.forEach((function(i){t[i.pluginName]&&(t[i.pluginName][o]&&t[i.pluginName][o](r({sortable:t},n)),t.options[i.pluginName]&&t[i.pluginName][e]&&t[i.pluginName][e](r({sortable:t},n)))}))},initializePlugins:function(e,t,r,i){for(var o in B.forEach((function(i){var o=i.pluginName;if(e.options[o]||i.initializeByDefault){var a=new i(e,t,e.options);a.sortable=e,a.options=e.options,e[o]=a,n(r,a.defaults)}})),e.options)if(e.options.hasOwnProperty(o)){var a=this.modifyOption(e,o,e.options[o]);void 0!==a&&(e.options[o]=a)}},getEventProperties:function(e,t){var r={};return B.forEach((function(i){"function"==typeof i.eventProperties&&n(r,i.eventProperties.call(t[i.pluginName],e))})),r},modifyOption:function(e,t,n){var r;return B.forEach((function(i){e[i.pluginName]&&i.optionListeners&&"function"==typeof i.optionListeners[t]&&(r=i.optionListeners[t].call(e[i.pluginName],n))})),r}};function z(e){var t=e.sortable,n=e.rootEl,i=e.name,o=e.targetEl,a=e.cloneEl,c=e.toEl,u=e.fromEl,p=e.oldIndex,d=e.newIndex,h=e.oldDraggableIndex,f=e.newDraggableIndex,g=e.originalEvent,_=e.putSortable,y=e.extraEventProperties;if(t=t||n&&n[F]){var v,m=t.options,b="on"+i.charAt(0).toUpperCase()+i.substr(1);!window.CustomEvent||s||l?(v=document.createEvent("Event")).initEvent(i,!0,!0):v=new CustomEvent(i,{bubbles:!0,cancelable:!0}),v.to=c||n,v.from=u||n,v.item=o||n,v.clone=a,v.oldIndex=p,v.newIndex=d,v.oldDraggableIndex=h,v.newDraggableIndex=f,v.originalEvent=g,v.pullMode=_?_.lastPutMode:void 0;var w=r({},y,V.getEventProperties(i,t));for(var E in w)v[E]=w[E];n&&n.dispatchEvent(v),m[b]&&m[b].call(t,v)}}var X=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.evt,a=i(n,["evt"]);V.pluginEvent.bind(ke)(e,t,r({dragEl:W,parentEl:q,ghostEl:K,rootEl:J,nextEl:Z,lastDownEl:Q,cloneEl:$,cloneHidden:ee,dragStarted:he,putSortable:ae,activeSortable:ke.active,originalEvent:o,oldIndex:te,oldDraggableIndex:re,newIndex:ne,newDraggableIndex:ie,hideGhostForTarget:De,unhideGhostForTarget:Ne,cloneNowHidden:function(){ee=!0},cloneNowShown:function(){ee=!1},dispatchSortableEvent:function(e){H({sortable:t,name:e,originalEvent:o})}},a))};function H(e){z(r({putSortable:ae,cloneEl:$,targetEl:W,rootEl:J,oldIndex:te,oldDraggableIndex:re,newIndex:ne,newDraggableIndex:ie},e))}if("undefined"==typeof window||!window.document)throw new Error("Sortable.js requires a window with a document");var W,q,K,J,Z,Q,$,ee,te,ne,re,ie,oe,ae,se,le,ce,ue,pe,de,he,fe,ge,_e,ye,ve=!1,me=!1,be=[],we=!1,Ee=!1,Pe=[],Se=!1,Oe=[],Te=p,Ce=l||s?"cssFloat":"float",xe=!d&&!p&&"draggable"in document.createElement("div"),Ie=function(){if(s)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}(),Ae=function(e,t){var n=E(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=x(e,0,t),o=x(e,1,t),a=i&&E(i),s=o&&E(o),l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+T(i).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+T(o).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&a.float&&"none"!==a.float){var u="left"===a.float?"left":"right";return!o||"both"!==s.clear&&s.clear!==u?"horizontal":"vertical"}return i&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||l>=r&&"none"===n[Ce]||o&&"none"===n[Ce]&&l+c>r)?"vertical":"horizontal"},Me=function(t){function n(e,t){return function(r,i,o,a){var s=r.options.group.name&&i.options.group.name&&r.options.group.name===i.options.group.name;if(null==e&&(t||s))return!0;if(null==e||!1===e)return!1;if(t&&"clone"===e)return e;if("function"==typeof e)return n(e(r,i,o,a),t)(r,i,o,a);var l=(t?r:i).options.group.name;return!0===e||"string"==typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var r={},i=t.group;i&&"object"==e(i)||(i={name:i}),r.name=i.name,r.checkPull=n(i.pull,!0),r.checkPut=n(i.put),r.revertClone=i.revertClone,t.group=r},De=function(){!Ie&&K&&E(K,"display","none")},Ne=function(){!Ie&&K&&E(K,"display","")};document.addEventListener("click",(function(e){if(me)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),me=!1,!1}),!0);var Re=function(e){if(W){e=e.touches?e.touches[0]:e;var t=(i=e.clientX,o=e.clientY,be.some((function(e){if(!I(e)){var t=T(e),n=e[F].options.emptyInsertThreshold,r=i>=t.left-n&&i<=t.right+n,s=o>=t.top-n&&o<=t.bottom+n;return n&&r&&s?a=e:void 0}})),a);if(t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[F]._onDragOver(n)}}var i,o,a},Le=function(e){W&&W.parentNode[F]._isOutsideThisEl(e.target)};function ke(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=n({},t),e[F]=this;var r={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ae(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==ke.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var i in V.initializePlugins(this,e,r),r)!(i in t)&&(t[i]=r[i]);for(var o in Me(t),this)"_"===o.charAt(0)&&"function"==typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!t.forceFallback&&xe,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?f(e,"pointerdown",this._onTapStart):(f(e,"mousedown",this._onTapStart),f(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(f(e,"dragover",this),f(e,"dragenter",this)),be.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),n(this,U())}function je(e,t,n,r,i,o,a,c){var u,p,d=e[F],h=d.options.onMove;return!window.CustomEvent||s||l?(u=document.createEvent("Event")).initEvent("move",!0,!0):u=new CustomEvent("move",{bubbles:!0,cancelable:!0}),u.to=t,u.from=e,u.dragged=n,u.draggedRect=r,u.related=i||t,u.relatedRect=o||T(t),u.willInsertAfter=c,u.originalEvent=a,e.dispatchEvent(u),h&&(p=h.call(d,u,a)),p}function Ge(e){e.draggable=!1}function Fe(){Se=!1}function Ue(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function Be(e){return setTimeout(e,0)}function Ye(e){return clearTimeout(e)}ke.prototype={constructor:ke,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(fe=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,W):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,r=this.options,i=r.preventOnFilter,o=e.type,a=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,s=(a||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,c=r.filter;if(function(e){Oe.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var r=t[n];r.checked&&Oe.push(r)}}(n),!W&&!(/mousedown|pointerdown/.test(o)&&0!==e.button||r.disabled||l.isContentEditable||(s=v(s,r.draggable,n,!1))&&s.animated||Q===s)){if(te=A(s),re=A(s,r.draggable),"function"==typeof c){if(c.call(this,e,s,this))return H({sortable:t,rootEl:l,name:"filter",targetEl:s,toEl:n,fromEl:n}),X("filter",t,{evt:e}),void(i&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(r){if(r=v(l,r.trim(),n,!1))return H({sortable:t,rootEl:r,name:"filter",targetEl:s,fromEl:n,toEl:n}),X("filter",t,{evt:e}),!0}))))return void(i&&e.cancelable&&e.preventDefault());r.handle&&!v(l,r.handle,n,!1)||this._prepareDragStart(e,a,s)}}},_prepareDragStart:function(e,t,n){var r,i=this,o=i.el,a=i.options,u=o.ownerDocument;if(n&&!W&&n.parentNode===o){var p=T(n);if(J=o,q=(W=n).parentNode,Z=W.nextSibling,Q=n,oe=a.group,ke.dragged=W,se={target:W,clientX:(t||e).clientX,clientY:(t||e).clientY},pe=se.clientX-p.left,de=se.clientY-p.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,W.style["will-change"]="all",r=function(){X("delayEnded",i,{evt:e}),ke.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!c&&i.nativeDraggable&&(W.draggable=!0),i._triggerDragStart(e,t),H({sortable:i,name:"choose",originalEvent:e}),w(W,a.chosenClass,!0))},a.ignore.split(",").forEach((function(e){S(W,e.trim(),Ge)})),f(u,"dragover",Re),f(u,"mousemove",Re),f(u,"touchmove",Re),f(u,"mouseup",i._onDrop),f(u,"touchend",i._onDrop),f(u,"touchcancel",i._onDrop),c&&this.nativeDraggable&&(this.options.touchStartThreshold=4,W.draggable=!0),X("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(l||s))r();else{if(ke.eventCanceled)return void this._onDrop();f(u,"mouseup",i._disableDelayedDrag),f(u,"touchend",i._disableDelayedDrag),f(u,"touchcancel",i._disableDelayedDrag),f(u,"mousemove",i._delayedDragTouchMoveHandler),f(u,"touchmove",i._delayedDragTouchMoveHandler),a.supportPointer&&f(u,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(r,a.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){W&&Ge(W),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;g(e,"mouseup",this._disableDelayedDrag),g(e,"touchend",this._disableDelayedDrag),g(e,"touchcancel",this._disableDelayedDrag),g(e,"mousemove",this._delayedDragTouchMoveHandler),g(e,"touchmove",this._delayedDragTouchMoveHandler),g(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?f(document,"pointermove",this._onTouchMove):f(document,t?"touchmove":"mousemove",this._onTouchMove):(f(W,"dragend",this),f(J,"dragstart",this._onDragStart));try{document.selection?Be((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(ve=!1,J&&W){X("dragStarted",this,{evt:t}),this.nativeDraggable&&f(document,"dragover",Le);var n=this.options;!e&&w(W,n.dragClass,!1),w(W,n.ghostClass,!0),ke.active=this,e&&this._appendGhost(),H({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(le){this._lastX=le.clientX,this._lastY=le.clientY,De();for(var e=document.elementFromPoint(le.clientX,le.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(le.clientX,le.clientY))!==t;)t=e;if(W.parentNode[F]._isOutsideThisEl(e),t)do{if(t[F]&&t[F]._onDragOver({clientX:le.clientX,clientY:le.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break;e=t}while(t=t.parentNode);Ne()}},_onTouchMove:function(e){if(se){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,i=e.touches?e.touches[0]:e,o=K&&P(K),a=K&&o&&o.a,s=K&&o&&o.d,l=Te&&ye&&M(ye),c=(i.clientX-se.clientX+r.x)/(a||1)+(l?l[0]-Pe[0]:0)/(a||1),u=(i.clientY-se.clientY+r.y)/(s||1)+(l?l[1]-Pe[1]:0)/(s||1);if(!ke.active&&!ve){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(K){o?(o.e+=c-(ce||0),o.f+=u-(ue||0)):o={a:1,b:0,c:0,d:1,e:c,f:u};var p="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");E(K,"webkitTransform",p),E(K,"mozTransform",p),E(K,"msTransform",p),E(K,"transform",p),ce=c,ue=u,le=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!K){var e=this.options.fallbackOnBody?document.body:J,t=T(W,!0,Te,!0,e),n=this.options;if(Te){for(ye=e;"static"===E(ye,"position")&&"none"===E(ye,"transform")&&ye!==document;)ye=ye.parentNode;ye!==document.body&&ye!==document.documentElement?(ye===document&&(ye=O()),t.top+=ye.scrollTop,t.left+=ye.scrollLeft):ye=O(),Pe=M(ye)}w(K=W.cloneNode(!0),n.ghostClass,!1),w(K,n.fallbackClass,!0),w(K,n.dragClass,!0),E(K,"transition",""),E(K,"transform",""),E(K,"box-sizing","border-box"),E(K,"margin",0),E(K,"top",t.top),E(K,"left",t.left),E(K,"width",t.width),E(K,"height",t.height),E(K,"opacity","0.8"),E(K,"position",Te?"absolute":"fixed"),E(K,"zIndex","100000"),E(K,"pointerEvents","none"),ke.ghost=K,e.appendChild(K),E(K,"transform-origin",pe/parseInt(K.style.width)*100+"% "+de/parseInt(K.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,i=n.options;X("dragStart",this,{evt:e}),ke.eventCanceled?this._onDrop():(X("setupClone",this),ke.eventCanceled||(($=k(W)).draggable=!1,$.style["will-change"]="",this._hideClone(),w($,this.options.chosenClass,!1),ke.clone=$),n.cloneId=Be((function(){X("clone",n),ke.eventCanceled||(n.options.removeCloneOnHide||J.insertBefore($,W),n._hideClone(),H({sortable:n,name:"clone"}))})),!t&&w(W,i.dragClass,!0),t?(me=!0,n._loopId=setInterval(n._emulateDragOver,50)):(g(document,"mouseup",n._onDrop),g(document,"touchend",n._onDrop),g(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",i.setData&&i.setData.call(n,r,W)),f(document,"drop",n),E(W,"transform","translateZ(0)")),ve=!0,n._dragStartId=Be(n._dragStarted.bind(n,t,e)),f(document,"selectstart",n),he=!0,u&&E(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,i,o,a=this.el,s=e.target,l=this.options,c=l.group,u=ke.active,p=oe===c,d=l.sort,h=ae||u,f=this,g=!1;if(!Se){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),s=v(s,l.draggable,a,!0),j("dragOver"),ke.eventCanceled)return g;if(W.contains(e.target)||s.animated&&s.animatingX&&s.animatingY||f._ignoreWhileAnimating===s)return U(!1);if(me=!1,u&&!l.disabled&&(p?d||(i=!J.contains(W)):ae===this||(this.lastPutMode=oe.checkPull(this,u,W,e))&&c.checkPut(this,u,W,e))){if(o="vertical"===this._getDirection(e,s),t=T(W),j("dragOverValid"),ke.eventCanceled)return g;if(i)return q=J,G(),this._hideClone(),j("revert"),ke.eventCanceled||(Z?J.insertBefore(W,Z):J.appendChild(W)),U(!0);var _=I(a,l.draggable);if(!_||function(e,t,n){var r=T(I(n.el,n.options.draggable));return t?e.clientX>r.right+10||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+10}(e,o,this)&&!_.animated){if(_===W)return U(!1);if(_&&a===e.target&&(s=_),s&&(n=T(s)),!1!==je(J,a,W,t,s,n,e,!!s))return G(),a.appendChild(W),q=a,B(),U(!0)}else if(s.parentNode===a){n=T(s);var y,m,b,P=W.parentNode!==a,S=!function(e,t,n){var r=n?e.left:e.top,i=n?e.right:e.bottom,o=n?e.width:e.height,a=n?t.left:t.top,s=n?t.right:t.bottom,l=n?t.width:t.height;return r===a||i===s||r+o/2===a+l/2}(W.animated&&W.toRect||t,s.animated&&s.toRect||n,o),O=o?"top":"left",x=C(s,"top","top")||C(W,"top","top"),M=x?x.scrollTop:void 0;if(fe!==s&&(m=n[O],we=!1,Ee=!S&&l.invertSwap||P),0!==(y=function(e,t,n,r,i,o,a,s){var l=r?e.clientY:e.clientX,c=r?n.height:n.width,u=r?n.top:n.left,p=r?n.bottom:n.right,d=!1;if(!a)if(s&&_e<c*i){if(!we&&(1===ge?l>u+c*o/2:l<p-c*o/2)&&(we=!0),we)d=!0;else if(1===ge?l<u+_e:l>p-_e)return-ge}else if(l>u+c*(1-i)/2&&l<p-c*(1-i)/2)return function(e){return A(W)<A(e)?1:-1}(t);return(d=d||a)&&(l<u+c*o/2||l>p-c*o/2)?l>u+c/2?1:-1:0}(e,s,n,o,S?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,Ee,fe===s))){var D=A(W);do{D-=y,b=q.children[D]}while(b&&("none"===E(b,"display")||b===K))}if(0===y||b===s)return U(!1);fe=s,ge=y;var N=s.nextElementSibling,R=!1,k=je(J,a,W,t,s,n,e,R=1===y);if(!1!==k)return 1!==k&&-1!==k||(R=1===k),Se=!0,setTimeout(Fe,30),G(),R&&!N?a.appendChild(W):s.parentNode.insertBefore(W,R?N:s),x&&L(x,0,M-x.scrollTop),q=W.parentNode,void 0===m||Ee||(_e=Math.abs(m-T(s)[O])),B(),U(!0)}if(a.contains(W))return U(!1)}return!1}function j(l,c){X(l,f,r({evt:e,isOwner:p,axis:o?"vertical":"horizontal",revert:i,dragRect:t,targetRect:n,canSort:d,fromSortable:h,target:s,completed:U,onMove:function(n,r){return je(J,a,W,t,n,T(n),e,r)},changed:B},c))}function G(){j("dragOverAnimationCapture"),f.captureAnimationState(),f!==h&&h.captureAnimationState()}function U(t){return j("dragOverCompleted",{insertion:t}),t&&(p?u._hideClone():u._showClone(f),f!==h&&(w(W,ae?ae.options.ghostClass:u.options.ghostClass,!1),w(W,l.ghostClass,!0)),ae!==f&&f!==ke.active?ae=f:f===ke.active&&ae&&(ae=null),h===f&&(f._ignoreWhileAnimating=s),f.animateAll((function(){j("dragOverAnimationComplete"),f._ignoreWhileAnimating=null})),f!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(s===W&&!W.animated||s===a&&!s.animated)&&(fe=null),l.dragoverBubble||e.rootEl||s===document||(W.parentNode[F]._isOutsideThisEl(e.target),!t&&Re(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),g=!0}function B(){ne=A(W),ie=A(W,l.draggable),H({sortable:f,name:"change",toEl:a,newIndex:ne,newDraggableIndex:ie,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){g(document,"mousemove",this._onTouchMove),g(document,"touchmove",this._onTouchMove),g(document,"pointermove",this._onTouchMove),g(document,"dragover",Re),g(document,"mousemove",Re),g(document,"touchmove",Re)},_offUpEvents:function(){var e=this.el.ownerDocument;g(e,"mouseup",this._onDrop),g(e,"touchend",this._onDrop),g(e,"pointerup",this._onDrop),g(e,"touchcancel",this._onDrop),g(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;ne=A(W),ie=A(W,n.draggable),X("drop",this,{evt:e}),q=W&&W.parentNode,ne=A(W),ie=A(W,n.draggable),ke.eventCanceled||(ve=!1,Ee=!1,we=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ye(this.cloneId),Ye(this._dragStartId),this.nativeDraggable&&(g(document,"drop",this),g(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),u&&E(document.body,"user-select",""),e&&(he&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),K&&K.parentNode&&K.parentNode.removeChild(K),(J===q||ae&&"clone"!==ae.lastPutMode)&&$&&$.parentNode&&$.parentNode.removeChild($),W&&(this.nativeDraggable&&g(W,"dragend",this),Ge(W),W.style["will-change"]="",he&&!ve&&w(W,ae?ae.options.ghostClass:this.options.ghostClass,!1),w(W,this.options.chosenClass,!1),H({sortable:this,name:"unchoose",toEl:q,newIndex:null,newDraggableIndex:null,originalEvent:e}),J!==q?(ne>=0&&(H({rootEl:q,name:"add",toEl:q,fromEl:J,originalEvent:e}),H({sortable:this,name:"remove",toEl:q,originalEvent:e}),H({rootEl:q,name:"sort",toEl:q,fromEl:J,originalEvent:e}),H({sortable:this,name:"sort",toEl:q,originalEvent:e})),ae&&ae.save()):ne!==te&&ne>=0&&(H({sortable:this,name:"update",toEl:q,originalEvent:e}),H({sortable:this,name:"sort",toEl:q,originalEvent:e})),ke.active&&(null!=ne&&-1!==ne||(ne=te,ie=re),H({sortable:this,name:"end",toEl:q,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){X("nulling",this),J=W=q=K=Z=$=Q=ee=se=le=he=ne=ie=te=re=fe=ge=ae=oe=ke.dragged=ke.ghost=ke.clone=ke.active=null,Oe.forEach((function(e){e.checked=!0})),Oe.length=ce=ue=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":W&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,r=0,i=n.length,o=this.options;r<i;r++)v(e=n[r],o.draggable,this.el,!1)&&t.push(e.getAttribute(o.dataIdAttr)||Ue(e));return t},sort:function(e){var t={},n=this.el;this.toArray().forEach((function(e,r){var i=n.children[r];v(i,this.options.draggable,n,!1)&&(t[e]=i)}),this),e.forEach((function(e){t[e]&&(n.removeChild(t[e]),n.appendChild(t[e]))}))},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return v(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var r=V.modifyOption(this,e,t);n[e]=void 0!==r?r:t,"group"===e&&Me(n)},destroy:function(){X("destroy",this);var e=this.el;e[F]=null,g(e,"mousedown",this._onTapStart),g(e,"touchstart",this._onTapStart),g(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(g(e,"dragover",this),g(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),be.splice(be.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ee){if(X("hideClone",this),ke.eventCanceled)return;E($,"display","none"),this.options.removeCloneOnHide&&$.parentNode&&$.parentNode.removeChild($),ee=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(ee){if(X("showClone",this),ke.eventCanceled)return;J.contains(W)&&!this.options.group.revertClone?J.insertBefore($,W):Z?J.insertBefore($,Z):J.appendChild($),this.options.group.revertClone&&this.animate(W,$),E($,"display",""),ee=!1}}else this._hideClone()}},f(document,"touchmove",(function(e){(ke.active||ve)&&e.cancelable&&e.preventDefault()})),ke.utils={on:f,off:g,css:E,find:S,is:function(e,t){return!!v(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:R,closest:v,toggleClass:w,clone:k,index:A,nextTick:Be,cancelNextTick:Ye,detectDirection:Ae,getChild:x},ke.get=function(e){return e[F]},ke.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(ke.utils=r({},ke.utils,e.utils)),V.mount(e)}))},ke.create=function(e,t){return new ke(e,t)},ke.version="1.10.0";var Ve,ze,Xe,He,We,qe,Ke=[],Je=!1;function Ze(){Ke.forEach((function(e){clearInterval(e.pid)})),Ke=[]}function Qe(){clearInterval(qe)}var $e,et=R((function(e,t,n,r){if(t.scroll){var i,o=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,l=t.scrollSpeed,c=O(),u=!1;ze!==n&&(ze=n,Ze(),Ve=t.scroll,i=t.scrollFn,!0===Ve&&(Ve=D(n,!0)));var p=0,d=Ve;do{var h=d,f=T(h),g=f.top,_=f.bottom,y=f.left,v=f.right,m=f.width,b=f.height,w=void 0,P=void 0,S=h.scrollWidth,C=h.scrollHeight,x=E(h),I=h.scrollLeft,A=h.scrollTop;h===c?(w=m<S&&("auto"===x.overflowX||"scroll"===x.overflowX||"visible"===x.overflowX),P=b<C&&("auto"===x.overflowY||"scroll"===x.overflowY||"visible"===x.overflowY)):(w=m<S&&("auto"===x.overflowX||"scroll"===x.overflowX),P=b<C&&("auto"===x.overflowY||"scroll"===x.overflowY));var M=w&&(Math.abs(v-o)<=s&&I+m<S)-(Math.abs(y-o)<=s&&!!I),N=P&&(Math.abs(_-a)<=s&&A+b<C)-(Math.abs(g-a)<=s&&!!A);if(!Ke[p])for(var R=0;R<=p;R++)Ke[R]||(Ke[R]={});Ke[p].vx==M&&Ke[p].vy==N&&Ke[p].el===h||(Ke[p].el=h,Ke[p].vx=M,Ke[p].vy=N,clearInterval(Ke[p].pid),0==M&&0==N||(u=!0,Ke[p].pid=setInterval(function(){r&&0===this.layer&&ke.active._onTouchMove(We);var t=Ke[this.layer].vy?Ke[this.layer].vy*l:0,n=Ke[this.layer].vx?Ke[this.layer].vx*l:0;"function"==typeof i&&"continue"!==i.call(ke.dragged.parentNode[F],n,t,e,We,Ke[this.layer].el)||L(Ke[this.layer].el,n,t)}.bind({layer:p}),24))),p++}while(t.bubbleScroll&&d!==c&&(d=D(d,!1)));Je=u}}),30),tt=function(e){var t=e.originalEvent,n=e.putSortable,r=e.dragEl,i=e.activeSortable,o=e.dispatchSortableEvent,a=e.hideGhostForTarget,s=e.unhideGhostForTarget,l=n||i;a();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);s(),l&&!l.el.contains(u)&&(o("spill"),this.onSpill({dragEl:r,putSortable:n}))};function nt(){}function rt(){}nt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=x(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:tt},n(nt,{pluginName:"revertOnSpill"}),rt.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:tt},n(rt,{pluginName:"removeOnSpill"});var it,ot,at,st,lt,ct=[],ut=[],pt=!1,dt=!1,ht=!1;function ft(e,t){ut.forEach((function(n,r){var i=t.children[n.sortableIndex+(e?Number(r):0)];i?t.insertBefore(n,i):t.appendChild(n)}))}function gt(){ct.forEach((function(e){e!==at&&e.parentNode&&e.parentNode.removeChild(e)}))}return ke.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?f(document,"dragover",this._handleAutoScroll):this.options.supportPointer?f(document,"pointermove",this._handleFallbackAutoScroll):t.touches?f(document,"touchmove",this._handleFallbackAutoScroll):f(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?g(document,"dragover",this._handleAutoScroll):(g(document,"pointermove",this._handleFallbackAutoScroll),g(document,"touchmove",this._handleFallbackAutoScroll),g(document,"mousemove",this._handleFallbackAutoScroll)),Qe(),Ze(),clearTimeout(m),m=void 0},nulling:function(){We=ze=Ve=Je=qe=Xe=He=null,Ke.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,r=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,o=document.elementFromPoint(r,i);if(We=e,t||l||s||u){et(e,this.options,o,t);var a=D(o,!0);!Je||qe&&r===Xe&&i===He||(qe&&Qe(),qe=setInterval((function(){var o=D(document.elementFromPoint(r,i),!0);o!==a&&(a=o,Ze()),et(e,n.options,o,t)}),10),Xe=r,He=i)}else{if(!this.options.bubbleScroll||D(o,!0)===O())return void Ze();et(e,this.options,D(o,!1),!1)}}},n(e,{pluginName:"scroll",initializeByDefault:!0})}),ke.mount(rt,nt),ke.mount(new function(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(e){var t=e.dragEl;$e=t},dragOverValid:function(e){var t=e.completed,n=e.target,r=e.onMove,i=e.activeSortable,o=e.changed,a=e.cancel;if(i.options.swap){var s=this.sortable.el,l=this.options;if(n&&n!==s){var c=$e;!1!==r(n)?(w(n,l.swapClass,!0),$e=n):$e=null,c&&c!==$e&&w(c,l.swapClass,!1)}o(),t(!0),a()}},drop:function(e){var t=e.activeSortable,n=e.putSortable,r=e.dragEl,i=n||this.sortable,o=this.options;$e&&w($e,o.swapClass,!1),$e&&(o.swap||n&&n.options.swap)&&r!==$e&&(i.captureAnimationState(),i!==t&&t.captureAnimationState(),function(e,t){var n,r,i=e.parentNode,o=t.parentNode;i&&o&&!i.isEqualNode(t)&&!o.isEqualNode(e)&&(n=A(e),r=A(t),i.isEqualNode(o)&&n<r&&r++,i.insertBefore(t,i.children[n]),o.insertBefore(e,o.children[r]))}(r,$e),i.animateAll(),i!==t&&t.animateAll())},nulling:function(){$e=null}},n(e,{pluginName:"swap",eventProperties:function(){return{swapItem:$e}}})}),ke.mount(new function(){function e(e){for(var t in this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this));e.options.supportPointer?f(document,"pointerup",this._deselectMultiDrag):(f(document,"mouseup",this._deselectMultiDrag),f(document,"touchend",this._deselectMultiDrag)),f(document,"keydown",this._checkKeyDown),f(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(t,n){var r="";ct.length&&ot===e?ct.forEach((function(e,t){r+=(t?", ":"")+e.textContent})):r=n.textContent,t.setData("Text",r)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(e){var t=e.dragEl;at=t},delayEnded:function(){this.isMultiDrag=~ct.indexOf(at)},setupClone:function(e){var t=e.sortable,n=e.cancel;if(this.isMultiDrag){for(var r=0;r<ct.length;r++)ut.push(k(ct[r])),ut[r].sortableIndex=ct[r].sortableIndex,ut[r].draggable=!1,ut[r].style["will-change"]="",w(ut[r],this.options.selectedClass,!1),ct[r]===at&&w(ut[r],this.options.chosenClass,!1);t._hideClone(),n()}},clone:function(e){var t=e.sortable,n=e.rootEl,r=e.dispatchSortableEvent,i=e.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||ct.length&&ot===t&&(ft(!0,n),r("clone"),i()))},showClone:function(e){var t=e.cloneNowShown,n=e.rootEl,r=e.cancel;this.isMultiDrag&&(ft(!1,n),ut.forEach((function(e){E(e,"display","")})),t(),lt=!1,r())},hideClone:function(e){var t=this,n=(e.sortable,e.cloneNowHidden),r=e.cancel;this.isMultiDrag&&(ut.forEach((function(e){E(e,"display","none"),t.options.removeCloneOnHide&&e.parentNode&&e.parentNode.removeChild(e)})),n(),lt=!0,r())},dragStartGlobal:function(e){e.sortable,!this.isMultiDrag&&ot&&ot.multiDrag._deselectMultiDrag(),ct.forEach((function(e){e.sortableIndex=A(e)})),ct=ct.sort((function(e,t){return e.sortableIndex-t.sortableIndex})),ht=!0},dragStarted:function(e){var t=this,n=e.sortable;if(this.isMultiDrag){if(this.options.sort&&(n.captureAnimationState(),this.options.animation)){ct.forEach((function(e){e!==at&&E(e,"position","absolute")}));var r=T(at,!1,!0,!0);ct.forEach((function(e){e!==at&&j(e,r)})),dt=!0,pt=!0}n.animateAll((function(){dt=!1,pt=!1,t.options.animation&&ct.forEach((function(e){G(e)})),t.options.sort&&gt()}))}},dragOver:function(e){var t=e.target,n=e.completed,r=e.cancel;dt&&~ct.indexOf(t)&&(n(!1),r())},revert:function(e){var t=e.fromSortable,n=e.rootEl,r=e.sortable,i=e.dragRect;ct.length>1&&(ct.forEach((function(e){r.addAnimationState({target:e,rect:dt?T(e):i}),G(e),e.fromRect=i,t.removeAnimationState(e)})),dt=!1,function(e,t){ct.forEach((function(n,r){var i=t.children[n.sortableIndex+(e?Number(r):0)];i?t.insertBefore(n,i):t.appendChild(n)}))}(!this.options.removeCloneOnHide,n))},dragOverCompleted:function(e){var t=e.sortable,n=e.isOwner,r=e.insertion,i=e.activeSortable,o=e.parentEl,a=e.putSortable,s=this.options;if(r){if(n&&i._hideClone(),pt=!1,s.animation&&ct.length>1&&(dt||!n&&!i.options.sort&&!a)){var l=T(at,!1,!0,!0);ct.forEach((function(e){e!==at&&(j(e,l),o.appendChild(e))})),dt=!0}if(!n)if(dt||gt(),ct.length>1){var c=lt;i._showClone(t),i.options.animation&&!lt&&c&&ut.forEach((function(e){i.addAnimationState({target:e,rect:st}),e.fromRect=st,e.thisAnimationDuration=null}))}else i._showClone(t)}},dragOverAnimationCapture:function(e){var t=e.dragRect,r=e.isOwner,i=e.activeSortable;if(ct.forEach((function(e){e.thisAnimationDuration=null})),i.options.animation&&!r&&i.multiDrag.isMultiDrag){st=n({},t);var o=P(at,!0);st.top-=o.f,st.left-=o.e}},dragOverAnimationComplete:function(){dt&&(dt=!1,gt())},drop:function(e){var t=e.originalEvent,n=e.rootEl,r=e.parentEl,i=e.sortable,o=e.dispatchSortableEvent,a=e.oldIndex,s=e.putSortable,l=s||this.sortable;if(t){var c=this.options,u=r.children;if(!ht)if(c.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),w(at,c.selectedClass,!~ct.indexOf(at)),~ct.indexOf(at))ct.splice(ct.indexOf(at),1),it=null,z({sortable:i,rootEl:n,name:"deselect",targetEl:at,originalEvt:t});else{if(ct.push(at),z({sortable:i,rootEl:n,name:"select",targetEl:at,originalEvt:t}),t.shiftKey&&it&&i.el.contains(it)){var p,d,h=A(it),f=A(at);if(~h&&~f&&h!==f)for(f>h?(d=h,p=f):(d=f,p=h+1);d<p;d++)~ct.indexOf(u[d])||(w(u[d],c.selectedClass,!0),ct.push(u[d]),z({sortable:i,rootEl:n,name:"select",targetEl:u[d],originalEvt:t}))}else it=at;ot=l}if(ht&&this.isMultiDrag){if((r[F].options.sort||r!==n)&&ct.length>1){var g=T(at),_=A(at,":not(."+this.options.selectedClass+")");if(!pt&&c.animation&&(at.thisAnimationDuration=null),l.captureAnimationState(),!pt&&(c.animation&&(at.fromRect=g,ct.forEach((function(e){if(e.thisAnimationDuration=null,e!==at){var t=dt?T(e):g;e.fromRect=t,l.addAnimationState({target:e,rect:t})}}))),gt(),ct.forEach((function(e){u[_]?r.insertBefore(e,u[_]):r.appendChild(e),_++})),a===A(at))){var y=!1;ct.forEach((function(e){e.sortableIndex===A(e)||(y=!0)})),y&&o("update")}ct.forEach((function(e){G(e)})),l.animateAll()}ot=l}(n===r||s&&"clone"!==s.lastPutMode)&&ut.forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))}},nullingGlobal:function(){this.isMultiDrag=ht=!1,ut.length=0},destroyGlobal:function(){this._deselectMultiDrag(),g(document,"pointerup",this._deselectMultiDrag),g(document,"mouseup",this._deselectMultiDrag),g(document,"touchend",this._deselectMultiDrag),g(document,"keydown",this._checkKeyDown),g(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(e){if(!ht&&ot===this.sortable&&!(e&&v(e.target,this.options.draggable,this.sortable.el,!1)||e&&0!==e.button))for(;ct.length;){var t=ct[0];w(t,this.options.selectedClass,!1),ct.shift(),z({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:t,originalEvt:e})}},_checkKeyDown:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},n(e,{pluginName:"multiDrag",utils:{select:function(e){var t=e.parentNode[F];t&&t.options.multiDrag&&!~ct.indexOf(e)&&(ot&&ot!==t&&(ot.multiDrag._deselectMultiDrag(),ot=t),w(e,t.options.selectedClass,!0),ct.push(e))},deselect:function(e){var t=e.parentNode[F],n=ct.indexOf(e);t&&t.options.multiDrag&&~n&&(w(e,t.options.selectedClass,!1),ct.splice(n,1))}},eventProperties:function(){var e=this,t=[],n=[];return ct.forEach((function(r){var i;t.push({multiDragElement:r,index:r.sortableIndex}),i=dt&&r!==at?-1:dt?A(r,":not(."+e.options.selectedClass+")"):A(r),n.push({multiDragElement:r,index:i})})),{items:o(ct),clones:[].concat(ut),oldIndicies:t,newIndicies:n}},optionListeners:{multiDragKey:function(e){return"ctrl"===(e=e.toLowerCase())?e="Control":e.length>1&&(e=e.charAt(0).toUpperCase()+e.substr(1)),e}}})}),ke}()},457:function(e,t,n){var r,i;r=[n.dj.c(e.i),t,n(117),n(169),n(190),n(167),n(157),n(151),n(347),n(294)],void 0===(i=function(e,t,n,r,i,o,a,s,l,c){var u="view-layers",p="map-layers",d="layer-views",h="layer-list-mode",f=r.ofType(l);return function(e){function t(t){var n=e.call(this,t)||this;return n._handles=new o,n.listItemCreatedFunction=null,n.operationalItems=new f,n.view=null,n}return n.__extends(t,e),t.prototype.initialize=function(){var e=this;this._handles.add(a.init(this,["view","view.ready"],(function(){return e._viewHandles()})),"view")},t.prototype.destroy=function(){this._handles.destroy(),this._handles=null,this.view=null,this.operationalItems.removeAll()},Object.defineProperty(t.prototype,"state",{get:function(){var e=this.get("view");return this.get("view.ready")?"ready":e?"loading":"disabled"},enumerable:!0,configurable:!0}),t.prototype.triggerAction=function(e,t){e&&this.emit("trigger-action",{action:e,item:t})},t.prototype.moveListItem=function(e,t,n,r){var i,o,a=null==e?void 0:e.layer;if(a){var s=null===(o=null===(i=this.view)||void 0===i?void 0:i.map)||void 0===o?void 0:o.layers,l=t?c.getItemLayers(t):s,u=n?c.getItemLayers(n):s;if(l&&u){var p=this.operationalItems,d=(null==t?void 0:t.children)||p,h=(null==n?void 0:n.children)||p,f=u.length-r;e.parent=n||null,d.includes(e)&&d.remove(e),l.includes(a)&&l.remove(a),h.includes(e)||h.add(e,f),u.includes(a)||u.add(a,f)}}},t.prototype._createLayerViewHandles=function(e){var t=this,n=this._handles;n.remove(d),this._compileList(),e&&n.add(e.on("change",(function(){return t._compileList()})),d)},t.prototype._createMapLayerHandles=function(e){var t=this,n=this._handles;n.remove(p),this._compileList(),e&&n.add(e.on("change",(function(){return t._compileList()})),p)},t.prototype._watchItemProperties=function(e){var t=this;this._handles.add([e.children.on("change",(function(){t._modifyListItemChildren(e.children)}))],"children-change-"+e.uid)},t.prototype._modifyListItemChildren=function(e){var t=this;e.forEach((function(e){return t._modifyListItem(e)}))},t.prototype._modifyListItem=function(e){if("function"==typeof this.listItemCreatedFunction){var t={item:e};this.listItemCreatedFunction.call(null,t)}this._modifyListItemChildren(e.children)},t.prototype._createListItem=function(e){var t=this.view,n=new l({layer:e,view:t});return this._watchItemProperties(n),n},t.prototype._removeAllItems=function(){var e=this._handles,t=this.operationalItems;t.forEach((function(t){e.remove("children-change-"+t.uid)})),t.removeAll()},t.prototype._getViewableLayers=function(e){if(e)return e.filter((function(e){return"hide"!==c.findLayerListMode(e)}))},t.prototype._watchLayersListMode=function(e){var t=this,n=this._handles;n.remove(h),e&&e.forEach((function(e){n.add(a.watch(e,"listMode",(function(){return t._compileList()})),h)}))},t.prototype._compileList=function(){var e=this.get("view.map.layers");this._watchLayersListMode(e);var t=this._getViewableLayers(e);t&&t.length?(this._createNewItems(t),this._modifyOrRemoveItems(t),this._sortItems(t)):this._removeAllItems()},t.prototype._createNewItems=function(e){var t=this,n=this.operationalItems;e.forEach((function(e){n.find((function(t){return t.layer===e}))||n.add(t._createListItem(e))}))},t.prototype._modifyOrRemoveItems=function(e){var t=this,n=this._handles,r=this.operationalItems;r.forEach((function(i){i&&(e&&e.find((function(e){return i.layer===e}))?t._modifyListItem(i):(n.remove("children-change-"+i.uid),r.remove(i)))}))},t.prototype._sortItems=function(e){this.operationalItems.sort((function(t,n){var r=e.indexOf(t.layer),i=e.indexOf(n.layer);return r>i?-1:r<i?1:0}))},t.prototype._viewHandles=function(){var e=this,t=this._handles,n=this.view;t.remove([p,d,u]),this._compileList(),n&&n.ready&&t.add([a.init(this,"view.map.layers",(function(t){return e._createMapLayerHandles(t)})),a.init(this,"view.layerViews",(function(t){return e._createLayerViewHandles(t)})),a.init(this,"listItemCreatedFunction",(function(){return e._compileList()}))],u)},n.__decorate([s.property()],t.prototype,"listItemCreatedFunction",void 0),n.__decorate([s.property({type:f})],t.prototype,"operationalItems",void 0),n.__decorate([s.property({dependsOn:["view.ready"],readOnly:!0})],t.prototype,"state",null),n.__decorate([s.property()],t.prototype,"view",void 0),n.__decorate([s.subclass("esri.widgets.LayerList.LayerListViewModel")],t)}(i.EventedAccessor)}.apply(null,r))||(e.exports=i)},458:function(e,t,n){var r,i;r=[n.dj.c(e.i),t,n(117),n(151),n(337)],void 0===(i=function(e,t,n,r,i){return function(e){function t(t){var n=e.call(this,t)||this;return n.displayValueEnabled=!1,n.max=1,n.min=0,n.step=.1,n.type="slider",n.value=null,n}var i;return n.__extends(t,e),i=t,t.prototype.clone=function(){return new i({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,displayValueEnabled:this.displayValueEnabled,max:this.max,min:this.min,step:this.step,value:this.value})},n.__decorate([r.property()],t.prototype,"displayValueEnabled",void 0),n.__decorate([r.property()],t.prototype,"max",void 0),n.__decorate([r.property()],t.prototype,"min",void 0),n.__decorate([r.property()],t.prototype,"step",void 0),n.__decorate([r.property()],t.prototype,"value",void 0),i=n.__decorate([r.subclass("esri.support.Action.ActionSlider")],t)}(i)}.apply(null,r))||(e.exports=i)},459:function(e,t,n){var r,i;r=[n.dj.c(e.i),t,n(117),n(167),n(292),n(157),n(151),n(188),n(183),n(161)],void 0===(i=function(e,t,r,i,o,a,s,l,c){var u="esri-layer-list-panel__content";return function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._legend=null,r._handles=new i,r.content=null,r.image=null,r.listItem=null,r.open=!1,r.visible=!0,r}return r.__extends(t,e),t.prototype.initialize=function(){var e=this;this.own([a.init(this,"content",(function(t){return e._createLegend(t)}))])},t.prototype.destroy=function(){var e=this._legend;e&&e.destroy(),this._legend=null},Object.defineProperty(t.prototype,"className",{get:function(){var e=this.image,t=this._getFirstWidget();return this._get("className")||!e&&t?t.iconClass:""},set:function(e){void 0!==e?this._override("className",e):this._clearOverride("className")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){var e=this._getFirstWidget();return this._get("title")||e?e.label:""},set:function(e){void 0!==e?this._override("title",e):this._clearOverride("title")},enumerable:!0,configurable:!0}),t.prototype.render=function(){return c.tsx("div",{class:"esri-layer-list-panel"},this._renderContents())},t.prototype._renderContent=function(e){var t=this._legend,n=this.listItem;return e?"legend"===e?n&&n.view&&n.layer&&t?c.tsx("div",{class:this.classes(u,"esri-layer-list-panel__content--legend"),key:t},t.render()):null:"string"==typeof e?c.tsx("div",{class:this.classes(u,"esri-layer-list-panel__content--string"),key:e,innerHTML:e}):c.isWidget(e)?c.tsx("div",{class:this.classes(u,"esri-layer-list-panel__content--widget"),key:e},e.render()):e instanceof HTMLElement?c.tsx("div",{class:this.classes(u,"esri-layer-list-panel__content--html-element"),key:e,bind:e,afterCreate:this._attachToNode}):null:null},t.prototype._renderContents=function(){var e=this,t=this.content;return Array.isArray(t)?t.map((function(t){return e._renderContent(t)})):this._renderContent(t)},t.prototype._getLegendOptions=function(e){if(e){var t=e.layer,n=e.view;if(t&&n)return{view:n,layerInfos:[{layer:t,title:""}]}}},t.prototype._createLegend=function(e){var t=this;this._hasLegend(e)&&!this._legend&&new Promise((function(e,t){n.e(6).then(function(){var t=[n(300)];e.apply(null,t)}.bind(this)).catch(t.bind(this))})).then((function(e){var n=t,r=n._handles,i=n.listItem,o=new e(t._getLegendOptions(i));t._legend=o,t.notifyChange("className"),t.notifyChange("title");var s=a.init(t,["listItem.view","listItem.layer"],(function(){return t._updateLegend(o)}));r.add(s,"legends"),t.scheduleRender()}))},t.prototype._hasLegend=function(e){return"legend"===e||!!Array.isArray(e)&&e.some((function(e){return"legend"===e}))},t.prototype._attachToNode=function(e){e.appendChild(this)},t.prototype._updateLegend=function(e){var t=this.listItem;if(t){var n=t.layer,r=t.view;e.view=r,e.layerInfos=[{layer:n,title:null}],this.scheduleRender()}},t.prototype._getWidget=function(e){return"legend"===e?this._legend:c.isWidget(e)?e:null},t.prototype._getFirstWidget=function(){var e=this,t=this.content;if(Array.isArray(t)){var n=null;return t.some((function(t){var r=e._getWidget(t);return r&&(n=r),!!r})),n}return this._getWidget(t)},r.__decorate([s.property({dependsOn:["content","image"]})],t.prototype,"className",null),r.__decorate([s.property(),c.renderable()],t.prototype,"content",void 0),r.__decorate([s.property()],t.prototype,"image",void 0),r.__decorate([s.property()],t.prototype,"listItem",void 0),r.__decorate([s.property({dependsOn:["content"]})],t.prototype,"title",null),r.__decorate([s.property(),c.renderable()],t.prototype,"open",void 0),r.__decorate([s.property()],t.prototype,"visible",void 0),r.__decorate([s.subclass("esri.widgets.LayerList.ListItemPanel")],t)}(o.IdentifiableMixin(l))}.apply(null,r))||(e.exports=i)},668:function(e,t,n){"use strict";var r=n(167),i=n.n(r),o=n(669),a=n.n(o),s=n(291),l=n(232),c=n.n(l),u=n(157),p=a.a.createSubclass({constructor:function(){this.tileContexts=new window.Map,this.watchHandles=new i.a,this.needsImageUpdate=!1},attach:function(){var e=s.load(),t=this,n=t.layer;this.watchHandles.add([u.init(this,"layer.geometry",(function(){if(!n.geometry)return t.projectedGeometry=null,t.needsImageUpdate=!0,void t.requestRender();e.then((function(){t.projectedGeometry=s.project(n.geometry,n.tileInfo.spatialReference,s.getTransformation(n.geometry.spatialReference,n.tileInfo.spatialReference)),t.needsImageUpdate=!0,t.requestRender()}))})),u.init(this,"layer.distance",(function(){t.needsImageUpdate=!0,t.requestRender()})),u.init(this,"layer.color",(function(){t.needsImageUpdate=!0,t.requestRender()}))])},drawGeometry:function(e,t){e.globalCompositeOperation="source-over";var n=e.canvas.width,r=e.canvas.height;if(this.projectedGeometry){if(0!==this.layer.distance){var i=this.layer.color;e.fillStyle="rgba("+i[0]+", "+i[1]+", "+i[2]+", "+(i[3]||.75)+")",e.fillRect(0,0,n,r);var o=3/this.layer.distance;if(e.globalCompositeOperation="destination-out","polygon"===this.projectedGeometry.type||"polyline"===this.projectedGeometry.type||"extent"===this.projectedGeometry.type){var a=("extent"===this.projectedGeometry.type?c.a.fromExtent(this.projectedGeometry).rings:this.projectedGeometry.rings||this.projectedGeometry.paths).map((function(e){return e.map((function(e){return[Math.round(n*(e[0]-t[0])/(t[2]-t[0])),Math.round(r*(1-(e[1]-t[1])/(t[3]-t[1])))]}))}));e.lineJoin="round";for(var s=1;s<=this.layer.distance;++s){e.strokeStyle="rgba(0, 0, 0, "+o+")",e.lineWidth=this.layer.distance+1-s;for(var l=0;l<a.length;++l){var u=a[l];e.beginPath(),e.moveTo(u[0][0],u[0][1]);for(var p=1;p<u.length;++p)e.lineTo(u[p][0],u[p][1]);"polyline"!==this.projectedGeometry.type&&e.closePath(),e.stroke()}}if("polyline"!==this.projectedGeometry.type){e.fillStyle="rgba(0, 0, 0, 1)";for(l=0;l<a.length;++l){u=a[l];e.beginPath(),e.moveTo(u[0][0],u[0][1]);for(p=1;p<u.length;++p)e.lineTo(u[p][0],u[p][1]);e.closePath(),e.fill()}}}else if("point"===this.projectedGeometry.type||"multipoint"===this.projectedGeometry.type)for(a=("multipoint"===this.projectedGeometry.type?this.projectedGeometry.points:[[this.projectedGeometry.x,this.projectedGeometry.y]]).map((function(e){return[Math.round(n*(e[0]-t[0])/(t[2]-t[0])),Math.round(r*(1-(e[1]-t[1])/(t[3]-t[1])))]})),s=1;s<=this.layer.distance;++s){var d=this.layer.distance+1-s;e.fillStyle="rgba(0, 0, 0, "+o+")";for(l=0;l<a.length;++l){var h=a[l];e.beginPath(),e.arc(h[0],h[1],Math.round(d/2),0,360),e.fill()}}}}else e.clearRect(0,0,n,r)},manageTileImages:function(){this.context;for(var e=new Set,t=0;t<this.tiles.length;++t){var n=this.tiles[t];e.add(n.id);var r=this.tileContexts.get(n.id);if(r)this.needsImageUpdate&&this.drawGeometry(r,n.bounds);else{var i=document.createElement("canvas");i.width=this.layer.tileInfo.size[0],i.height=this.layer.tileInfo.size[1],r=i.getContext("2d"),this.tileContexts.set(n.id,r),this.drawGeometry(r,n.bounds)}}this.tileContexts.forEach(function(t,n){e.has(n)||this.tileContexts.delete(n)}.bind(this)),this.needsImageUpdate=!1},render:function(e){this.manageTileImages();var t=this.layer.tileInfo.size[0],n=e.state,r=n.pixelRatio,i=n.size[0],o=n.size[1],a=e.context,s=[0,0];a.clearRect(0,0,i*r,o*r),0!==n.rotation&&(a.translate(i*r*.5,o*r*.5),a.rotate(n.rotation*Math.PI/180),a.translate(-i*r*.5,-o*r*.5)),a.globalAlpha=this.layer.color[3];for(var l=0;l<this.tiles.length;++l){var c=this.tiles[l],u=this.tileContexts.get(c.id),p=c.resolution/n.resolution*r;n.toScreenNoRotation(s,c.coords),a.drawImage(u.canvas,s[0],s[1],t*p,t*p)}},detach:function(){this.watchHandles.removeAll()},tilesChanged:function(){}});t.a=p},669:function(e,t,n){var r,i;r=[n.dj.c(e.i),t,n(117),n(151),n(173),n(585),n(219),n(675),n(218),n(285)],void 0===(i=function(e,t,n,r,i,o,a,s,l,c){var u=new Set,p=[],d=[],h=function(e,t,n,r,o,a,s,l,c){void 0===l&&(l=[0,0]),void 0===c&&(c=i.create()),this.id=e,this.level=t,this.row=n,this.col=r,this.world=o,this.resolution=a,this.scale=s,this.coords=l,this.bounds=c};return function(e){function t(t){var n=e.call(this,t)||this;return n._tileMap=new Map,n.container=new s.default(n),n.layer=null,n.tiles=[],n}return n.__extends(t,e),Object.defineProperty(t.prototype,"_tileInfoView",{get:function(){var e=this.layer&&this.layer.tileInfo;return e?new o.TileInfoView(e):null},enumerable:!0,configurable:!0}),t.prototype.attach=function(){},t.prototype.detach=function(){},t.prototype.requestRender=function(){this.container.requestRender()},t.prototype.tilesChanged=function(e,t){},t.prototype.doRefresh=function(){return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(e){return[2]}))}))},t.prototype.isUpdating=function(){return!1},t.prototype.update=function(e){var t=this._tileInfoView,n=this.tiles;if(t){var r=t.getTileCoverage(e.state,0),i=r.spans,o=r.lodInfo,a=o.level;if(i.length)for(var s=0,l=i;s<l.length;s++)for(var c=l[s],f=c.row,g=c.colFrom,_=c.colTo,y=g;y<=_;y++){var v=o.normalizeCol(y),m=o.getWorldForColumn(y),b=a+"/"+f+"/"+v+"/"+m;if(!this._tileMap.has(b)){var w=new h(b,a,f,v,m,o.resolution,o.scale);o.getTileCoords(w.coords,w,!1),o.getTileBounds(w.bounds,w,!0),this._tileMap.set(b,w),n.push(w),p.push(w)}u.add(b)}}for(var E=n.length-1;E>=0;E--)w=n[E],u.has(w.id)||(n.splice(E,1),d.push(w),this._tileMap.delete(w.id));(p.length||d.length)&&(this.tilesChanged(p,d),p.length=d.length=0),u.clear(),this.requestRender()},t.prototype.moveStart=function(){},t.prototype.viewChange=function(){this.requestUpdate()},t.prototype.moveEnd=function(){},n.__decorate([r.property({dependsOn:["layer.loaded"]})],t.prototype,"_tileInfoView",null),n.__decorate([r.property()],t.prototype,"layer",void 0),n.__decorate([r.subclass("esri.views.2d.layers.BaseLayerView2D")],t)}(c.RefreshableLayerView(a.LayerView2DMixin(l)))}.apply(null,r))||(e.exports=i)},675:function(e,t,n){var r,i;r=[n.dj.c(e.i),t,n(117),n(186),n(544)],void 0===(i=function(e,t,n,r,i){Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var n=e.call(this)||this;return n.requestRender=n.requestRender.bind(n),n._layerView=t,n._canvas=document.createElement("canvas"),n._context=n._canvas.getContext("2d"),n._bitmap=new r.Bitmap(null,!1),n.addChild(n._bitmap),n}return n.__extends(t,e),t.prototype.doRender=function(t){var r=t.state,i=this._createCustomRenderParams(t),o=this._canvas,a=this._bitmap,s=window.devicePixelRatio;o.width=r.size[0]*s,o.height=r.size[1]*s,a.resolution=r.resolution;var l=r.clone();l.pixelRatio=s,a.pixelRatio=s,i.state=l,a.x=r.viewpoint.targetGeometry.x-r.extent.width/2,a.y=r.viewpoint.targetGeometry.y+r.extent.height/2,this._layerView.render(i),a.source=o,a.rotation=r.rotation,e.prototype.doRender.call(this,n.__assign(n.__assign({},t),{state:l}))},t.prototype._createCustomRenderParams=function(e){return{globalOpacity:e.globalOpacity,state:e.state,stationary:e.stationary,pixelRatio:window.devicePixelRatio,context:this._context}},t}(i.BitmapContainer);t.Display=o,t.default=o}.apply(null,r))||(e.exports=i)}}]);
//# sourceMappingURL=44.js.map