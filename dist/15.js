(function(){var e={"esri/tasks/support/FeatureSet":187,"esri/widgets/TimeSlider":757,"esri/widgets/Slider":1423,"esri/widgets/Slider/SliderViewModel":1440,"esri/widgets/TimeSlider/TimeSliderViewModel":1441},t=this||window,i=t.webpackJsonp=t.webpackJsonp||[];i.registerAbsMids?i.registerAbsMids(e):(i.absMidsWaiting=i.absMidsWaiting||[]).push(e)})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[15,32,188],{1423:function(e,t,i){var n,r;n=[i.dj.c(e.i),t,i(117),i(258),i(335),i(270),i(156),i(152),i(151),i(575),i(1424),i(188),i(1440),i(183)],void 0===(r=function(e,t,i,n,r,o,s,a,l,u,d,p,c,h){var m="esri-slider__range-input",_="esri-hidden",v="Enter",f="ArrowUp",y="ArrowRight",g="Home",b=s.getLogger("esri.widgets.Slider"),x={labels:!1,rangeLabels:!1};return function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._activeLabelInputIndex=null,r._anchorElements=[],r._baseNode=null,r._dragged=!1,r._dragStartInfo=null,r._focusedAnchorIndex=null,r._isMinInputActive=!1,r._isMaxInputActive=!1,r._labelElements=[],r._lastMovedHandleIndex=null,r._observer=null,r._positionPrecision=5,r._segmentDragStartInfo=null,r._segmentElements=[],r._thumbElements=[],r._tickElements=[],r._trackHeight=null,r._trackWidth=null,r._zIndices=null,r._zIndexOffset=3,r.disabled=!1,r.extraNodes=[],r.draggableSegmentsEnabled=!0,r.inputCreatedFunction=null,r.inputFormatFunction=null,r.inputParseFunction=null,r.label=void 0,r.labelInputsEnabled=!1,r.labelFormatFunction=null,r.labels=null,r.max=null,r.messages=null,r.min=null,r.precision=4,r.rangeLabelInputsEnabled=!1,r.snapOnClickEnabled=!0,r.steps=null,r.thumbsConstrained=!0,r.thumbCreatedFunction=null,r.tickConfigs=null,r.trackElement=null,r.values=null,r.viewModel=new c,r.visibleElements=i.__assign({},x),r._observer=new d((function(){return r.scheduleRender()})),r._onAnchorPointerDown=r._onAnchorPointerDown.bind(r),r._onAnchorPointerMove=r._onAnchorPointerMove.bind(r),r._onAnchorPointerUp=r._onAnchorPointerUp.bind(r),r._onLabelPointerDown=r._onLabelPointerDown.bind(r),r._onLabelPointerUp=r._onLabelPointerUp.bind(r),r._onSegmentPointerDown=r._onSegmentPointerDown.bind(r),r._onSegmentPointerMove=r._onSegmentPointerMove.bind(r),r._onSegmentPointerUp=r._onSegmentPointerUp.bind(r),r._onTrackPointerDown=r._onTrackPointerDown.bind(r),r}return i.__extends(t,e),t.prototype.destroy=function(){document.removeEventListener("pointerup",this._onLabelPointerUp),document.removeEventListener("pointermove",this._onLabelPointerMove),document.removeEventListener("pointerup",this._onAnchorPointerUp),document.removeEventListener("pointermove",this._onAnchorPointerMove)},Object.defineProperty(t.prototype,"labelsVisible",{set:function(e){r.deprecatedProperty(b,"labelsVisible",{replacement:"visibleElements.labels",version:"4.15"}),this.visibleElements=i.__assign(i.__assign({},this.visibleElements),{labels:e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"layout",{set:function(e){-1===["vertical","vertical-reversed","horizontal","horizontal-reversed"].indexOf(e)&&(e="horizontal"),this._set("layout",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangeLabelsVisible",{set:function(e){r.deprecatedProperty(b,"rangeLabelsVisible",{replacement:"visibleElements.rangeLabels",version:"4.15"}),this.visibleElements=i.__assign(i.__assign({},this.visibleElements),{rangeLabels:e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){var e=this,t=e._activeLabelInputIndex,i=e._isMaxInputActive,n=e._isMinInputActive,r=e._dragStartInfo,o=e._segmentDragStartInfo,s=e.viewModel,l=a.isSome(r)||a.isSome(o);return null!==t||i||n?"editing":l?"dragging":s.state},enumerable:!0,configurable:!0}),t.prototype.castVisibleElements=function(e){return i.__assign(i.__assign({},x),e)},t.prototype.render=function(){var e=this.label,t=this.classes("esri-slider","esri-widget",this._isHorizontalLayout()?"esri-slider--horizontal":"esri-slider--vertical",this._isReversedLayout()?"esri-slider--reversed":null,this._isDisabled()?"esri-disabled":null);return this._storeTrackDimensions(),h.tsx("div",{afterCreate:this._afterBaseNodeCreate,bind:this,"aria-label":e,class:t,"touch-action":"none"},this.renderContent())},t.prototype.toNextStep=function(e){this._toStep(e,1)},t.prototype.toPreviousStep=function(e){this._toStep(e,-1)},t.prototype.renderContent=function(){var e=this.max,t=this.min;if(a.isSome(t)&&a.isSome(e)&&!(t>e))return[this.renderMin(),this.renderSliderContainer(),this.renderMax()]},t.prototype.renderSliderContainer=function(){return h.tsx("div",{key:"slider-container",bind:this,class:"esri-slider__content"},this.renderTrackElement(),this.renderTicksContainer(),this.renderExtraContentElements())},t.prototype.renderTrackElement=function(){return h.tsx("div",{afterCreate:this._afterTrackCreate,bind:this,class:"esri-slider__track","data-node-ref":"trackElement","touch-action":"none"},this.renderSegmentElements(),this.renderAnchorElements())},t.prototype.renderSegmentElements=function(){if(this.trackElement&&this.values&&this.values.length){for(var e=this.values.length+1,t=[],i=0;i<e;i++)t.push(this.renderSegmentElement(i));return t}},t.prototype.renderSegmentElement=function(e){var t,n,r=this,o=r._trackHeight,s=r._trackWidth,l=r.draggableSegmentsEnabled,u=r.id,d=r.state,p=r.values,c=this._isHorizontalLayout(),m=c?s:o,_=e===p.length?null:e,v=0===e?null:e-1,f=a.isSome(_),y=a.isSome(v),g=i.__spreadArrays(p).sort((function(e,t){return e-t}));this._isReversedLayout()?(t=y?this._positionFromValue(g[v]):c?m:0,n=f?this._positionFromValue(g[_]):c?0:m):(t=f?this._positionFromValue(g[_]):c?m:0,n=y?this._positionFromValue(g[v]):c?0:m);var b=this._applyPrecisionToPosition(100*n/m),x=(t-n)/m,w=c?"transform: translate("+b+"%, 0px) scale("+x+", 1);":"transform: translate(0px, "+b+"%) scale(1, "+x+");",E=this.classes("esri-slider__segment","esri-slider__segment-"+e,l&&f&&y&&"disabled"!==d?"esri-slider__segment--interactive":null);return h.tsx("div",{afterCreate:this._afterSegmentCreate,afterRemoved:this._afterSegmentRemoved,bind:this,class:E,"data-max-thumb-index":_,"data-min-thumb-index":v,"data-segment-index":e,key:u+"-segment-"+e,style:w,"touch-action":"none"})},t.prototype.renderAnchorElements=function(){var e=this,t=this.trackElement,i=this.values;if(i&&i.length)return this._zIndices=i.map((function(t,n){var r=e._positionFromValue(t),o=e._positionToPercent(r),s=(e._isHorizontalLayout()?o>50:o<50)?-1:1;return e._zIndexOffset+(i.length+s*n)})),t&&i&&i.length?i.map((function(t,i){return e.renderAnchorElement(t,i)})):null},t.prototype.renderAnchorElement=function(e,t){var i=this._positionFromValue(e),r=this._valueFromPosition(i);if(a.isSome(r)&&!isNaN(r)){var o=this,s=o._dragStartInfo,l=o._lastMovedHandleIndex,u=o.id,d=o.layout,p=o.values,c=o.visibleElements.labels,m=s&&s.index===t,_=l===t,v=this.classes("esri-slider__anchor","esri-slider__anchor-"+t,m?"esri-slider__anchor--moving":null,_?"esri-slider__anchor--moved":null),f=this.labels.values[t],y=this._getStyleForAnchor(e,t,m||_),g=this.viewModel.getBoundsForValueAtIndex(t),b=g.min,x=g.max,w=this.messages,E=2===p.length?0===t?n.substitute(w.rangeMinimum,{value:e}):n.substitute(w.rangeMaximum,{value:e}):f,P=1===p.length?null:0===t?u+"-handle-"+(t+1):t===p.length-1?u+"-handle-"+(t-1):u+"-handle-"+(t-1)+" "+u+"-handle-"+(t+1);return h.tsx("div",{afterCreate:this._afterAnchorCreate,afterUpdate:this._afterAnchorUpdate,afterRemoved:this._afterAnchorRemoved,"aria-controls":P,"aria-label":w.sliderValue,"aria-labelledby":c?u+"-label-"+t:null,"aria-orientation":d,"aria-valuemax":x.toString(),"aria-valuemin":b.toString(),"aria-valuenow":e.toString(),"aria-valuetext":E,bind:this,class:v,"data-thumb-index":t,"data-value":e,id:u+"-handle-"+t,key:u+"-handle-"+t,onkeydown:this._onAnchorKeyDown,"touch-action":"none",role:"slider",style:y,tabIndex:0},h.tsx("span",{afterCreate:this._afterThumbCreate,afterRemoved:this._afterThumbRemoved,bind:this,class:"esri-slider__thumb","data-thumb-index":t,"touch-action":"none"}),this.renderThumbLabel(t))}},t.prototype.renderThumbLabel=function(e){var t=this.id,i=this.labels,n=this.labelInputsEnabled,r=this.state,o=this.visibleElements.labels,s=i.values[e],a=this.classes("esri-slider__label",o?null:_,n&&"disabled"!==r?"esri-slider__label--interactive":null);return h.tsx("span",{afterCreate:this._afterLabelCreate,afterRemoved:this._afterLabelRemoved,"aria-hidden":!o,bind:this,class:a,"data-thumb-index":e,key:t+"-label-"+e,id:t+"-label-"+e,role:n?"button":null,"touch-action":"none"},this._activeLabelInputIndex===e?this.renderValueInput(e):s)},t.prototype.renderValueInput=function(e){var t=this.values[e];return h.tsx("input",{afterCreate:this._afterInputCreate,"aria-label":this.messages.sliderValue,bind:this,class:"esri-slider__label-input","data-input-type":"thumb","data-input-index":e,required:!0,tabIndex:0,type:"text",value:this._formatInputValue(t,"value",e),onblur:this._onLabelInputBlur,onkeydown:this._onInputKeyDown})},t.prototype.renderMax=function(){var e=this._isMaxInputActive,t=this.labels,i=this.rangeLabelInputsEnabled,n=this.state,r=this.visibleElements.rangeLabels,o=this.classes("esri-slider__max",r?null:_,i&&"disabled"!==n?"esri-slider__max--interactive":null);return h.tsx("div",{"aria-hidden":!r,bind:this,class:o,onclick:this._onMaxLabelClick,onkeydown:this._onMaxLabelKeyDown,role:i?"button":null,tabIndex:i?0:null},e?this.renderMaxInput():t.max)},t.prototype.renderMin=function(){var e=this._isMinInputActive,t=this.labels,i=this.rangeLabelInputsEnabled,n=this.state,r=this.visibleElements.rangeLabels,o=this.classes("esri-slider__min",r?null:_,i&&"disabled"!==n?"esri-slider__min--interactive":null);return h.tsx("div",{"aria-hidden":!r,bind:this,class:o,onclick:this._onMinLabelClick,onkeydown:this._onMinLabelKeyDown,role:i?"button":null,tabIndex:i?0:null},e?this.renderMinInput():t.min)},t.prototype.renderMaxInput=function(){return h.tsx("input",{afterCreate:this._afterInputCreate,"aria-label":this.messages.maximumValue,bind:this,class:m,"data-input-type":"max",required:!0,tabIndex:0,type:"text",value:this._formatInputValue(this.max,"max"),onblur:this._onMaxInputBlur,onkeydown:this._onInputKeyDown})},t.prototype.renderMinInput=function(){return h.tsx("input",{afterCreate:this._afterInputCreate,"aria-label":this.messages.minimumValue,bind:this,class:m,"data-input-type":"min",required:!0,tabIndex:0,type:"text",value:this._formatInputValue(this.min,"min"),onblur:this._onMinInputBlur,onkeydown:this._onInputKeyDown})},t.prototype.renderExtraContentElements=function(){return h.tsx("div",{bind:this,class:"esri-slider__extra-content"},this.extraNodes)},t.prototype.renderTicksContainer=function(){var e=this;if(this.tickConfigs&&this.trackElement&&(0!==this._trackHeight||0!==this._trackWidth))return this.tickConfigs.map((function(t,i){return h.tsx("div",{key:"ticks-container",class:e.classes("esri-slider__ticks")},e.renderTicks(t,i))}))},t.prototype.renderTicks=function(e,t){var i=this,n=e.mode,r=e.values;if(this._tickElements[t]=[],"position"===n){var o=Array.isArray(r)?r:[r];return this._calculateTickPositions(o).map((function(n,r){return i.renderTickGroup(e,r,t,n)}))}if("percent"===n&&Array.isArray(r)){var s=this.max,a=this.min,l=s-a,u=r.map((function(e){return i._applyPrecisionToPosition(e/100*l+a)}));return this._calculateTickPositions(u).map((function(n,r){return i.renderTickGroup(e,r,t,n)}))}var d=Array.isArray(r)&&r.length?r[0]:isNaN(r)?null:r,p=this._getTickCounts(d,e);return this._calculateEquidistantTickPositions(p).map((function(n,r){return i.renderTickGroup(e,r,t,n)}))},t.prototype.renderTickGroup=function(e,t,i,n){var r="position"===e.mode?Array.isArray(e.values)?e.values[t]:e.values:this._valueFromPosition(n);if(a.isSome(r)&&!isNaN(r))return h.tsx("div",{afterCreate:this._afterTickGroupCreate,bind:this,"data-config":e,"data-position":n,"data-tick-config-index":i,"data-tick-group-index":t,"data-value":r,key:"tick-group-"+t},this.renderTickLine(e,t,i,r),e.labelsVisible?this.renderTickLabel(e,t,i,r):null)},t.prototype.renderTickLine=function(e,t,i,n){return h.tsx("div",{afterCreate:this._afterTickLineCreate,"aria-valuenow":n.toString(),bind:this,class:"esri-slider__tick","data-tick-config-index":i,"data-tick-group-index":t,"data-value":n,key:"tick-label-"+t,style:this._getPositionStyleForElement(n)})},t.prototype.renderTickLabel=function(e,t,i,n){var r=e.labelFormatFunction?e.labelFormatFunction(n,"tick",t):this.viewModel.getLabelForValue(n,"tick",t);return h.tsx("div",{afterCreate:this._afterTickLabelCreate,"aria-label":r,"aria-valuenow":n.toString(),"aria-valuetext":r,bind:this,class:"esri-slider__tick-label","data-tick-config-index":i,"data-tick-group-index":t,"data-value":n,key:"tick-label-"+t,style:"transform: translate(-50%); "+this._getPositionStyleForElement(n)},r)},t.prototype._afterBaseNodeCreate=function(e){this._baseNode&&this._observer.unobserve(this._baseNode),this._baseNode=e,this._observer.observe(this._baseNode)},t.prototype._afterTrackCreate=function(e){h.storeNode.call(this,e),u.applyLocal(e),e.addEventListener("pointerdown",this._onTrackPointerDown),this.scheduleRender()},t.prototype._afterSegmentCreate=function(e){this._segmentElements.push(e),u.applyLocal(e),e.addEventListener("pointerdown",this._onSegmentPointerDown)},t.prototype._afterSegmentRemoved=function(e){var t=this._segmentElements.indexOf(e,0);t>-1&&this._segmentElements.splice(t,1),e.removeEventListener("pointerdown",this._onSegmentPointerDown)},t.prototype._afterAnchorCreate=function(e){if(this._anchorElements.push(e),u.applyLocal(e),e.addEventListener("pointerdown",this._onAnchorPointerDown),this.thumbCreatedFunction){var t=e["data-thumb-index"],i=e["data-value"],n=this._thumbElements[t]||null,r=this._labelElements[t]||null;this.thumbCreatedFunction(t,i,n,r)}},t.prototype._afterAnchorUpdate=function(e){a.isSome(this._focusedAnchorIndex)&&e["data-thumb-index"]===this._focusedAnchorIndex&&(e.focus(),this._focusedAnchorIndex=null)},t.prototype._afterAnchorRemoved=function(e){var t=this._anchorElements.indexOf(e,0);t>-1&&this._anchorElements.splice(t,1),e.removeEventListener("pointerdown",this._onAnchorPointerDown)},t.prototype._afterThumbCreate=function(e){this._thumbElements.push(e)},t.prototype._afterThumbRemoved=function(e){var t=this._thumbElements.indexOf(e,0);t>-1&&this._thumbElements.splice(t,1)},t.prototype._afterLabelCreate=function(e){this._labelElements.push(e),u.applyLocal(e),e.addEventListener("pointerdown",this._onLabelPointerDown),e.addEventListener("pointerup",this._onLabelPointerUp)},t.prototype._afterLabelRemoved=function(e){var t=this._labelElements.indexOf(e,0);t>-1&&this._labelElements.splice(t,1),e.removeEventListener("pointerdown",this._onLabelPointerDown),e.removeEventListener("pointerup",this._onLabelPointerUp)},t.prototype._afterInputCreate=function(e){if(e.focus(),e.select(),this.inputCreatedFunction){var t=e.getAttribute("data-input-type"),i="thumb"===t?e["data-input-index"]:null;this.inputCreatedFunction(e,t,i)}},t.prototype._afterTickLineCreate=function(e){var t=e["data-tick-config-index"],i=e["data-tick-group-index"],n=this._tickElements[t];n[i]?n[i].line=e:n[i]={line:e,label:null}},t.prototype._afterTickLabelCreate=function(e){var t=e["data-tick-config-index"],i=e["data-tick-group-index"],n=this._tickElements[t];n[i]?n[i].label=e:n[i]={label:e,line:null}},t.prototype._afterTickGroupCreate=function(e){var t=e["data-config"];if(t&&t.tickCreatedFunction){var i=e["data-tick-config-index"],n=e["data-tick-group-index"],r=e["data-value"],o=this._tickElements[i][n];if(o){var s=o.line||null,a=o.label||null;t.tickCreatedFunction(r,s,a)}}},t.prototype._onAnchorKeyDown=function(e){if(!this._isDisabled()&&"editing"!==this.state){var t=e.target,i=o.eventKey(e),n=this._anchorElements,r=this.values,s=t["data-thumb-index"],l=n[s],u=r[s],d=this._isHorizontalLayout(),p=[f,"ArrowDown","ArrowLeft",y];if(i===v&&this.labelInputsEnabled)this._activeLabelInputIndex=s,this.notifyChange("state");else if(p.indexOf(i)>-1){e.preventDefault();var c=this.steps,h=i===f||i===y?1:-1;if(a.isSome(c))this._toStep(s,this._isReversedLayout()?-1*h:h);else{var m=this._getPositionOfElement(l),_=this._isHorizontalLayout()?h:-1*h,b=m+_,x=0===this.precision?this._positionFromValue(this._valueFromPosition(b)+_):b;this._toPosition(s,x)}u!==(w=this.values[s])&&this._emitThumbChangeEvent({index:s,oldValue:u,value:w})}else if("End"===i||i===g){e.preventDefault();var w,E=this._getAnchorBoundsInPixels(s),P=E.min,S=E.max;b=d?"End"===i?S:P:i===g?S:P,this._toPosition(s,b),u!==(w=this.values[s])&&this._emitThumbChangeEvent({index:s,oldValue:u,value:w})}}},t.prototype._onAnchorPointerDown=function(e){if(!this._isDisabled()){var t=e.target,i=e.clientX,n=e.clientY,r=t["data-thumb-index"];void 0!==r&&(e.preventDefault(),this._anchorElements[r]&&this._anchorElements[r].focus(),this._storeTrackDimensions(),this._dragStartInfo={clientX:i,clientY:n,index:r,position:this._getPositionOfElement(this._anchorElements[r])},this.notifyChange("state"),document.addEventListener("pointerup",this._onAnchorPointerUp),document.addEventListener("pointermove",this._onAnchorPointerMove))}},t.prototype._onAnchorPointerMove=function(e){if("editing"!==this.state&&this._dragStartInfo){e.preventDefault();var t=this,i=t.values,n=t._anchorElements,r=t._dragged,o=t._dragStartInfo,s=t._dragStartInfo,a=s.index,l=s.position,u=e.clientX,d=e.clientY,p=r?"drag":"start",c=n[a],h=this._getPositionOfElement(c),m=this._applyPrecisionToPosition(this._isHorizontalLayout()?l+u-o.clientX:l+d-o.clientY);if(h!==m){var _=i[a];this._dragged=!0,this._toPosition(a,m);var v=this.values[a];r?_!==v&&this._emitThumbDragEvent({index:a,state:p,value:v}):this._emitThumbDragEvent({index:a,state:p,value:_})}}},t.prototype._onAnchorPointerUp=function(e){if(document.removeEventListener("pointerup",this._onAnchorPointerUp),document.removeEventListener("pointermove",this._onAnchorPointerMove),this._dragStartInfo){e.preventDefault();var t=this._dragStartInfo.index,i=this._dragged;this._dragged=!1,this._dragStartInfo=null,this._lastMovedHandleIndex=t,i?(this.notifyChange("state"),this._emitThumbDragEvent({index:t,state:"stop",value:this.values[t]})):this.scheduleRender()}},t.prototype._onTrackPointerDown=function(e){var t=this._dragStartInfo,i=this.snapOnClickEnabled,n=this.state,r=this.values;if(!this._isDisabled()&&"editing"!==n&&!t&&i&&r.length){var o=this.steps,s=e.clientX,l=e.clientY,u=this._getCursorPositionFromEvent(e),d=this._valueFromPosition(u),p=this._getIndexOfNearestValue(d);if(a.isSome(p)){var c=r[p],h=a.isSome(o)?this._calculateNearestStepPosition(u):u;this._toPosition(p,h),this._dragged=!0,this._dragStartInfo={clientX:s,clientY:l,index:p,position:h},this._focusedAnchorIndex=p,this.notifyChange("state"),this._emitThumbDragEvent({index:p,state:"start",value:c});var m=this.values[p];c!==m&&this._emitThumbDragEvent({index:p,state:"drag",value:m}),document.addEventListener("pointerup",this._onAnchorPointerUp),document.addEventListener("pointermove",this._onAnchorPointerMove)}}},t.prototype._onSegmentPointerDown=function(e){e.preventDefault();var t=this.draggableSegmentsEnabled,i=e.target,n=i["data-segment-index"],r=i["data-min-thumb-index"],o=i["data-max-thumb-index"];!this._isDisabled()&&t&&a.isSome(r)&&a.isSome(o)&&(e.stopPropagation(),this._storeTrackDimensions(),this._segmentDragStartInfo={cursorPosition:this._getCursorPositionFromEvent(e),index:n,details:this._normalizeSegmentDetails({min:this._getAnchorDetails(r),max:this._getAnchorDetails(o)})},this.notifyChange("state"),this._emitSegmentDragEvent({index:n,state:"start",thumbIndices:[r,o]}),document.addEventListener("pointerup",this._onSegmentPointerUp),document.addEventListener("pointermove",this._onSegmentPointerMove))},t.prototype._onSegmentPointerMove=function(e){if(this._segmentDragStartInfo){e.preventDefault();var t=this._trackHeight,i=this._trackWidth,n=this._segmentDragStartInfo,r=n.index,o=n.cursorPosition,s=n.details,a=s.min,l=s.max,u=a.index,d=a.position,p=a.value,c=l.index,h=l.position,m=l.value;this._dragged=!0;var _=this._getCursorPositionFromEvent(e);if(_!==o){var v=this._positionToPercent(o),f=this._positionToPercent(_)-v,y=this._positionToPercent(d)+f,g=this._positionToPercent(h)+f,b=this._getAnchorBoundsAsPercents(u).min,x=this._getAnchorBoundsAsPercents(c).max,w=!1,E=!1;if(y<b?w=!0:g>x&&(E=!0),w){var P=this.viewModel.getBoundsForValueAtIndex(u),S=P.min,k=P.max,T=I=this._isPositionInverted()?k:S,M=m+(I-p);this._updateAnchorValues([u,c],[T,M])}else if(E){var I,F=this.viewModel.getBoundsForValueAtIndex(c);S=F.min,k=F.max,M=I=this._isPositionInverted()?S:k,T=p+(I-m),this._updateAnchorValues([u,c],[T,M])}else{var O=this._isHorizontalLayout()?i:t,A=g/100*O,L=y/100*O,C=this.values,D=[C[u],C[c]],V=this._getValueForAnchorAtPosition(u,L),j=this._getValueForAnchorAtPosition(c,A);this._updateAnchorValues([u,c],[V,j]),[this.values[u],this.values[c]].every((function(e,t){return e===D[t]}))||this._emitSegmentDragEvent({index:r,state:"drag",thumbIndices:[u,c]})}}}},t.prototype._onSegmentPointerUp=function(e){if(e.preventDefault(),document.removeEventListener("pointerup",this._onSegmentPointerUp),document.removeEventListener("pointermove",this._onSegmentPointerMove),this._segmentDragStartInfo){var t=this.max,i=this.min,n=this.values,r=this._segmentDragStartInfo,o=r.index,s=r.details,a=s.min.index,l=s.max.index,u=t-i,d=n[a],p=n[l];this._lastMovedHandleIndex=d===p?d>u/2?a:l:null,this._dragged=!1,this._segmentDragStartInfo=null,this.notifyChange("state"),this._emitSegmentDragEvent({index:o,state:"stop",thumbIndices:[a,l]})}},t.prototype._storeTrackDimensions=function(){if(this.trackElement){var e=this._getDimensions(this.trackElement);this._trackHeight=e.height,this._trackWidth=e.width}},t.prototype._onLabelPointerDown=function(){this._isDisabled()||(this._dragged=!1,document.addEventListener("pointerup",this._onAnchorPointerUp),document.addEventListener("pointermove",this._onAnchorPointerMove))},t.prototype._onLabelPointerMove=function(){this._isDisabled()||(this._dragged=!0)},t.prototype._onLabelPointerUp=function(e){if(!this._isDisabled()){var t=e.target["data-thumb-index"];this.labelInputsEnabled&&!this._dragged&&a.isSome(t)&&(this._activeLabelInputIndex=t),this._dragged=!1,this.notifyChange("state"),document.removeEventListener("pointerup",this._onLabelPointerUp),document.removeEventListener("pointermove",this._onLabelPointerMove)}},t.prototype._onLabelInputBlur=function(e){var t=this._activeLabelInputIndex,i=this.values,n=this.viewModel,r=e.target.value;if(this._activeLabelInputIndex=null,this.notifyChange("state"),r){var o=this._parseInputValue(r,"value",t),s=i[t],a=this.viewModel.getBoundsForValueAtIndex(t),l=a.min,u=a.max;if(!(o<l||o>u)){n.setValue(t,o);var d=this.values[t];s!==d&&this._emitThumbChangeEvent({index:t,oldValue:s,value:d})}}},t.prototype._onInputKeyDown=function(e){if(!this._isDisabled()){var t=e.target,i=o.eventKey(e),n=this._activeLabelInputIndex,r=this._anchorElements,s=t;if("Enter"===i||"Escape"===i||"Tab"===i){e.stopPropagation();var l=n;s.blur(),a.isSome(l)?r[l].focus():s.parentElement.focus()}}},t.prototype._onMaxLabelClick=function(){!this._isDisabled()&&this.rangeLabelInputsEnabled&&(this._isMaxInputActive=!0,this.notifyChange("state"))},t.prototype._onMaxLabelKeyDown=function(e){this._isDisabled()||o.eventKey(e)!==v||(this._isMaxInputActive=!0,this.notifyChange("state"))},t.prototype._onMaxInputBlur=function(e){var t=e.target.value;if(this._isMaxInputActive=!1,this.notifyChange("state"),t){var i=this.max,n=this._parseInputValue(t,"max");n<=this.min||(this.viewModel.set("max",n),this.max!==i&&this._emitMaxChangeEvent({oldValue:i,value:this.max}))}},t.prototype._onMinLabelClick=function(){!this._isDisabled()&&this.rangeLabelInputsEnabled&&(this._isMinInputActive=!0,this.notifyChange("state"))},t.prototype._onMinLabelKeyDown=function(e){this._isDisabled()||o.eventKey(e)!==v||(this._isMinInputActive=!0,this.notifyChange("state"))},t.prototype._onMinInputBlur=function(){var e=event.target.value;if(this._isMinInputActive=!1,this.notifyChange("state"),e){var t=this.min,i=this._parseInputValue(e,"min");i>=this.max||(this.viewModel.set("min",i),this.min!==t&&this._emitMinChangeEvent({oldValue:t,value:this.min}))}},t.prototype._isDisabled=function(){return this.disabled||"disabled"===this.state},t.prototype._positionFromValue=function(e){var t=this.max,i=this.min,n=t-i;if(0===n)return 0;var r=this._trackHeight,o=this._trackWidth,s=this._isHorizontalLayout(),a=s?parseFloat((o*(e-i)/n).toFixed(2)):parseFloat((r*(t-e)/n).toFixed(2));return this._isReversedLayout()&&(a=s?o-a:r-a),a},t.prototype._valueFromPosition=function(e){var t=this,i=t._trackHeight,n=t._trackWidth,r=t.max,o=t.min,s=t.precision,a=r-o,l=this._isHorizontalLayout()?e*a/n+o:a*(1e3-e/i*1e3)/1e3+o;return this._isReversedLayout()&&(l=r+o-l),parseFloat(l.toFixed(s))},t.prototype._positionToPercent=function(e){var t=this._trackHeight,i=this._trackWidth,n=100*e/(this._isHorizontalLayout()?i:t);return this._applyPrecisionToPosition(n)},t.prototype._applyPrecisionToPosition=function(e){return parseFloat(e.toFixed(this._positionPrecision))},t.prototype._isPositionInverted=function(){var e=this.layout;return"horizontal-reversed"===e||"vertical"===e},t.prototype._isHorizontalLayout=function(){return this.layout.indexOf("horizontal")>-1},t.prototype._isReversedLayout=function(){return this.layout.indexOf("reversed")>-1},t.prototype._normalizeSegmentDetails=function(e){if(this._isPositionInverted()){var t=e.min;return{min:e.max,max:t}}return e},t.prototype._parseInputValue=function(e,t,i){return this.inputParseFunction?this.inputParseFunction(e,t,i):this.viewModel.defaultInputParseFunction(e)},t.prototype._formatInputValue=function(e,t,i){return this.inputFormatFunction?this.inputFormatFunction(e,t,i):this.viewModel.defaultInputFormatFunction(e)},t.prototype._getAnchorDetails=function(e){return{index:e,position:this._getPositionOfElement(this._anchorElements[e]),value:this.values[e]}},t.prototype._updateAnchorStyle=function(e,t){var i=this._anchorElements[e];i&&(this._isHorizontalLayout()?i.style.left=""+t:i.style.top=""+t)},t.prototype._getStyleForAnchor=function(e,t,i){var n=this._getPositionStyleForElement(e);if(1===this.values.length)return""+n;var r=this._zIndices[t];return n+"; z-index: "+(i?this._zIndexOffset+r:r)},t.prototype._getPositionStyleForElement=function(e){var t=this._positionFromValue(e),i=this._positionToPercent(t);return(this._isHorizontalLayout()?"left":"top")+": "+i+"%"},t.prototype._getPositionOfElement=function(e){var t=this._getDimensions(e.offsetParent),i=this._getDimensions(e);return this._isHorizontalLayout()?this._applyPrecisionToPosition(i.left-t.left):this._applyPrecisionToPosition(i.top-t.top)},t.prototype._updateAnchorValues=function(e,t){var i=this;e.forEach((function(e,n){return i._toValue(e,t[n])}))},t.prototype._toValue=function(e,t){a.isSome(this.steps)&&(t=this._getStepValues()[this._getIndexOfNearestStepValue(t)]),this._updateAnchorStyle(e,this._getPositionStyleForElement(t)),this.viewModel.setValue(e,t)},t.prototype._toPosition=function(e,t){var i=a.isSome(this.steps)?this._getStepValueForAnchorAtPosition(e,t):this._getValueForAnchorAtPosition(e,t);this._updateAnchorStyle(e,this._getPositionStyleForElement(i)),this.viewModel.setValue(e,i)},t.prototype._getValueForAnchorAtPosition=function(e,t){var i,n,r=this._getAnchorBoundsInPixels(e),o=r.min,s=r.max,a=this.viewModel.getBoundsForValueAtIndex(e),l=a.min,u=a.max,d=null;return this._isPositionInverted()?(i=l,n=u):(i=u,n=l),(d=t>s?i:t<o?n:this._valueFromPosition(t))>u?d=u:d<l&&(d=l),d},t.prototype._getStepValueForAnchorAtPosition=function(e,t){var i=this._getStepValues(),n=this._calculateNearestStepPosition(t),r=this._getValueForAnchorAtPosition(e,n);return i[this._getIndexOfNearestStepValue(r)]},t.prototype._getAnchorBoundsAsPercents=function(e){var t=this._getAnchorBoundsInPixels(e),i=t.min,n=t.max;return{min:this._positionToPercent(i),max:this._positionToPercent(n)}},t.prototype._getAnchorBoundsInPixels=function(e){var t=this._anchorElements,i=this._trackHeight,n=this._trackWidth,r=this.thumbsConstrained,o=t[e-1],s=t[e+1],a=this._isHorizontalLayout()?n:i;return r?this._isPositionInverted()?{max:o?this._getPositionOfElement(o):a,min:s?this._getPositionOfElement(s):0}:{max:s?this._getPositionOfElement(s):a,min:o?this._getPositionOfElement(o):0}:{max:a,min:0}},t.prototype._getIndexOfNearestValue=function(e){return this.values.indexOf(this.values.reduce((function(t,i){return Math.abs(i-e)<Math.abs(t-e)?i:t})))},t.prototype._getCursorPositionFromEvent=function(e){var t=this._getDimensions(this.trackElement);return this._isHorizontalLayout()?e.clientX-t.left:e.clientY-t.top},t.prototype._getStepValues=function(){var e=this.steps;if(Array.isArray(e))return e;for(var t=this.max,i=this.min,n=Math.ceil((t-i)/e),r=[],o=0;o<=n;o++){var s=i+e*o;r.push(s>t?t:s)}return r},t.prototype._toStep=function(e,t){var i=this.values,n=this.viewModel,r=i[e],o=this._getStepValues(),s=o.indexOf(r),a=null;if(s>-1){var l=o[s+t],u=this._positionFromValue(l);a=this._getStepValueForAnchorAtPosition(e,u)}else a=o[this._getIndexOfNearestStepValue(r)+t];n.setValue(e,a)},t.prototype._getIndexOfNearestStepValue=function(e){var t=this.steps;if(!a.isSome(t))return null;var i=this._getStepValues(),n=i.reduce((function(t,i){return Math.abs(i-e)<Math.abs(t-e)?i:t}));return i.indexOf(n)},t.prototype._calculateNearestStepPosition=function(e){var t=this._valueFromPosition(e),i=this._getIndexOfNearestStepValue(t),n=this._getStepValues();return this._positionFromValue(n[i])},t.prototype._getTickCounts=function(e,t){var i=t.mode;return"count"===i||"position"===i?e||0:"percent"===i&&100/e||0},t.prototype._calculateTickPositions=function(e){var t=this;return e.map((function(e){return t._positionFromValue(e)}))},t.prototype._calculateEquidistantTickPositions=function(e){var t=this._trackWidth,i=this._trackHeight,n=this._isHorizontalLayout()?t:i,r=n/(e-1),o=[];if(1===e)return[n/2];for(var s=0;s<e;s++){var a=s*r;a<=n&&o.push(a)}return o},t.prototype._getDimensions=function(e){try{return e.getBoundingClientRect()}catch(e){if("object"==typeof e&&null!==e)return{top:0,bottom:0,left:0,width:0,height:0,right:0};throw e}},t.prototype._emitMaxChangeEvent=function(e){this.emit("max-change",i.__assign(i.__assign({},e),{type:"max-change"}))},t.prototype._emitMinChangeEvent=function(e){this.emit("min-change",i.__assign(i.__assign({},e),{type:"min-change"}))},t.prototype._emitThumbChangeEvent=function(e){this.emit("thumb-change",i.__assign(i.__assign({},e),{type:"thumb-change"}))},t.prototype._emitThumbDragEvent=function(e){this.emit("thumb-drag",i.__assign(i.__assign({},e),{type:"thumb-drag"}))},t.prototype._emitSegmentDragEvent=function(e){this.emit("segment-drag",i.__assign(i.__assign({},e),{type:"segment-drag"}))},i.__decorate([l.property(),h.renderable()],t.prototype,"disabled",void 0),i.__decorate([l.property()],t.prototype,"extraNodes",void 0),i.__decorate([l.property(),h.renderable()],t.prototype,"draggableSegmentsEnabled",void 0),i.__decorate([l.property()],t.prototype,"inputCreatedFunction",void 0),i.__decorate([l.aliasOf("viewModel.inputFormatFunction")],t.prototype,"inputFormatFunction",void 0),i.__decorate([l.aliasOf("viewModel.inputParseFunction")],t.prototype,"inputParseFunction",void 0),i.__decorate([l.property({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],t.prototype,"label",void 0),i.__decorate([l.property()],t.prototype,"labelInputsEnabled",void 0),i.__decorate([l.aliasOf("viewModel.labelFormatFunction")],t.prototype,"labelFormatFunction",void 0),i.__decorate([l.aliasOf("viewModel.labels")],t.prototype,"labels",void 0),i.__decorate([l.property(),h.renderable()],t.prototype,"labelsVisible",null),i.__decorate([l.property({value:"horizontal"}),h.renderable()],t.prototype,"layout",null),i.__decorate([l.aliasOf("viewModel.max")],t.prototype,"max",void 0),i.__decorate([l.property(),h.renderable(),h.messageBundle("esri/widgets/Slider/t9n/Slider")],t.prototype,"messages",void 0),i.__decorate([l.aliasOf("viewModel.min")],t.prototype,"min",void 0),i.__decorate([l.aliasOf("viewModel.precision")],t.prototype,"precision",void 0),i.__decorate([l.property()],t.prototype,"rangeLabelInputsEnabled",void 0),i.__decorate([l.property(),h.renderable()],t.prototype,"rangeLabelsVisible",null),i.__decorate([l.property()],t.prototype,"snapOnClickEnabled",void 0),i.__decorate([l.property({dependsOn:["viewModel.state"],readOnly:!0}),h.renderable()],t.prototype,"state",null),i.__decorate([l.property(),h.renderable()],t.prototype,"steps",void 0),i.__decorate([l.aliasOf("viewModel.thumbsConstrained")],t.prototype,"thumbsConstrained",void 0),i.__decorate([l.property()],t.prototype,"thumbCreatedFunction",void 0),i.__decorate([l.property(),h.renderable()],t.prototype,"tickConfigs",void 0),i.__decorate([l.property()],t.prototype,"trackElement",void 0),i.__decorate([l.aliasOf("viewModel.values")],t.prototype,"values",void 0),i.__decorate([l.property(),h.renderable(["viewModel.thumbsConstrained","viewModel.max","viewModel.min","viewModel.precision","viewModel.labelFormatFunction","viewModel.labels","viewModel.values"])],t.prototype,"viewModel",void 0),i.__decorate([l.property(),h.renderable()],t.prototype,"visibleElements",void 0),i.__decorate([l.cast("visibleElements")],t.prototype,"castVisibleElements",null),i.__decorate([l.subclass("esri.widgets.Slider")],t)}(p)}.apply(null,n))||(e.exports=r)},1424:function(e,t,i){e.exports=function(){"use strict";var e=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var i=-1;return e.some((function(e,n){return e[0]===t&&(i=n,!0)})),i}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var i=e(this.__entries__,t),n=this.__entries__[i];return n&&n[1]},t.prototype.set=function(t,i){var n=e(this.__entries__,t);~n?this.__entries__[n][1]=i:this.__entries__.push([t,i])},t.prototype.delete=function(t){var i=this.__entries__,n=e(i,t);~n&&i.splice(n,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var i=0,n=this.__entries__;i<n.length;i++){var r=n[i];e.call(t,r[1],r[0])}},t}()}(),t="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,i="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),n="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},r=["top","right","bottom","left","width","height","size","weight"],o="undefined"!=typeof MutationObserver,s=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var i=!1,r=!1,o=0;function s(){i&&(i=!1,e()),r&&l()}function a(){n(s)}function l(){var e=Date.now();if(i){if(e-o<2)return;r=!0}else i=!0,r=!1,setTimeout(a,20);o=e}return l}(this.refresh.bind(this))}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,i=t.indexOf(e);~i&&t.splice(i,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){t&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),o?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){t&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,i=void 0===t?"":t;r.some((function(e){return!!~i.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),a=function(e,t){for(var i=0,n=Object.keys(t);i<n.length;i++){var r=n[i];Object.defineProperty(e,r,{value:t[r],enumerable:!1,writable:!1,configurable:!0})}return e},l=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||i},u=m(0,0,0,0);function d(e){return parseFloat(e)||0}function p(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return t.reduce((function(t,i){return t+d(e["border-"+i+"-width"])}),0)}var c="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof l(e).SVGGraphicsElement}:function(e){return e instanceof l(e).SVGElement&&"function"==typeof e.getBBox};function h(e){return t?c(e)?function(e){var t=e.getBBox();return m(0,0,t.width,t.height)}(e):function(e){var t=e.clientWidth,i=e.clientHeight;if(!t&&!i)return u;var n=l(e).getComputedStyle(e),r=function(e){for(var t={},i=0,n=["top","right","bottom","left"];i<n.length;i++){var r=n[i],o=e["padding-"+r];t[r]=d(o)}return t}(n),o=r.left+r.right,s=r.top+r.bottom,a=d(n.width),c=d(n.height);if("border-box"===n.boxSizing&&(Math.round(a+o)!==t&&(a-=p(n,"left","right")+o),Math.round(c+s)!==i&&(c-=p(n,"top","bottom")+s)),!function(e){return e===l(e).document.documentElement}(e)){var h=Math.round(a+o)-t,_=Math.round(c+s)-i;1!==Math.abs(h)&&(a-=h),1!==Math.abs(_)&&(c-=_)}return m(r.left,r.top,a,c)}(e):u}function m(e,t,i,n){return{x:e,y:t,width:i,height:n}}var _=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=m(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=h(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),v=function(e,t){var i,n,r,o,s,l,u,d=(n=(i=t).x,r=i.y,o=i.width,s=i.height,l="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,u=Object.create(l.prototype),a(u,{x:n,y:r,width:o,height:s,top:r,right:n+o,bottom:s+r,left:n}),u);a(this,{target:e,contentRect:d})},f=function(){function t(t,i,n){if(this.activeObservations_=[],this.observations_=new e,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=i,this.callbackCtx_=n}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof l(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new _(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof l(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new v(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),y="undefined"!=typeof WeakMap?new WeakMap:new e,g=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var i=s.getInstance(),n=new f(t,i,this);y.set(this,n)};return["observe","unobserve","disconnect"].forEach((function(e){g.prototype[e]=function(){var t;return(t=y.get(this))[e].apply(t,arguments)}})),void 0!==i.ResizeObserver?i.ResizeObserver:g}()},1440:function(e,t,i){var n,r;n=[i.dj.c(e.i),t,i(117),i(158),i(154),i(156),i(152),i(151)],void 0===(r=function(e,t,i,n,r,o,s,a){var l=o.getLogger("esri.widgets.Slider.SliderViewModel");return function(e){function t(t){var i=e.call(this,t)||this;return i.precision=4,i.thumbsConstrained=!0,i}return i.__extends(t,e),Object.defineProperty(t.prototype,"labelFormatFunction",{set:function(e){this._set("labelFormatFunction",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputFormatFunction",{set:function(e){this._set("inputFormatFunction",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputParseFunction",{set:function(e){this._set("inputParseFunction",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labels",{get:function(){var e=this,t=this.max,i=this.min,n=this.values,r=n&&n.length?n.map((function(t,i){return e.getLabelForValue(t,"value",i)})):[];return{max:this.getLabelForValue(t,"max"),min:this.getLabelForValue(i,"min"),values:r}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{set:function(e){this.setMax(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{set:function(e){this.setMin(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){var e=this.max,t=this.min;return s.isSome(e)&&s.isSome(t)?"ready":"disabled"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"values",{set:function(e){var t=this.max,i=this.min,n=this.values;n&&e&&n.length===e.length&&n.every((function(t,i){return t===e[i]}))||(this._set("values",null),e&&e.length&&(s.isSome(i)&&e.some((function(e){return e<i}))&&(this.min=Math.min.apply(Math,e)),s.isSome(t)&&e.some((function(e){return e>t}))&&(this.max=Math.max.apply(Math,e))),this._set("values",e))},enumerable:!0,configurable:!0}),t.prototype.toPrecision=function(e){return parseFloat(e.toFixed(this.precision))},t.prototype.defaultLabelFormatFunction=function(e){var t=this.max,i=this.min,n=this.precision,r=t-i>10?2:n;return parseFloat(e.toFixed(r)).toString()},t.prototype.defaultInputFormatFunction=function(e){return e.toString()},t.prototype.defaultInputParseFunction=function(e){return parseFloat(e)},t.prototype.getBoundsForValueAtIndex=function(e){var t=this.thumbsConstrained,i=this.max,n=this.min,r=this.values;if(t){var o=e-1,a=e+1;return{min:s.isSome(r[o])?r[o]:n,max:s.isSome(r[a])?r[a]:i}}return{min:n,max:i}},t.prototype.getLabelForValue=function(e,t,i){return s.isSome(e)?this.labelFormatFunction?this.labelFormatFunction(e,t,i):this.defaultLabelFormatFunction(e):null},t.prototype.setMax=function(e){var t=this.max,i=this.values;if(isNaN(e))this._logError("slider:invalid-value","Property 'max' must of type 'number'.");else if(null!==e){var n=this.toPrecision(e);if(t!==n&&(this._set("max",n),i&&i.length))for(var r=0;r<i.length;r++)n<i[r]&&this.setValue(r,n)}else this._set("max",null)},t.prototype.setMin=function(e){var t=this.min,i=this.values;if(isNaN(e))this._logError("slider:invalid-value","Property 'min' must of type 'number'.");else if(null!==e){var n=this.toPrecision(e);if(t!==n&&(this._set("min",n),i&&i.length))for(var r=0;r<i.length;r++)n>i[r]&&this.setValue(r,n)}else this._set("min",null)},t.prototype.setValue=function(e,t){if(isNaN(t))this._logError("slider:invalid-value","Members of property 'values' must of type 'number'.");else{var n=this.values,r=n[e],o=this.toPrecision(t);if(r!==o){var s=i.__spreadArrays(n);s[e]=o,this._set("values",s),this.notifyChange("labels")}}},t.prototype._logError=function(e,t,i){l.error(new r(e,t,i))},i.__decorate([a.property()],t.prototype,"labelFormatFunction",null),i.__decorate([a.property()],t.prototype,"inputFormatFunction",null),i.__decorate([a.property()],t.prototype,"inputParseFunction",null),i.__decorate([a.property({dependsOn:["labelFormatFunction","max","min","values"],readOnly:!0})],t.prototype,"labels",null),i.__decorate([a.property()],t.prototype,"max",null),i.__decorate([a.property()],t.prototype,"min",null),i.__decorate([a.property()],t.prototype,"precision",void 0),i.__decorate([a.property({dependsOn:["max","min"],readOnly:!0})],t.prototype,"state",null),i.__decorate([a.property()],t.prototype,"thumbsConstrained",void 0),i.__decorate([a.property()],t.prototype,"values",null),i.__decorate([a.subclass("esri.widgets.Slider.SliderViewModel")],t)}(n)}.apply(null,n))||(e.exports=r)},1441:function(e,t,i){var n,r;n=[i.dj.c(e.i),t,i(117),i(282),i(350),i(158),i(177),i(168),i(151),i(179),i(235)],void 0===(r=function(e,t,i,n,r,o,s,a,l,u,d){return function(e){function t(t){var i=e.call(this,t)||this;return i.fullTimeExtent=null,i.loop=!0,i.mode="time-window",i.stops={count:10},i.timerId=null,i.view=null,i}return i.__extends(t,e),t.prototype.destroy=function(){null!=this.timerId&&(clearInterval(this.timerId),this.timerId=null)},Object.defineProperty(t.prototype,"effectiveStops",{get:function(){var e=this.fullTimeExtent,t=this.stops;if(!t)return[];if("dates"in t){var i=t.dates;if(null==i||0===i.length)return null;var n=i.sort((function(e,t){return e.getTime()-t.getTime()}));return e?n.filter((function(t){var i=e.start,n=e.end;return!(t.getTime()<i.getTime()||t.getTime()>n.getTime())})):n}if("count"in t){var r=t.timeExtent||e;return this._divideTimeExtentByCount(r,t.count)}return"interval"in t?(r=t.timeExtent||e,this._divideTimeExtentByInterval(r,t.interval)):[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"playRate",{set:function(e){e<=0||e>36e5||("playing"===this.state&&this._startAnimation(),this._set("playRate",e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this.values&&this.fullTimeExtent?this.timerId?"playing":"ready":"disabled"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timeExtent",{get:function(){var e=this.mode,t=this.values;if(!t||0===t.length)return null;switch(e){case"instant":return new n({start:t[0],end:t[0]});case"time-window":return t.length>1?new n({start:t[0],end:t[1]}):null;case"cumulative-from-start":return new n({start:null,end:t[0]});case"cumulative-from-end":return new n({start:t[0],end:null});default:return void s.neverReached(e)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"values",{set:function(e){var t=this.fullTimeExtent,i=this.view;if(t){var n=t.start,r=t.end,o=n.getTime(),s=r.getTime();e=e&&e.filter((function(e){return e})).map((function(e){var t=e.getTime(),i=a.clamp(t,o,s);return new Date(i)}))}i&&(i.timeExtent=this._toTimeExtent(e)),this._set("values",e)},enumerable:!0,configurable:!0}),t.prototype.next=function(){this.values&&this.fullTimeExtent&&this._step(!0)},t.prototype.play=function(){this._clearAnimation(),this._startAnimation()},t.prototype.previous=function(){this._step(!1)},t.prototype.stop=function(){this._clearAnimation()},t.prototype._clearAnimation=function(){null!=this.timerId&&(clearInterval(this.timerId),this.timerId=null)},t.prototype._startAnimation=function(){var e=this;this._step(),this.timerId=setInterval((function(){e._step()}),this.playRate)},t.prototype._step=function(e){void 0===e&&(e=!0);var t=this.effectiveStops,i=this.values;if(i&&0!==i.length&&!(i.length>t.length)){var n=t.map((function(e){return e.getTime()})).sort((function(e,t){return e-t})),r=i.map((function(e){return e.getTime()})).map((function(e){var t=n.indexOf(e);if(-1!==t)return t;var i=n.reduce((function(t,i){return Math.abs(i-e)<Math.abs(t-e)?i:t}));return n.indexOf(i)})),o=r.map((function(t){return t+(e?1:-1)})),s=o.some((function(e){return e<0||e>n.length-1})),a=this.loop,l=this.state;if(s)if(a){var u=Math.min.apply(Math,r),d=Math.max.apply(Math,r),p=e?r.map((function(e){return e-u})):r.map((function(e){return e+(n.length-1-d)}));this.values=p.map((function(e){return new Date(n[e])}))}else"playing"===l&&this.stop();else this.values=o.map((function(e){return new Date(n[e])}))}},t.prototype._divideTimeExtentByCount=function(e,t){if(void 0===t&&(t=10),!e||!t)return[];var i=e.start,n=e.end;if(!i||!n)return[];if(t>1e4)return this._divideTimeExtentByCount(e);for(var r=[],o=i.getTime(),s=n.getTime()-o,a=0;a<=t;a++)r.push(new Date(o+a/t*s));return r},t.prototype._divideTimeExtentByInterval=function(e,t,i){if(void 0===i&&(i=1e4),!e||!t)return[];var n=e.start,r=e.end;if(!n||!r)return[];if((r.getTime()-n.getTime())/t.toMilliseconds()>i)return this._divideTimeExtentByCount(e);for(var o=[],s=t.value,a=t.unit,l=n;l.getTime()<=r.getTime();)o.push(new Date(l.getTime())),l=d.offsetDate(l,s,a);return o},t.prototype._toTimeExtent=function(e){if(!e||0===e.length)return null;var t=e[0],i=e.length>1?e[1]:e[0];switch(this.mode){case"instant":case"time-window":return new n({start:t,end:i});case"cumulative-from-start":return new n({start:null,end:t});case"cumulative-from-end":return new n({start:t,end:null});default:return null}},i.__decorate([l.property({dependsOn:["stops","fullTimeExtent"],readOnly:!0})],t.prototype,"effectiveStops",null),i.__decorate([l.property({type:n})],t.prototype,"fullTimeExtent",void 0),i.__decorate([l.property({nonNullable:!0})],t.prototype,"loop",void 0),i.__decorate([l.property({nonNullable:!0})],t.prototype,"mode",void 0),i.__decorate([l.property({nonNullable:!0,value:1e3})],t.prototype,"playRate",null),i.__decorate([l.property({dependsOn:["fullTimeExtent","timerId","values"],readOnly:!0})],t.prototype,"state",null),i.__decorate([l.property({cast:function(e){return e?("interval"in e&&(e.interval=u.ensureType(r,e.interval)),"timeExtent"in e&&(e.timeExtent=u.ensureType(n,e.timeExtent)),e):null}})],t.prototype,"stops",void 0),i.__decorate([l.property({dependsOn:["values"],readOnly:!0})],t.prototype,"timeExtent",null),i.__decorate([l.property()],t.prototype,"timerId",void 0),i.__decorate([l.property({value:null})],t.prototype,"values",null),i.__decorate([l.property()],t.prototype,"view",void 0),i.__decorate([l.property()],t.prototype,"next",null),i.__decorate([l.property()],t.prototype,"play",null),i.__decorate([l.property()],t.prototype,"previous",null),i.__decorate([l.property()],t.prototype,"stop",null),i.__decorate([l.subclass("esri.widgets.TimeSlider.TimeSliderViewModel")],t)}(o)}.apply(null,n))||(e.exports=r)},187:function(e,t,i){var n,r;n=[i.dj.c(e.i),t,i(117),i(159),i(174),i(166),i(155),i(152),i(151),i(170),i(163),i(194)],void 0===(r=function(e,t,i,n,r,o,s,a,l,u,d,p){var c=new o.default({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),h=function(e){function t(t){var i=e.call(this,t)||this;return i.displayFieldName=null,i.exceededTransferLimit=!1,i.features=[],i.fields=null,i.geometryType=null,i.hasM=!1,i.hasZ=!1,i.queryGeometry=null,i.spatialReference=null,i}return i.__extends(t,e),t.prototype.readFeatures=function(e,t){for(var i=u.fromJSON(t.spatialReference),n=[],o=0;o<e.length;o++){var s=e[o],l=r.fromJSON(s),d=s.geometry&&s.geometry.spatialReference;a.isSome(l.geometry)&&!d&&(l.geometry.spatialReference=i),n.push(l)}return n},t.prototype.writeGeometryType=function(e,t,i,n){if(e)c.write(e,t,i,n);else{var r=this.features;if(r)for(var o=0,s=r;o<s.length;o++){var l=s[o];if(l&&a.isSome(l.geometry))return void c.write(l.geometry.type,t,i,n)}}},t.prototype.writeSpatialReference=function(e,t){if(e)t.spatialReference=e.toJSON();else{var i=this.features;if(i)for(var n=0,r=i;n<r.length;n++){var o=r[n];o&&a.isSome(o.geometry)&&o.geometry.spatialReference&&(t.spatialReference=o.geometry.spatialReference.toJSON())}}},t.prototype.toJSON=function(e){var t=this.write(null);if(t.features&&Array.isArray(e)&&e.length>0)for(var i=0;i<t.features.length;i++){var n=t.features[i];if(n.geometry){var r=e&&e[i];n.geometry=r&&r.toJSON()||n.geometry}}return t},t.prototype.quantize=function(e){for(var t=e.scale,i=t[0],n=t[1],r=e.translate,o=r[0],s=r[1],l=this.features,u=this._getQuantizationFunction(this.geometryType,(function(e){return Math.round((e-o)/i)}),(function(e){return Math.round((s-e)/n)})),d=0,p=l.length;d<p;d++)u(a.unwrap(l[d].geometry))||(l.splice(d,1),d--,p--);return this.transform=e,this},t.prototype.unquantize=function(){var e=this.geometryType,t=this.features,i=this.transform;if(!i)return this;for(var n=i.translate,r=n[0],o=n[1],s=i.scale,l=s[0],u=s[1],d=this._getHydrationFunction(e,(function(e){return e*l+r}),(function(e){return o-e*u})),p=0,c=t;p<c.length;p++){var h=c[p].geometry;a.isSome(h)&&d(h)}return this},t.prototype._quantizePoints=function(e,t,i){for(var n,r,o=[],s=0,a=e.length;s<a;s++){var l=e[s];if(s>0){var u=t(l[0]),d=i(l[1]);u===n&&d===r||(o.push([u-n,d-r]),n=u,r=d)}else n=t(l[0]),r=i(l[1]),o.push([n,r])}return o.length>0?o:null},t.prototype._getQuantizationFunction=function(e,t,i){var n=this;return"point"===e?function(e){return e.x=t(e.x),e.y=i(e.y),e}:"polyline"===e||"polygon"===e?function(e){for(var r=d.isPolygon(e)?e.rings:e.paths,o=[],s=0,a=r.length;s<a;s++){var l=r[s],u=n._quantizePoints(l,t,i);u&&o.push(u)}return o.length>0?(d.isPolygon(e)?e.rings=o:e.paths=o,e):null}:"multipoint"===e?function(e){var r;return(r=n._quantizePoints(e.points,t,i)).length>0?(e.points=r,e):null}:"extent"===e?function(e){return e}:null},t.prototype._getHydrationFunction=function(e,t,i){return"point"===e?function(e){e.x=t(e.x),e.y=i(e.y)}:"polyline"===e||"polygon"===e?function(e){for(var n,r,o=d.isPolygon(e)?e.rings:e.paths,s=0,a=o.length;s<a;s++)for(var l=o[s],u=0,p=l.length;u<p;u++){var c=l[u];u>0?(n+=c[0],r+=c[1]):(n=c[0],r=c[1]),c[0]=t(n),c[1]=i(r)}}:"extent"===e?function(e){e.xmin=t(e.xmin),e.ymin=i(e.ymin),e.xmax=t(e.xmax),e.ymax=i(e.ymax)}:"multipoint"===e?function(e){for(var n,r,o=e.points,s=0,a=o.length;s<a;s++){var l=o[s];s>0?(n+=l[0],r+=l[1]):(n=l[0],r=l[1]),l[0]=t(n),l[1]=i(r)}}:void 0},i.__decorate([l.property({type:String,json:{write:!0}})],t.prototype,"displayFieldName",void 0),i.__decorate([l.property({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],t.prototype,"exceededTransferLimit",void 0),i.__decorate([l.property({type:[r],json:{write:!0}})],t.prototype,"features",void 0),i.__decorate([l.reader("features")],t.prototype,"readFeatures",null),i.__decorate([l.property({type:[p],json:{write:!0}})],t.prototype,"fields",void 0),i.__decorate([l.property({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:c.read}}})],t.prototype,"geometryType",void 0),i.__decorate([l.writer("geometryType")],t.prototype,"writeGeometryType",null),i.__decorate([l.property({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],t.prototype,"hasM",void 0),i.__decorate([l.property({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],t.prototype,"hasZ",void 0),i.__decorate([l.property({types:n.geometryTypes,json:{read:d.fromJSON,write:!0}})],t.prototype,"queryGeometry",void 0),i.__decorate([l.property({type:u,json:{write:!0}})],t.prototype,"spatialReference",void 0),i.__decorate([l.writer("spatialReference")],t.prototype,"writeSpatialReference",null),i.__decorate([l.property({json:{write:!0}})],t.prototype,"transform",void 0),i.__decorate([l.subclass("esri.tasks.support.FeatureSet")],t)}(s.JSONSupport);return h.prototype.toJSON.isDefaultToJSON=!0,h||(h={}),h}.apply(null,n))||(e.exports=r)},757:function(e,t,i){var n,r;n=[i.dj.c(e.i),t,i(117),i(350),i(180),i(169),i(177),i(154),i(270),i(168),i(152),i(516),i(157),i(151),i(366),i(235),i(1423),i(188),i(183),i(1441)],void 0===(r=function(e,t,i,n,r,o,s,a,l,u,d,p,c,h,m,_,v,f,y,g){var b="esri-widget--button",x="esri-button--disabled",w="esri-time-slider__row",E="esri-time-slider__time-extent-group",P="esri-time-slider__time-extent-date",S="esri-time-slider__time-extent-time",k=new o([{minor:new n({value:100,unit:"milliseconds"}),major:new n({value:1,unit:"seconds"}),format:{second:"numeric"}},{minor:new n({value:500,unit:"milliseconds"}),major:new n({value:5,unit:"seconds"}),format:{second:"numeric"}},{minor:new n({value:1,unit:"seconds"}),major:new n({value:20,unit:"seconds"}),format:{minute:"numeric",second:"numeric"}},{minor:new n({value:2,unit:"seconds"}),major:new n({value:30,unit:"seconds"}),format:{minute:"numeric",second:"numeric"}},{minor:new n({value:10,unit:"seconds"}),major:new n({value:1,unit:"minutes"}),format:{minute:"numeric"}},{minor:new n({value:15,unit:"seconds"}),major:new n({value:5,unit:"minutes"}),format:{hour:"numeric",minute:"numeric"}},{minor:new n({value:1,unit:"minutes"}),major:new n({value:20,unit:"minutes"}),format:{hour:"numeric",minute:"numeric"}},{minor:new n({value:5,unit:"minutes"}),major:new n({value:2,unit:"hours"}),format:{hour:"numeric",minute:"numeric"}},{minor:new n({value:15,unit:"minutes"}),major:new n({value:6,unit:"hours"}),format:{hour:"numeric",minute:"numeric"}},{minor:new n({value:1,unit:"hours"}),major:new n({value:1,unit:"days"}),format:{day:"numeric",month:"short"}},{minor:new n({value:6,unit:"hours"}),major:new n({value:1,unit:"weeks"}),format:{day:"numeric",month:"short"}},{minor:new n({value:1,unit:"days"}),major:new n({value:1,unit:"months"}),format:{month:"long"}},{minor:new n({value:2,unit:"days"}),major:new n({value:1,unit:"months"}),format:{month:"short"}},{minor:new n({value:3,unit:"days"}),major:new n({value:1,unit:"months"}),format:{month:"short"}},{minor:new n({value:4,unit:"days"}),major:new n({value:3,unit:"months"}),format:{month:"short",year:"numeric"}},{minor:new n({value:1,unit:"weeks"}),major:new n({value:1,unit:"years"}),format:{year:"numeric"}},{minor:new n({value:1,unit:"months"}),major:new n({value:1,unit:"years"}),format:{year:"numeric"}},{minor:new n({value:2,unit:"months"}),major:new n({value:2,unit:"years"}),format:{year:"numeric"}},{minor:new n({value:1,unit:"years"}),major:new n({value:1,unit:"decades"}),format:{year:"numeric"}},{minor:new n({value:2,unit:"years"}),major:new n({value:5,unit:"decades"}),format:{year:"numeric"}},{minor:new n({value:5,unit:"decades"}),major:new n({value:10,unit:"centuries"}),format:{era:"short",year:"numeric"}},{minor:new n({value:1,unit:"centuries"}),major:new n({value:10,unit:"centuries"}),format:{era:"short",year:"numeric"}},{minor:new n({value:2,unit:"centuries"}),major:new n({value:20,unit:"centuries"}),format:{era:"short",year:"numeric"}},{minor:new n({value:5,unit:"centuries"}),major:new n({value:50,unit:"centuries"}),format:{era:"short",year:"numeric"}},{minor:new n({value:10,unit:"centuries"}),major:new n({value:100,unit:"centuries"}),format:{era:"short",year:"numeric"}},{minor:new n({value:20,unit:"centuries"}),major:new n({value:200,unit:"centuries"}),format:{era:"short",year:"numeric"}},{minor:new n({value:50,unit:"centuries"}),major:new n({value:500,unit:"centuries"}),format:{era:"short",year:"numeric"}},{minor:new n({value:100,unit:"centuries"}),major:new n({value:1e3,unit:"centuries"}),format:{era:"short",year:"numeric"}},{minor:new n({value:200,unit:"centuries"}),major:new n({value:1e3,unit:"centuries"}),format:{era:"short",year:"numeric"}},{minor:new n({value:500,unit:"centuries"}),major:new n({value:5e3,unit:"centuries"}),format:{era:"short",year:"numeric"}},{minor:new n({value:1e3,unit:"centuries"}),major:new n({value:1e4,unit:"centuries"}),format:{era:"short",year:"numeric"}}]);return function(e){function t(t,i){var n=e.call(this,t,i)||this;return n._slider=new v({precision:0,visibleElements:{rangeLabels:!1},rangeLabelInputsEnabled:!1}),n._tickFormat=null,n.disabled=!1,n.effectiveStops=null,n.fullTimeExtent=null,n.iconClass="esri-icon-time-clock",n.label=void 0,n.loop=!0,n.messages=null,n.messagesCommon=null,n.playRate=1e3,n.mode="time-window",n.stops={count:10},n.tickConfigs=null,n.timeExtent=null,n.timeVisible=!1,n.values=null,n.view=null,n.viewModel=new g,n}return i.__extends(t,e),t.prototype.initialize=function(){var e=this;this.own([this._slider.watch("values",(function(t){var i,n=null===(i=e.values)||void 0===i?void 0:i.map((function(e){return e.getTime()}));r.equals(t,n)||e.set("values",t.map((function(e){return new Date(e)})))})),l.on(window,"resize",p.throttle((function(){return e.scheduleRender()}),100)),c.init(this,"effectiveStops",(function(){return e._updateSliderSteps()})),c.init(this,["stops","fullTimeExtent"],(function(){return e._createDefaultValues()}))]),this._validateTimeExtent()},t.prototype.destroy=function(){this.view=null,this._slider.destroy(),this._tickFormat=null},Object.defineProperty(t.prototype,"interactive",{get:function(){return!this.disabled&&this.viewModel&&"disabled"!==this.viewModel.state},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"layout",{set:function(e){-1===["auto","compact","wide"].indexOf(e)&&(e="auto"),this._set("layout",e)},enumerable:!0,configurable:!0}),t.prototype.next=function(){},t.prototype.play=function(){},t.prototype.previous=function(){},t.prototype.stop=function(){return null},t.prototype.render=function(){var e=this,t=e._slider,i=e.domNode,n=e.effectiveStops,o=e.fullTimeExtent,s=e.interactive,a=e.mode,l=e.tickConfigs,u=e.timeVisible,p=e.values,c=e.viewModel,h=e.messagesCommon;if(null!=o){var _=o.start,v=o.end;if(null!=_&&null!=v){var f=_.getTime(),g=v.getTime(),T=t.min!==f||t.max!==g;if(T&&(t.min=f,t.max=g),null!=l)t.tickConfigs!==l&&(t.tickConfigs=l);else{var M=(g-f)/(t.trackElement?t.trackElement.offsetWidth:400),I=k.find((function(e){return e.minor.toMilliseconds()>3*M})),F=this._tickFormat!==I&&null!=I;if(F&&(this._tickFormat=I),T||F){var O={mode:"position",values:this._getTickPositions(I.minor),labelsVisible:!1,tickCreatedFunction:function(e,t){t.classList.add("minorTick")}},A={mode:"position",values:this._getTickPositions(I.major),labelsVisible:!0,tickCreatedFunction:function(e,t){t.classList.add("majorTick")},labelFormatFunction:function(e){return m.formatDate(e,I.format)}};t.tickConfigs=[O,A]}}}}var L=p?p.map((function(e){return e.getTime()})):null;r.equals(t.values,L)||(t.values=L),t.disabled=!s;var C=o&&o.start,D=d.isSome(C)?this._formateDate(C):null,V=u&&d.isSome(C)?this._formateTime(C):null,j=o&&o.end,R=d.isSome(j)?this._formateDate(j):null,N=u&&d.isSome(j)?this._formateTime(j):null,z=null,H=null,B=null,U=null;if(p&&p.length>0){var G=p[0];z=this._formateDate(G),u&&(H=this._formateTime(G))}"time-window"===a&&p&&p.length>1&&(G=p[1],B=this._formateDate(G),u&&(U=this._formateTime(G)));var W=c.state,q="ready"===W,J="playing"===W,K=!s||0===n.length,X=y.tsx("div",{class:"esri-time-slider__animation"},y.tsx("button",{"aria-disabled":K?"true":"false","aria-label":J?h.control.stop:h.control.play,bind:this,class:this.classes(b,"esri-time-slider__animation-button",K&&x),disabled:K,title:J?h.control.stop:h.control.play,onclick:this._playOrStopClick},y.tsx("div",{class:this.classes((q||K)&&"esri-icon-play",J&&"esri-icon-pause")}))),Y=y.tsx("div",{class:this.classes("esri-time-slider__time-extent",!s&&x)},d.isSome(z)&&y.tsx("div",{key:"start-date-group",class:E},y.tsx("div",{key:"start-date",class:P},z),d.isSome(H)&&y.tsx("div",{key:"start-time",class:S},H)),d.isSome(B)&&y.tsx("div",{key:"separator",class:"esri-time-slider__time-extent-separator"},"–"),d.isSome(z)&&y.tsx("div",{key:"end-date-group",class:E},y.tsx("div",{key:"end-date",class:P},B),d.isSome(U)&&y.tsx("div",{key:"end-time",class:S},U))),Q=y.tsx("div",{class:this.classes("esri-time-slider__min",!s&&x)},d.isSome(D)&&y.tsx("div",{key:"min-date",class:"esri-time-slider__min-date"},D),d.isSome(V)&&y.tsx("div",{key:"min-time"},V)),Z=y.tsx("div",{class:"esri-time-slider__slider"},t.render()),$=y.tsx("div",{class:this.classes("esri-time-slider__max",!s&&x)},d.isSome(R)&&y.tsx("div",{key:"max-date",class:"esri-time-slider__max-date"},R),d.isSome(N)&&y.tsx("div",{key:"max-time"},N)),ee=y.tsx("div",{class:"esri-time-slider__previous"},y.tsx("button",{"aria-disabled":K?"true":"false","aria-label":h.pagination.previous,bind:this,class:this.classes(b,"esri-time-slider__previous-button",(J||K)&&x),disabled:K,title:h.pagination.previous,onclick:this._previousClick},y.tsx("div",{class:"esri-icon-reverse"}))),te=y.tsx("div",{class:"esri-time-slider__next"},y.tsx("button",{"aria-disabled":K?"true":"false","aria-label":h.pagination.next,bind:this,class:this.classes(b,"esri-time-slider__next-button",(J||K)&&x),disabled:K,title:h.pagination.next,onclick:this._nextClick},y.tsx("div",{class:"esri-icon-forward"}))),ie="auto"===this.layout?i.clientWidth<858?"compact":"wide":this.layout;return y.tsx("div",{class:this.classes("esri-time-slider","esri-widget","esri-time-slider__mode--"+a,"esri-time-slider__layout--"+ie,!s&&"esri-disabled")},"wide"===ie&&y.tsx("div",{class:w},[X,Y,Q,Z,$,ee,te]),"compact"===ie&&[y.tsx("div",{key:"time-slider-row-1",class:w},[Y]),y.tsx("div",{key:"time-slider-row-2",class:w},[Z]),y.tsx("div",{key:"time-slider-row-3",class:w},[Q,ee,X,te,$])])},t.prototype._createDefaultValues=function(){var e=this.fullTimeExtent,t=this.effectiveStops,i=this.mode,n=this.values;e&&t&&i&&!n&&(this.values="time-window"===i?t.length>1?[t[0],t[1]]:null:t.length>0?[t[0]]:null)},t.prototype._getTickPositions=function(e){for(var t=this.fullTimeExtent,i=t.start,n=t.end,r=[],o=e.value,s=e.unit,a=_.truncateDate(i,s);a.getTime()<=n.getTime();)a.getTime()>=i.getTime()&&r.push(a.getTime()),a=_.offsetDate(a,o,s);return r},t.prototype._formateDate=function(e){return m.formatDate(e,m.convertDateFormatToIntlOptions("short-date"))},t.prototype._formateTime=function(e){return m.formatDate(e,m.convertDateFormatToIntlOptions("long-time"))},t.prototype._updateSliderSteps=function(){this._slider.steps=this.effectiveStops&&this.effectiveStops.length>0?this.effectiveStops.map((function(e){return e.getTime()})):null},t.prototype._validateTimeExtent=function(){var e=this;if(this.fullTimeExtent&&this.mode&&this.values){if(!Array.isArray(this.values))throw new a("time-slider:invalid-values","Values must be an array of dates.");if(0===this.values.length||this.values.some((function(e){return!(e instanceof Date)})))throw new a("time-slider:invalid-values","Values must be an array of dates.");switch(this.values=this.values.map((function(t){var i=t.getTime(),n=u.clamp(i,e.fullTimeExtent.start.getTime(),e.fullTimeExtent.end.getTime());return new Date(n)})),this.mode){case"instant":case"cumulative-from-start":case"cumulative-from-end":this.values.length>1&&this.values.splice(1);break;case"time-window":1===this.values.length?this.values.push(this.fullTimeExtent.end):this.values.length>2&&this.values.splice(2),this.values.sort((function(e,t){return e.getTime()-t.getTime()}));break;default:s.neverReached(this.mode)}}},t.prototype._playOrStopClick=function(){switch(this.viewModel.state){case"ready":this.viewModel.play();break;case"playing":this.viewModel.stop();break;case"disabled":break;default:s.neverReached(this.viewModel.state)}},t.prototype._previousClick=function(){this.viewModel.previous()},t.prototype._nextClick=function(){this.viewModel.next()},i.__decorate([h.property()],t.prototype,"disabled",void 0),i.__decorate([h.aliasOf("viewModel.effectiveStops"),y.renderable()],t.prototype,"effectiveStops",void 0),i.__decorate([h.aliasOf("viewModel.fullTimeExtent"),y.renderable()],t.prototype,"fullTimeExtent",void 0),i.__decorate([h.property()],t.prototype,"iconClass",void 0),i.__decorate([h.property({dependsOn:["disabled","viewModel.state"],readOnly:!0}),y.renderable()],t.prototype,"interactive",null),i.__decorate([h.property({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],t.prototype,"label",void 0),i.__decorate([h.property({value:"auto"}),y.renderable()],t.prototype,"layout",null),i.__decorate([h.aliasOf("viewModel.loop")],t.prototype,"loop",void 0),i.__decorate([h.property(),y.renderable(),y.messageBundle("esri/widgets/TimeSlider/t9n/TimeSlider")],t.prototype,"messages",void 0),i.__decorate([h.property(),y.renderable(),y.messageBundle("esri/t9n/common")],t.prototype,"messagesCommon",void 0),i.__decorate([h.aliasOf("viewModel.playRate")],t.prototype,"playRate",void 0),i.__decorate([h.aliasOf("viewModel.mode"),y.renderable()],t.prototype,"mode",void 0),i.__decorate([h.aliasOf("viewModel.stops")],t.prototype,"stops",void 0),i.__decorate([h.property(),y.renderable()],t.prototype,"tickConfigs",void 0),i.__decorate([h.aliasOf("viewModel.timeExtent")],t.prototype,"timeExtent",void 0),i.__decorate([h.property({nonNullable:!0}),y.renderable()],t.prototype,"timeVisible",void 0),i.__decorate([h.aliasOf("viewModel.values"),y.renderable()],t.prototype,"values",void 0),i.__decorate([h.aliasOf("viewModel.view")],t.prototype,"view",void 0),i.__decorate([h.property({type:g}),y.renderable(["viewModel.state"])],t.prototype,"viewModel",void 0),i.__decorate([h.aliasOf("viewModel.next")],t.prototype,"next",null),i.__decorate([h.aliasOf("viewModel.play")],t.prototype,"play",null),i.__decorate([h.aliasOf("viewModel.previous")],t.prototype,"previous",null),i.__decorate([h.aliasOf("viewModel.stop")],t.prototype,"stop",null),i.__decorate([y.accessibleHandler()],t.prototype,"_playOrStopClick",null),i.__decorate([y.accessibleHandler()],t.prototype,"_previousClick",null),i.__decorate([y.accessibleHandler()],t.prototype,"_nextClick",null),i.__decorate([h.subclass("esri.widgets.TimeSlider")],t)}(f)}.apply(null,n))||(e.exports=r)}}]);
//# sourceMappingURL=15.js.map