(function(){var e={"esri/tasks/support/FeatureSet":187,"esri/geometry/support/normalizeUtils":234,"esri/tasks/geometry/cut":279,"esri/tasks/geometry/simplify":280,"esri/tasks/support/GPMessage":511,"esri/core/queryUtils":714,"esri/tasks/mixins/NAServiceDescription":715,"esri/tasks/support/NAMessage":716,"esri/tasks/support/DirectionsFeatureSet":1026,"esri/tasks/RouteTask":2048,"esri/tasks/support/RouteResultsContainer":2049,"esri/tasks/support/RouteResult":2050},r=this||window,t=r.webpackJsonp=r.webpackJsonp||[];t.registerAbsMids?t.registerAbsMids(e):(t.absMidsWaiting=t.absMidsWaiting||[]).push(e)})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[58,32,188],{1026:function(e,r,t){var o,n;o=[t.dj.c(e.i),r,t(117),t(159),t(174),t(152),t(151),t(187)],void 0===(n=function(e,r,t,o,n,i,s,a){return function(e){function r(r){var t=e.call(this,r)||this;return t.extent=null,t.features=null,t.geometryType="polyline",t.routeId=null,t.routeName=null,t.totalDriveTime=null,t.totalLength=null,t.totalTime=null,t}return t.__extends(r,e),r.prototype.readFeatures=function(e,r){var t=this;(e||[]).forEach((function(e){t._decompressFeatureGeometry(e,r.summary.envelope.spatialReference)}));var s=o.SpatialReference.fromJSON(r.spatialReference);return e.map((function(e){var r=n.fromJSON(e),t=e.geometry&&e.geometry.spatialReference;return r.geometry&&!t&&(i.unwrap(r.geometry).spatialReference=s),r.strings=e.strings,r.events=(e.events||[]).map((function(r){var t=new n({geometry:new o.Point({x:r.point.x,y:r.point.y,z:r.point.z,hasZ:void 0!==r.point.z,spatialReference:e.geometry&&e.geometry.spatialReference}),attributes:{ETA:r.ETA,arriveTimeUTC:r.arriveTimeUTC}});return t.strings=r.strings,t})),r}))},Object.defineProperty(r.prototype,"mergedGeometry",{get:function(){if(!this.features)return null;var e=this.features.map((function(e){var r=e.geometry;return i.unwrap(r)})),r=this.get("extent.spatialReference");return this._mergePolylinesToSinglePath(e,r)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"strings",{get:function(){return this.features.map((function(e){return e.strings}))},enumerable:!0,configurable:!0}),r.prototype._decompressFeatureGeometry=function(e,r){e.geometry=this._decompressGeometry(e.compressedGeometry,r)},r.prototype._decompressGeometry=function(e,r){var t,o,n,i,s,a,p,u,l=0,c=0,f=0,y=0,d=[],v=0,h=0,g=0;if((s=e.match(/((\+|\-)[^\+\-\|]+|\|)/g))||(s=[]),0===parseInt(s[v],32)){v=2;var m=parseInt(s[v],32);v++,a=parseInt(s[v],32),v++,1&m&&(h=s.indexOf("|")+1,p=parseInt(s[h],32),h++),2&m&&(g=s.indexOf("|",h)+1,u=parseInt(s[g],32),g++)}else a=parseInt(s[v],32),v++;for(;v<s.length&&"|"!==s[v];){t=parseInt(s[v],32)+l,v++,l=t,o=parseInt(s[v],32)+c,v++,c=o;var _=[t/a,o/a];h&&(i=parseInt(s[h],32)+f,h++,f=i,_.push(i/p)),g&&(n=parseInt(s[g],32)+y,g++,y=n,_.push(n/u)),d.push(_)}return{paths:[d],hasZ:h>0,hasM:g>0,spatialReference:r}},r.prototype._mergePolylinesToSinglePath=function(e,r){var t=[];(e||[]).forEach((function(e){e.paths.forEach((function(e){t=t.concat(e)}))}));var n=[],i=[0,0];return t.forEach((function(e){e[0]===i[0]&&e[1]===i[1]||(n.push(e),i=e)})),new o.Polyline({paths:[n]},r)},t.__decorate([s.property({type:o.Extent,json:{read:{source:"summary.envelope"}}})],r.prototype,"extent",void 0),t.__decorate([s.property()],r.prototype,"features",void 0),t.__decorate([s.reader("features")],r.prototype,"readFeatures",null),t.__decorate([s.property()],r.prototype,"geometryType",void 0),t.__decorate([s.property({readOnly:!0,dependsOn:["features","extent.spatialReference"]})],r.prototype,"mergedGeometry",null),t.__decorate([s.property()],r.prototype,"routeId",void 0),t.__decorate([s.property()],r.prototype,"routeName",void 0),t.__decorate([s.property({value:null,readOnly:!0,dependsOn:["features"]})],r.prototype,"strings",null),t.__decorate([s.property({json:{read:{source:"summary.totalDriveTime"}}})],r.prototype,"totalDriveTime",void 0),t.__decorate([s.property({json:{read:{source:"summary.totalLength"}}})],r.prototype,"totalLength",void 0),t.__decorate([s.property({json:{read:{source:"summary.totalTime"}}})],r.prototype,"totalTime",void 0),t.__decorate([s.subclass("esri.tasks.support.DirectionsFeatureSet")],r)}(a)}.apply(null,o))||(e.exports=n)},187:function(e,r,t){var o,n;o=[t.dj.c(e.i),r,t(117),t(159),t(174),t(166),t(155),t(152),t(151),t(170),t(163),t(194)],void 0===(n=function(e,r,t,o,n,i,s,a,p,u,l,c){var f=new i.default({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),y=function(e){function r(r){var t=e.call(this,r)||this;return t.displayFieldName=null,t.exceededTransferLimit=!1,t.features=[],t.fields=null,t.geometryType=null,t.hasM=!1,t.hasZ=!1,t.queryGeometry=null,t.spatialReference=null,t}return t.__extends(r,e),r.prototype.readFeatures=function(e,r){for(var t=u.fromJSON(r.spatialReference),o=[],i=0;i<e.length;i++){var s=e[i],p=n.fromJSON(s),l=s.geometry&&s.geometry.spatialReference;a.isSome(p.geometry)&&!l&&(p.geometry.spatialReference=t),o.push(p)}return o},r.prototype.writeGeometryType=function(e,r,t,o){if(e)f.write(e,r,t,o);else{var n=this.features;if(n)for(var i=0,s=n;i<s.length;i++){var p=s[i];if(p&&a.isSome(p.geometry))return void f.write(p.geometry.type,r,t,o)}}},r.prototype.writeSpatialReference=function(e,r){if(e)r.spatialReference=e.toJSON();else{var t=this.features;if(t)for(var o=0,n=t;o<n.length;o++){var i=n[o];i&&a.isSome(i.geometry)&&i.geometry.spatialReference&&(r.spatialReference=i.geometry.spatialReference.toJSON())}}},r.prototype.toJSON=function(e){var r=this.write(null);if(r.features&&Array.isArray(e)&&e.length>0)for(var t=0;t<r.features.length;t++){var o=r.features[t];if(o.geometry){var n=e&&e[t];o.geometry=n&&n.toJSON()||o.geometry}}return r},r.prototype.quantize=function(e){for(var r=e.scale,t=r[0],o=r[1],n=e.translate,i=n[0],s=n[1],p=this.features,u=this._getQuantizationFunction(this.geometryType,(function(e){return Math.round((e-i)/t)}),(function(e){return Math.round((s-e)/o)})),l=0,c=p.length;l<c;l++)u(a.unwrap(p[l].geometry))||(p.splice(l,1),l--,c--);return this.transform=e,this},r.prototype.unquantize=function(){var e=this.geometryType,r=this.features,t=this.transform;if(!t)return this;for(var o=t.translate,n=o[0],i=o[1],s=t.scale,p=s[0],u=s[1],l=this._getHydrationFunction(e,(function(e){return e*p+n}),(function(e){return i-e*u})),c=0,f=r;c<f.length;c++){var y=f[c].geometry;a.isSome(y)&&l(y)}return this},r.prototype._quantizePoints=function(e,r,t){for(var o,n,i=[],s=0,a=e.length;s<a;s++){var p=e[s];if(s>0){var u=r(p[0]),l=t(p[1]);u===o&&l===n||(i.push([u-o,l-n]),o=u,n=l)}else o=r(p[0]),n=t(p[1]),i.push([o,n])}return i.length>0?i:null},r.prototype._getQuantizationFunction=function(e,r,t){var o=this;return"point"===e?function(e){return e.x=r(e.x),e.y=t(e.y),e}:"polyline"===e||"polygon"===e?function(e){for(var n=l.isPolygon(e)?e.rings:e.paths,i=[],s=0,a=n.length;s<a;s++){var p=n[s],u=o._quantizePoints(p,r,t);u&&i.push(u)}return i.length>0?(l.isPolygon(e)?e.rings=i:e.paths=i,e):null}:"multipoint"===e?function(e){var n;return(n=o._quantizePoints(e.points,r,t)).length>0?(e.points=n,e):null}:"extent"===e?function(e){return e}:null},r.prototype._getHydrationFunction=function(e,r,t){return"point"===e?function(e){e.x=r(e.x),e.y=t(e.y)}:"polyline"===e||"polygon"===e?function(e){for(var o,n,i=l.isPolygon(e)?e.rings:e.paths,s=0,a=i.length;s<a;s++)for(var p=i[s],u=0,c=p.length;u<c;u++){var f=p[u];u>0?(o+=f[0],n+=f[1]):(o=f[0],n=f[1]),f[0]=r(o),f[1]=t(n)}}:"extent"===e?function(e){e.xmin=r(e.xmin),e.ymin=t(e.ymin),e.xmax=r(e.xmax),e.ymax=t(e.ymax)}:"multipoint"===e?function(e){for(var o,n,i=e.points,s=0,a=i.length;s<a;s++){var p=i[s];s>0?(o+=p[0],n+=p[1]):(o=p[0],n=p[1]),p[0]=r(o),p[1]=t(n)}}:void 0},t.__decorate([p.property({type:String,json:{write:!0}})],r.prototype,"displayFieldName",void 0),t.__decorate([p.property({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],r.prototype,"exceededTransferLimit",void 0),t.__decorate([p.property({type:[n],json:{write:!0}})],r.prototype,"features",void 0),t.__decorate([p.reader("features")],r.prototype,"readFeatures",null),t.__decorate([p.property({type:[c],json:{write:!0}})],r.prototype,"fields",void 0),t.__decorate([p.property({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:f.read}}})],r.prototype,"geometryType",void 0),t.__decorate([p.writer("geometryType")],r.prototype,"writeGeometryType",null),t.__decorate([p.property({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],r.prototype,"hasM",void 0),t.__decorate([p.property({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],r.prototype,"hasZ",void 0),t.__decorate([p.property({types:o.geometryTypes,json:{read:l.fromJSON,write:!0}})],r.prototype,"queryGeometry",void 0),t.__decorate([p.property({type:u,json:{write:!0}})],r.prototype,"spatialReference",void 0),t.__decorate([p.writer("spatialReference")],r.prototype,"writeSpatialReference",null),t.__decorate([p.property({json:{write:!0}})],r.prototype,"transform",void 0),t.__decorate([p.subclass("esri.tasks.support.FeatureSet")],r)}(s.JSONSupport);return y.prototype.toJSON.isDefaultToJSON=!0,y||(y={}),y}.apply(null,o))||(e.exports=n)},2048:function(e,r,t){var o,n;o=[t.dj.c(e.i),r,t(117),t(165),t(153),t(714),t(229),t(151),t(234),t(327),t(715),t(2049)],void 0===(n=function(e,r,t,o,n,i,s,a,p,u,l,c){var f=i.createQueryParamsHelper({accumulateAttributes:{name:"accumulateAttributeNames"},attributeParameterValues:!0,directionsTimeAttribute:{name:"directionsTimeAttributeName"},impedanceAttribute:{name:"impedanceAttributeName"},outSpatialReference:{name:"outSR",getter:function(e){return e.outSpatialReference.wkid}},pointBarriers:{name:"barriers"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:"restrictionAttributeNames"},stops:!0,travelMode:!0});return function(e){function r(r){return e.call(this,r)||this}return t.__extends(r,e),r.prototype.solve=function(e,r){var i=this,a=[],u=[],l={},c={};return e.stops&&e.stops.features&&this._collectGeometries(e.stops.features,u,"stops.features",l),e.pointBarriers&&e.pointBarriers.features&&this._collectGeometries(e.pointBarriers.features,u,"pointBarriers.features",l),e.polylineBarriers&&e.polylineBarriers.features&&this._collectGeometries(e.polylineBarriers.features,u,"polylineBarriers.features",l),e.polygonBarriers&&e.polygonBarriers.features&&this._collectGeometries(e.polygonBarriers.features,u,"polygonBarriers.features",l),p.normalizeCentralMeridian(u).then((function(e){for(var r in l){var t=l[r];a.push(r),c[r]=e.slice(t[0],t[1])}return i._isInputGeometryZAware(c,a)?i.getServiceDescription():n.resolve({dontCheck:!0})})).then((function(n){("dontCheck"in n?n.dontCheck:n.hasZ)||i._dropZValuesOffInputGeometry(c,a);var p=function(r){c[r].forEach((function(t,o){e.get(r)[o].geometry=t}))};for(var u in c)p(u);var l={query:t.__assign(t.__assign(t.__assign({},i.parsedUrl.query),{f:"json"}),f.toQueryParams(e))};(i.requestOptions||r)&&(l=t.__assign(t.__assign(t.__assign({},i.requestOptions),r),l));var y=i.parsedUrl.path,d=s.endsWith(y,"/solve")?y:y+"/solve";return o(d,l)})).then((function(e){return i._handleSolveResponse(e)}))},r.prototype._collectGeometries=function(e,r,t,o){o[t]=[r.length,r.length+e.length],e.forEach((function(e){r.push(e.geometry)}))},r.prototype._handleSolveResponse=function(e){var r,t,o=[],n=[],i=e.data,s=i.directions,a=void 0===s?[]:s,p=i.routes,u=void 0===p?{}:p,l=u.features,f=void 0===l?[]:l,y=u.spatialReference,d=void 0===y?null:y,v=i.stops,h=void 0===v?{}:v,g=h.features,m=void 0===g?[]:g,_=h.spatialReference,x=void 0===_?null:_,w=i.barriers,b=i.polygonBarriers,T=i.polylineBarriers,S=i.messages,M="esri.tasks.RouteTask.NULL_ROUTE_NAME",R=!0,N=f&&d||m&&x||w&&w.spatialReference||b&&b.spatialReference||T&&T.spatialReference;a.forEach((function(e){o.push(r=e.routeName),n[r]={directions:e}})),f.forEach((function(e){-1===o.indexOf(r=e.attributes.Name)&&(o.push(r),n[r]={}),e.geometry&&(e.geometry.spatialReference=N),n[r].route=e})),m.forEach((function(e){t=e.attributes,-1===o.indexOf(r=t.RouteName||M)&&(o.push(r),n[r]={}),r!==M&&(R=!1),e.geometry&&(e.geometry.spatialReference=N),null==n[r].stops&&(n[r].stops=[]),n[r].stops.push(e)})),m.length>0&&!0===R&&(n[o[0]].stops=n[M].stops,delete n[M],o.splice(o.indexOf(M),1));var O=o.map((function(e){return n[e].routeName=e===M?null:e,n[e]}));return c.fromJSON({routeResults:O,pointBarriers:w,polygonBarriers:b,polylineBarriers:T,messages:S})},t.__decorate([a.subclass("esri.tasks.RouteTask")],r)}(l.NAServiceDescriptionMixin(u))}.apply(null,o))||(e.exports=n)},2049:function(e,r,t){var o,n;o=[t.dj.c(e.i),r,t(117),t(174),t(155),t(151),t(760),t(187),t(716),t(2050)],void 0===(n=function(e,r,t,o,n,i,s,a,p,u){function l(e){return e&&a.fromJSON(e).features.map((function(e){return e}))}return function(e){function r(r){var t=e.call(this,r)||this;return t.barriers=null,t.messages=null,t.pointBarriers=null,t.polylineBarriers=null,t.polygonBarriers=null,t.routeResults=null,t}return t.__extends(r,e),r.prototype.readPointBarriers=function(e,r){return l(r.barriers||r.pointBarriers)},r.prototype.readPolylineBarriers=function(e){return l(e)},r.prototype.readPolygonBarriers=function(e){return l(e)},t.__decorate([i.property({aliasOf:"pointBarriers"})],r.prototype,"barriers",void 0),t.__decorate([i.property({type:[p]})],r.prototype,"messages",void 0),t.__decorate([i.property({type:[o]})],r.prototype,"pointBarriers",void 0),t.__decorate([s.reader("pointBarriers",["barriers","pointBarriers"])],r.prototype,"readPointBarriers",null),t.__decorate([i.property({type:[o]})],r.prototype,"polylineBarriers",void 0),t.__decorate([s.reader("polylineBarriers")],r.prototype,"readPolylineBarriers",null),t.__decorate([i.property({type:[o]})],r.prototype,"polygonBarriers",void 0),t.__decorate([s.reader("polygonBarriers")],r.prototype,"readPolygonBarriers",null),t.__decorate([i.property({type:[u]})],r.prototype,"routeResults",void 0),t.__decorate([i.subclass("esri.tasks.support.RouteResultsContainer")],r)}(n.JSONSupport)}.apply(null,o))||(e.exports=n)},2050:function(e,r,t){var o,n;o=[t.dj.c(e.i),r,t(117),t(174),t(155),t(151),t(1026)],void 0===(n=function(e,r,t,o,n,i,s){return function(e){function r(r){var t=e.call(this,r)||this;return t.directions=null,t.route=null,t.routeName=null,t.stops=null,t}return t.__extends(r,e),t.__decorate([i.property({type:s,json:{write:!0}})],r.prototype,"directions",void 0),t.__decorate([i.property({type:o,json:{write:!0}})],r.prototype,"route",void 0),t.__decorate([i.property({type:String,json:{write:!0}})],r.prototype,"routeName",void 0),t.__decorate([i.property({type:[o],json:{write:!0}})],r.prototype,"stops",void 0),t.__decorate([i.subclass("esri.tasks.support.RouteResult")],r)}(n.JSONSupport)}.apply(null,o))||(e.exports=n)},234:function(e,r,t){var o,n;o=[t.dj.c(e.i),r,t(117),t(100),t(154),t(156),t(152),t(153),t(232),t(259),t(170),t(178),t(197),t(279),t(280)],void 0===(n=function(e,r,t,o,n,i,s,a,p,u,l,c,f,y,d){Object.defineProperty(r,"__esModule",{value:!0});var v=i.getLogger("esri.geometry.support.normalizeUtils"),h={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new u({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:l.WebMercator}),minus180Line:new u({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:l.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new u({paths:[[[180,-180],[180,180]]],spatialReference:l.WGS84}),minus180Line:new u({paths:[[[-180,-180],[-180,180]]],spatialReference:l.WGS84})}};function g(e){return"polygon"===e.type}function m(e){return g(e)?e.rings:e.paths}function _(e,r){return Math.ceil((e-r)/(2*r))}function x(e,r){for(var t=0,o=m(e);t<o.length;t++)for(var n=0,i=o[t];n<i.length;n++)i[n][0]+=r;return e}function w(e){for(var r=[],t=0,o=0,n=0;n<e.length;n++){for(var i=e[n],s=null,a=0;a<i.length;a++)s=i[a],r.push(s),0===a?o=t=s[0]:(t=Math.min(t,s[0]),o=Math.max(o,s[0]));s&&r.push([(t+o)/2,0])}return r}function b(e,r){if(!(e instanceof u||e instanceof p)){var t="straightLineDensify: the input geometry is neither polyline nor polygon";throw v.error(t),new n(t)}for(var o=[],i=0,s=m(e);i<s.length;i++){var a=s[i],l=[];o.push(l),l.push([a[0][0],a[0][1]]);for(var c=0;c<a.length-1;c++){var f=a[c][0],y=a[c][1],d=a[c+1][0],h=a[c+1][1],_=Math.sqrt((d-f)*(d-f)+(h-y)*(h-y)),x=(h-y)/_,w=(d-f)/_,b=_/r;if(b>1){for(var T=1;T<=b-1;T++){var S=T*r,M=w*S+f,R=x*S+y;l.push([M,R])}var N=(_+Math.floor(b-1)*r)/2,O=w*N+f,j=x*N+y;l.push([O,j])}l.push([d,h])}}return g(e)?new p({rings:o,spatialReference:e.spatialReference}):new u({paths:o,spatialReference:e.spatialReference})}function T(e,r,t){if(r){var o=b(e,1e6);e=f.webMercatorToGeographic(o,!0)}return t&&(e=x(e,t)),e}function S(e,r,t){var o;if(Array.isArray(e))if((o=e[0])>r){var n=_(o,r);e[0]=o+n*(-2*r)}else o<t&&(n=_(o,t),e[0]=o+n*(-2*t));else(o=e.x)>r?(n=_(o,r),e=e.clone().offset(n*(-2*r),0)):o<t&&(n=_(o,t),e=e.clone().offset(n*(-2*t),0));return e}r.straightLineDensify=b,r.normalizeCentralMeridian=function e(r,n,i){return t.__awaiter(this,void 0,void 0,(function(){var l,v,g,w,b,M,R,N,O,j,P,J,k,B,A,G,D,I,q,F,E,z,L,U,C,W,Z,X,Q,V,H,$,K,Y,ee,re,te;return t.__generator(this,(function(t){switch(t.label){case 0:if(!Array.isArray(r))return[2,e([r],n)];for(l=n?n.url:o.geometryServiceUrl,j=0,P=[],J=[],k=0,B=r;k<B.length;k++)A=B[k],s.isNone(A)?J.push(A):(v||(v=A.spatialReference,g=c.getInfo(v),w=v.isWebMercator,b=h[R=w?102100:4326].maxX,M=h[R].minX,N=h[R].plus180Line,O=h[R].minus180Line),g?"mesh"===A.type?J.push(A):"point"===A.type?J.push(S(A.clone(),b,M)):"multipoint"===A.type?((G=A.clone()).points=G.points.map((function(e){return S(e,b,M)})),J.push(G)):"extent"===A.type?(I=A.clone(),D=I._normalize(!1,!1,g),J.push(D.rings?new p(D):D)):A.extent?(I=A.extent,q=_(I.xmin,M),E=0==(F=q*(2*b))?A.clone():x(A.clone(),F),I.offset(F,0),I.intersects(N)&&I.xmax!==b?(j=I.xmax>j?I.xmax:j,E=T(E,w),P.push(E),J.push("cut")):I.intersects(O)&&I.xmin!==M?(j=I.xmax*(2*b)>j?I.xmax*(2*b):j,E=T(E,w,360),P.push(E),J.push("cut")):J.push(E)):J.push(A.clone()):J.push(A));for(z=_(j,b),L=-90,U=z,C=new u;z>0;)W=360*z-180,C.addPath([[W,L],[W,-1*L]]),L*=-1,z--;return P.length>0&&U>0?[4,y.cut(l,P,C,i)]:[3,3];case 1:for(Z=t.sent(),X=function(e,r){for(var t=-1,o=function(o){for(var n=r.cutIndexes[o],i=r.geometries[o],s=m(i),a=function(e){var r=s[e];r.some((function(t){if(t[0]<180)return!0;for(var o=0,n=0;n<r.length;n++){var s=r[n][0];o=s>o?s:o}for(var a=-360*_(o=Number(o.toFixed(9)),180),p=0;p<r.length;p++){var u=i.getPoint(e,p);i.setPoint(e,p,u.clone().offset(a,0))}return!0}))},p=0;p<s.length;p++)a(p);if(n===t){if("polygon"===e[0].type)for(var u=0,l=m(i);u<l.length;u++){var c=l[u];e[n]=e[n].addRing(c)}else if(function(e){return"polyline"===e[0].type}(e))for(var f=0,y=m(i);f<y.length;f++){var d=y[f];e[n]=e[n].addPath(d)}}else t=n,e[n]=i},n=0;n<r.cutIndexes.length;n++)o(n);return e}(P,Z),Q=[],V=[],ee=0;ee<J.length;ee++)"cut"!==(re=J[ee])?V.push(re):(te=X.shift(),H=r[ee],s.isSome(H)&&"polygon"===H.type&&H.rings&&H.rings.length>1&&te.rings.length>=H.rings.length?(Q.push(te),V.push("simplify")):V.push(w?f.geographicToWebMercator(te):te));return Q.length?[4,d.simplify(l,Q,i)]:[2,V];case 2:for($=t.sent(),K=[],ee=0;ee<V.length;ee++)"simplify"!==(re=V[ee])?K.push(re):K.push(w?f.geographicToWebMercator($.shift()):$.shift());return[2,K];case 3:for(Y=[],ee=0;ee<J.length;ee++)"cut"!==(re=J[ee])?Y.push(re):(te=P.shift(),Y.push(!0===w?f.geographicToWebMercator(te):te));return[2,a.resolve(Y)]}}))}))},r.getDenormalizedExtent=function(e){var r;if(!e)return null;var t=e.extent;if(!t)return null;var o=e.spatialReference&&c.getInfo(e.spatialReference);if(!o)return t;var n,i=o.valid,s=i[0],a=i[1],p=2*a,u=t.width,l=t.xmin,f=t.xmax;if(l=(r=[f,l])[0],f=r[1],"extent"===e.type||0===u||u<=a||u>p||l<s||f>a)return t;switch(e.type){case"polygon":if(!(e.rings.length>1))return t;n=w(e.rings);break;case"polyline":if(!(e.paths.length>1))return t;n=w(e.paths);break;case"multipoint":n=e.points}for(var y=t.clone(),d=0;d<n.length;d++){var v=n[d][0];v<0?(v+=a,f=Math.max(v,f)):(v-=a,l=Math.min(v,l))}return y.xmin=l,y.xmax=f,y.width<u?(y.xmin-=a,y.xmax-=a,y):t},r.normalizeMapX=function(e,r){var t=c.getInfo(r);if(t){var o=t.valid,n=o[0],i=o[1],s=i-n;if(e<n)for(;e<n;)e+=s;if(e>i)for(;e>i;)e-=s}return e}}.apply(null,o))||(e.exports=n)},279:function(e,r,t){var o,n;o=[t.dj.c(e.i),r,t(117),t(159),t(165),t(172),t(163)],void 0===(n=function(e,r,t,o,n,i,s){Object.defineProperty(r,"__esModule",{value:!0}),r.cut=function(e,r,a,p){return t.__awaiter(this,void 0,void 0,(function(){var u,l,c,f,y,d,v;return t.__generator(this,(function(h){switch(h.label){case 0:return u="string"==typeof e?i.urlToObject(e):e,l=r[0].spatialReference,c=t.__assign(t.__assign({},p),{query:t.__assign(t.__assign({},u.query),{f:"json",sr:JSON.stringify(l),target:JSON.stringify({geometryType:s.getJsonType(r[0]),geometries:r}),cutter:JSON.stringify(a)})}),[4,n(u.path+"/cut",c)];case 1:return f=h.sent(),y=f.data,d=y.cutIndexes,v=y.geometries,[2,{cutIndexes:d,geometries:(void 0===v?[]:v).map((function(e){return o.fromJSON(e).set(l)}))}]}}))}))}}.apply(null,o))||(e.exports=n)},280:function(e,r,t){var o,n;o=[t.dj.c(e.i),r,t(117),t(165),t(172),t(163)],void 0===(n=function(e,r,t,o,n,i){function s(e){return{geometryType:i.getJsonType(e[0]),geometries:e.map((function(e){return e.toJSON()}))}}function a(e,r,t){var o=i.getGeometryType(r);return e.map((function(e){var r=o.fromJSON(e);return r.spatialReference=t,r}))}Object.defineProperty(r,"__esModule",{value:!0}),r.simplify=function(e,r,p){return t.__awaiter(this,void 0,void 0,(function(){var u,l,c,f;return t.__generator(this,(function(y){switch(y.label){case 0:return u="string"==typeof e?n.urlToObject(e):e,l=r[0].spatialReference,c=i.getJsonType(r[0]),f=t.__assign(t.__assign({},p),{query:t.__assign(t.__assign({},u.query),{f:"json",sr:l.wkid?l.wkid:JSON.stringify(l),geometries:JSON.stringify(s(r))})}),[4,o(u.path+"/simplify",f)];case 1:return[2,a(y.sent().data,c,l)]}}))}))}}.apply(null,o))||(e.exports=n)},511:function(e,r,t){var o,n;o=[t.dj.c(e.i),r,t(117),t(166),t(155),t(151)],void 0===(n=function(e,r,t,o,n,i){var s=new o.default({esriJobMessageTypeInformative:"informative",esriJobMessageTypeProcessDefinition:"process-definition",esriJobMessageTypeProcessStart:"process-start",esriJobMessageTypeProcessStop:"process-stop",esriJobMessageTypeWarning:"warning",esriJobMessageTypeError:"error",esriJobMessageTypeEmpty:"empty",esriJobMessageTypeAbort:"abort"});return function(e){function r(r){var t=e.call(this,r)||this;return t.description=null,t.type=null,t}return t.__extends(r,e),t.__decorate([i.property({type:String,json:{write:!0}})],r.prototype,"description",void 0),t.__decorate([i.property({type:String,json:{read:s.read,write:s.write}})],r.prototype,"type",void 0),t.__decorate([i.subclass("esri.tasks.support.GPMessage")],r)}(n.JSONSupport)}.apply(null,o))||(e.exports=n)},714:function(e,r,t){var o,n;o=[t.dj.c(e.i),r],void 0===(n=function(e,r){Object.defineProperty(r,"__esModule",{value:!0});var t=function(){function e(e){void 0===e&&(e={}),this._options=e}return e.prototype.toQueryParams=function(e){var r=this;if(!e)return null;var t=e.toJSON(),o={};return Object.keys(t).forEach((function(e){var n=r._options[e];if(n){var i="boolean"!=typeof n&&n.name?n.name:e,s="boolean"!=typeof n&&n.getter?n.getter(t):t[e];null!=s&&(o[i]=function(e){if(!Array.isArray(e))return!1;var r=e[0];return"number"==typeof r||"string"==typeof r}(s)?s.join(","):"object"==typeof s?JSON.stringify(s):s)}else o[e]=t[e]}),this),o},e}();r.createQueryParamsHelper=function(e){return new t(e)}}.apply(null,o))||(e.exports=n)},715:function(e,r,t){var o,n;o=[t.dj.c(e.i),r,t(117),t(165),t(154),t(152),t(119),t(172),t(151),t(327)],void 0===(n=function(e,r,t,o,n,i,s,a,p,u){Object.defineProperty(r,"__esModule",{value:!0}),r.NAServiceDescriptionMixin=function(e){return function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return t.__extends(r,e),r.prototype.getServiceDescription=function(){return t.__awaiter(this,void 0,void 0,(function(){return t.__generator(this,(function(e){return this._serviceDescriptionPromise||(this._serviceDescriptionPromise=this._fetchServiceDescription()),[2,this._serviceDescriptionPromise]}))}))},r.prototype._fetchServiceDescription=function(){return t.__awaiter(this,void 0,void 0,(function(){var e,r,i,p,u,l;return t.__generator(this,(function(c){switch(c.label){case 0:if(!this.url||!this.parsedUrl)throw new n("network-service:missing-url","Url to Network service is missing");return e=this.url,[4,o(e,{query:{f:"json"}})];case 1:for((r=c.sent().data).supportedTravelModes||(r.supportedTravelModes=[]),i=0;i<r.supportedTravelModes.length;i++)r.supportedTravelModes[i].id||(r.supportedTravelModes[i].id=r.supportedTravelModes[i].itemId);return[4,r.currentVersion>=10.4?function(e){return t.__awaiter(this,void 0,void 0,(function(){var r,i,s,a;return t.__generator(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,o(e+("/"===e[e.length-1]?"":"/")+"retrieveTravelModes",{query:{f:"json"}})];case 1:return r=t.sent().data,i=r.supportedTravelModes,s=r.defaultTravelMode,[2,{supportedTravelModes:i,defaultTravelMode:s}];case 2:throw a=t.sent(),new n("network-service:retrieveTravelModes","Could not get to the NAServer's retrieveTravelModes.",{error:a});case 3:return[2]}}))}))}(e):function(e){return t.__awaiter(this,void 0,void 0,(function(){var r,n,i,p,u,l,c,f,y,d,v,h,g,m,_,x;return t.__generator(this,(function(t){switch(t.label){case 0:return[4,o(e.substring(0,e.indexOf("/rest/")+6)+"info",{query:{f:"json"}})];case 1:return(r=t.sent().data)&&r.owningSystemUrl?(e=r.owningSystemUrl,[4,o(e+("/"===e[e.length-1]?"":"/")+"sharing/rest/portals/self",{query:{f:"json"}})]):[2,{supportedTravelModes:[],defaultTravelMode:null}];case 2:return n=t.sent().data,(i=s.getDeepValue("helperServices.routingUtilities.url",n))?(p=a.urlToObject(e),u=/\/solveClosestFacility$/.test(p.path)?"Route":/\/solveClosestFacility$/.test(p.path)?"ClosestFacility":"ServiceAreas",[4,o(i+("/"===i[i.length-1]?"":"/")+"GetTravelModes/execute",{query:{f:"json",serviceName:u}})]):[2,{supportedTravelModes:[],defaultTravelMode:null}];case 3:if(l=t.sent(),c=[],f=null,l&&l.data&&l.data.results&&l.data.results.length)for(y=l.data.results,d=0,v=y;d<v.length;d++)if("supportedTravelModes"===(h=v[d]).paramName){if(h.value&&h.value.features)for(g=0,m=h.value.features;g<m.length;g++)(_=m[g].attributes)&&(x=JSON.parse(_.TravelMode),c.push(x))}else"defaultTravelMode"===h.paramName&&(f=h.value);return[2,{supportedTravelModes:c,defaultTravelMode:f}]}}))}))}(e)];case 2:return p=c.sent(),u=p.defaultTravelMode,l=p.supportedTravelModes,r.defaultTravelMode=u,r.supportedTravelModes=l,[2,r]}}))}))},r.prototype._isInputGeometryZAware=function(e,r){for(var t=0;t<r.length;t++){var o=e[r[t]];if(o&&o.length)for(var n=0,s=o;n<s.length;n++){var a=s[n];if(i.isSome(a)&&a.hasZ)return!0}}return!1},r.prototype._dropZValuesOffInputGeometry=function(e,r){for(var t=0;t<r.length;t++){var o=e[r[t]];if(o&&o.length)for(var n=0,i=o;n<i.length;n++)i[n].z=void 0}console.log("The remote Network Analysis service is powered by a network dataset which is not Z-aware.\nZ-coordinates of the input geometry are ignored.")},t.__decorate([p.subclass("esri.tasks.mixins.NAServiceDescription")],r)}(e)};var l=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return t.__extends(r,e),t.__decorate([p.subclass("esri.tasks.mixins.NAServiceDescription")],r)}(r.NAServiceDescriptionMixin(u));r.NAServiceDescription=l}.apply(null,o))||(e.exports=n)},716:function(e,r,t){var o,n;o=[t.dj.c(e.i),r,t(117),t(166),t(151),t(511)],void 0===(n=function(e,r,t,o,n,i){var s=new o.default({0:"informative",1:"process-definition",2:"process-start",3:"process-stop",50:"warning",100:"error",101:"empty",200:"abort"});return function(e){function r(r){var t=e.call(this,r)||this;return t.type=null,t}return t.__extends(r,e),t.__decorate([n.property({type:String,json:{read:s.read,write:s.write}})],r.prototype,"type",void 0),t.__decorate([n.subclass("esri.tasks.support.NAMessage")],r)}(i)}.apply(null,o))||(e.exports=n)}}]);
//# sourceMappingURL=58.js.map