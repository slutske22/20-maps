(function(){var e={"esri/arcade/languageUtils":269,"esri/arcade/featureset/support/shared":295,"esri/arcade/Dictionary":379,"esri/arcade/Feature":510,"esri/arcade/ImmutablePointArray":607,"esri/arcade/ArcadePortal":710,"esri/arcade/ImmutableArray":711,"esri/arcade/treeAnalysis":712,"esri/arcade/kernel":713,"esri/arcade/ImmutablePathArray":831,"esri/core/number":832,"esri/arcade/Attachment":833,"esri/arcade/functions/centroid":834,"esri/support/arcadeUtils":1017,"esri/arcade/FunctionWrapper":1018,"esri/arcade/functions/date":1019,"esri/arcade/functions/geometry":1020,"esri/arcade/functions/geomsync":1021,"esri/arcade/functions/maths":1022,"esri/arcade/functions/stats":1023,"esri/arcade/functions/fieldStats":1024,"esri/arcade/functions/string":1025,"esri/arcade/arcade":2028,"esri/arcade/arcadeCompiler":2029,"esri/arcade/arcadeRuntime":2030,"esri/arcade/parser":2031,"esri/arcade/lib/esprima":2032,"esri/intl/moment":2033},t=this||window,n=t.webpackJsonp=t.webpackJsonp||[];n.registerAbsMids?n.registerAbsMids(e):(n.absMidsWaiting=n.absMidsWaiting||[]).push(e)})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{1017:function(e,t,n){var r,i;r=[n.dj.c(e.i),t,n(2028),n(379),n(510),n(118),n(153),n(782)],void 0===(i=function(e,t,n,r,i,a,u,o){Object.defineProperty(t,"__esModule",{value:!0}),t.arcade=n,t.Dictionary=r,t.arcadeFeature=i;var s=/^\$feature\./i,l={vars:{$feature:"any",$view:"any"},spatialReference:null};function c(e){if(!e)return null;try{return n.parseScript(e)}catch(e){}return null}function f(e){var t=c(e);return!!t&&n.scriptUsesGeometryEngine(t)}t.createSyntaxTree=c,t.createFunction=function(e,t){var r="string"==typeof e?c(e):e;if(!r)return null;try{return t=t||a.clone(l),n.compileScript(r,t)}catch(e){}return null},t.createExecContext=function(e,t){return{vars:{$feature:null==e?new i:i.createFromGraphic(e),$view:t&&t.view},spatialReference:t&&t.sr}},t.createFeature=function(e,t,n){return i.createFromGraphicLikeObject(t,e,n)},t.updateExecContext=function(e,t){e.vars.$feature=t},t.evalSyntaxTree=function(e,t){var r;try{r=n.executeScript(e,t)}catch(e){r=null}return r},t.executeFunction=function(e,t){var n;try{n=e?e(t):null}catch(e){n=null}return n},t.executeAsyncFunction=function(e,t){try{return e?e(t):u.resolve(null)}catch(e){return u.resolve(null)}},t.extractFieldNames=function(e){if(!e)return[];var t="string"==typeof e?c(e):e;if(!t)return[];var r=n.extractFieldLiterals(t),i=new Array;return r.forEach((function(e){s.test(e)&&(e=e.replace(s,""),i.push(e))})),i.sort(),i.filter((function(e,t){return 0===t||i[t-1]!==e}))},t.dependsOnView=function(e){return n.referencesMember(e,"$view")},t.hasVariable=function(e,t){return!!e&&n.referencesMember(e,t)},t.getViewInfo=function(e){if(e&&(null!=e.spatialReference||null!=e.scale&&null!=e.viewingMode))return{view:e.viewingMode&&null!=e.scale?new r({viewingMode:e.viewingMode,scale:e.scale}):null,sr:e.spatialReference}},t.convertServiceUrlToWorkspace=function(e,t){var r=n.featureSetUtils();return r?r.createFeatureSetCollectionFromService(e,t):null},t.convertFeatureLayerToFeatureSet=function(e,t){if(null===e)return null;var r=n.featureSetUtils();return r?r.constructFeatureSet(e,t):null},t.convertMapToFeatureSetCollection=function(e){if(null===e||null===e.map)return null;var t=n.featureSetUtils();return t?t.createFeatureSetCollectionFromMap(e.map,e.spatialReference):null},t.loadScriptDependencies=function(e,t,r){return void 0===r&&(r=[]),n.loadScriptDependencies(e,t,r)},t.enableGeometryOperations=function(){return n.enableGeometrySupport()},t.enableFeatureSetOperations=function(){return n.enableFeatureSetSupport()},t.applyTextFormattingHTML=function(e){return"string"==typeof e?e.replace(/(\n)/gi,'<br class="esri-text-new-line" />'):e},t.hasGeometryOperations=function(e){if(!e)return!1;if("string"==typeof e)return f(e);var t,n=e;if("simple"===(t=n).type||"class-breaks"===t.type||"unique-value"===t.type||"dot-density"===t.type||"dictionary"===t.type){if("dot-density"===n.type){var r=n.attributes.some((function(e){return f(e.valueExpression)}));if(r)return r}var i=n.visualVariables,a=!!i&&i.some((function(e){var t=f(e.valueExpression);return"size"===e.type&&(o.isSizeVariable(e.minSize)&&(t=t||f(e.minSize.valueExpression)),o.isSizeVariable(e.maxSize)&&(t=t||f(e.maxSize.valueExpression))),t}));return!(!("valueExpression"in n)||!f(n.valueExpression))||a}if("esri.layers.support.LabelClass"===n.declaredClass){var u=n.labelExpressionInfo&&n.labelExpressionInfo.expression;return!(!u||!f(u))||!1}return"esri.PopupTemplate"===n.declaredClass&&!!n.expressionInfos&&n.expressionInfos.some((function(e){return f(e.expression)}))}}.apply(null,r))||(e.exports=i)},1018:function(e,t,n){var r,i;r=[n.dj.c(e.i),t],void 0===(i=function(e,t){return function(e,t){this.definition=null,this.context=null,this.definition=e,this.context=t}}.apply(null,r))||(e.exports=i)},1019:function(e,t,n){var r,i;r=[n.dj.c(e.i),t,n(269)],void 0===(i=function(e,t,n){function r(e){return null===e?e:isNaN(e.getTime())?null:e}Object.defineProperty(t,"__esModule",{value:!0}),t.registerFunctions=function(e,t){e.today=function(e,r){return t(e,r,(function(e,t,r){n.pcCheck(r,0,0);var i=new Date;return i.setHours(0,0,0,0),i}))},e.now=function(e,r){return t(e,r,(function(e,t,r){return n.pcCheck(r,0,0),new Date}))},e.timestamp=function(e,r){return t(e,r,(function(e,t,r){n.pcCheck(r,0,0);var i=new Date;return new Date(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds())}))},e.toutc=function(e,r){return t(e,r,(function(e,t,r){n.pcCheck(r,1,1);var i=n.toDate(r[0]);return null===i?null:new Date(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds())}))},e.tolocal=function(e,r){return t(e,r,(function(e,t,r){n.pcCheck(r,1,1);var i=n.toDate(r[0]);return null===i?null:n.MomentLibrary.Moment.utc([i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()]).toDate()}))},e.day=function(e,r){return t(e,r,(function(e,t,r){n.pcCheck(r,1,1);var i=n.toDate(r[0]);return null===i?NaN:i.getDate()}))},e.month=function(e,r){return t(e,r,(function(e,t,r){n.pcCheck(r,1,1);var i=n.toDate(r[0]);return null===i?NaN:i.getMonth()}))},e.year=function(e,r){return t(e,r,(function(e,t,r){n.pcCheck(r,1,1);var i=n.toDate(r[0]);return null===i?NaN:i.getFullYear()}))},e.hour=function(e,r){return t(e,r,(function(e,t,r){n.pcCheck(r,1,1);var i=n.toDate(r[0]);return null===i?NaN:i.getHours()}))},e.second=function(e,r){return t(e,r,(function(e,t,r){n.pcCheck(r,1,1);var i=n.toDate(r[0]);return null===i?NaN:i.getSeconds()}))},e.millisecond=function(e,r){return t(e,r,(function(e,t,r){n.pcCheck(r,1,1);var i=n.toDate(r[0]);return null===i?NaN:i.getMilliseconds()}))},e.minute=function(e,r){return t(e,r,(function(e,t,r){n.pcCheck(r,1,1);var i=n.toDate(r[0]);return null===i?NaN:i.getMinutes()}))},e.weekday=function(e,r){return t(e,r,(function(e,t,r){n.pcCheck(r,1,1);var i=n.toDate(r[0]);return null===i?NaN:i.getDay()}))},e.date=function(e,i){return t(e,i,(function(e,t,i){if(n.pcCheck(i,0,7),3===i.length)return r(new Date(n.toNumber(i[0]),n.toNumber(i[1]),n.toNumber(i[2]),0,0,0,0));if(4===i.length)return r(new Date(n.toNumber(i[0]),n.toNumber(i[1]),n.toNumber(i[2]),n.toNumber(i[3]),0,0,0));if(5===i.length)return r(new Date(n.toNumber(i[0]),n.toNumber(i[1]),n.toNumber(i[2]),n.toNumber(i[3]),n.toNumber(i[4]),0,0));if(6===i.length)return r(new Date(n.toNumber(i[0]),n.toNumber(i[1]),n.toNumber(i[2]),n.toNumber(i[3]),n.toNumber(i[4]),n.toNumber(i[5]),0));if(7===i.length)return r(new Date(n.toNumber(i[0]),n.toNumber(i[1]),n.toNumber(i[2]),n.toNumber(i[3]),n.toNumber(i[4]),n.toNumber(i[5]),n.toNumber(i[6])));if(2===i.length){var a=n.toString(i[1]);if(""===a)return null;a=n.standardiseDateFormat(a);var u=n.MomentLibrary.Moment(n.toString(i[0]),a,!0);return!0===u.isValid()?u.toDate():null}if(1===i.length){if(n.isString(i[0])&&""===i[0].replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))return null;var o=n.toNumber(i[0]);return!1===isNaN(o)?r(new Date(o)):n.toDate(i[0])}return 0===i.length?new Date:void 0}))},e.datediff=function(e,r){return t(e,r,(function(e,t,r){n.pcCheck(r,2,3);var i=n.toDateM(r[0]),a=n.toDateM(r[1]);if(null===i||null===a)return NaN;switch(n.toString(r[2]).toLowerCase()){case"days":case"day":case"d":return i.diff(a,"days",!0);case"months":case"month":return i.diff(a,"months",!0);case"minutes":case"minute":case"m":return"M"===r[2]?i.diff(a,"months",!0):i.diff(a,"minutes",!0);case"seconds":case"second":case"s":return i.diff(a,"seconds",!0);case"milliseconds":case"millisecond":case"ms":return i.diff(a);case"hours":case"hour":case"h":return i.diff(a,"hours",!0);case"years":case"year":case"y":return i.diff(a,"years",!0);default:return i.diff(a)}}))},e.dateadd=function(e,r){return t(e,r,(function(e,t,r){n.pcCheck(r,2,3);var i=n.toDateM(r[0]);if(null===i)return null;var a="milliseconds";switch(n.toString(r[2]).toLowerCase()){case"days":case"day":case"d":a="days";break;case"months":case"month":a="months";break;case"minutes":case"minute":case"m":a="M"===r[2]?"months":"minutes";break;case"seconds":case"second":case"s":a="seconds";break;case"milliseconds":case"millisecond":case"ms":a="milliseconds";break;case"hours":case"hour":case"h":a="hours";break;case"years":case"year":case"y":a="years"}return i.add(n.toNumber(r[1]),a),i.toDate()}))}}}.apply(null,r))||(e.exports=i)},1020:function(e,t,n){var r,i;r=[n.dj.c(e.i),t,n(379),n(510),n(607),n(269),n(184),n(215),n(352),n(202),n(232),n(259),n(834),n(163),n(427)],void 0===(i=function(e,t,n,r,i,a,u,o,s,l,c,f,p,m,h){Object.defineProperty(t,"__esModule",{value:!0}),t.registerFunctions=function(e,t){e.ringisclockwise=function(e,n){return t(e,n,(function(e,t,n){a.pcCheck(n,1,1);var r=[],u=!1,o=!1;if(null===n[0])return!1;if(a.isArray(n[0])){for(var s=0,c=n[0];s<c.length;s++){if(!((m=c[s])instanceof l))throw new Error("Invalid Argument");r.push(m.hasZ?m.hasM?[m.x,m.y,m.z,m.m]:[m.x,m.y,m.z]:[m.x,m.y])}r.length>0&&(u=n[0][0].hasZ,o=n[0][0].hasM)}else if(n[0]instanceof i)(r=n[0]._elements).length>0&&(u=n[0]._hasZ,o=n[0]._hasM);else{if(!a.isImmutableArray(n[0]))throw new Error("Invalid Argument");for(var f=0,p=n[0].toArray();f<p.length;f++){var m;if(!((m=p[f])instanceof l))throw new Error("Invalid Argument");r.push(m.hasZ?m.hasM?[m.x,m.y,m.z,m.m]:[m.x,m.y,m.z]:[m.x,m.y])}r.length>0&&(u=n[0].get(0).hasZ,o=n[0].get(0).hasM)}return!(r.length<3)&&h.isClockwise(r,o,u)}))},e.polygon=function(e,i){return t(e,i,(function(t,i,u){a.pcCheck(u,1,1);var o=null;if(u[0]instanceof n){if((o=a.fixSpatialReference(r.parseGeometryFromDictionary(u[0]),e.spatialReference))instanceof c==0)throw new Error("Illegal Parameter")}else o=u[0]instanceof c?m.fromJSON(u[0].toJSON()):a.fixSpatialReference(new c(JSON.parse(u[0])),e.spatialReference);if(null!==o&&!1===o.spatialReference.equals(e.spatialReference))throw new Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return a.fixNullGeometry(o)}))},e.polyline=function(e,i){return t(e,i,(function(t,i,u){a.pcCheck(u,1,1);var o=null;if(u[0]instanceof n){if((o=a.fixSpatialReference(r.parseGeometryFromDictionary(u[0]),e.spatialReference))instanceof f==0)throw new Error("Illegal Parameter")}else o=u[0]instanceof f?m.fromJSON(u[0].toJSON()):a.fixSpatialReference(new f(JSON.parse(u[0])),e.spatialReference);if(null!==o&&!1===o.spatialReference.equals(e.spatialReference))throw new Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return a.fixNullGeometry(o)}))},e.point=function(e,i){return t(e,i,(function(t,i,u){a.pcCheck(u,1,1);var o=null;if(u[0]instanceof n){if((o=a.fixSpatialReference(r.parseGeometryFromDictionary(u[0]),e.spatialReference))instanceof l==0)throw new Error("Illegal Parameter")}else o=u[0]instanceof l?m.fromJSON(u[0].toJSON()):a.fixSpatialReference(new l(JSON.parse(u[0])),e.spatialReference);if(null!==o&&!1===o.spatialReference.equals(e.spatialReference))throw new Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return a.fixNullGeometry(o)}))},e.multipoint=function(e,i){return t(e,i,(function(t,i,u){a.pcCheck(u,1,1);var o=null;if(u[0]instanceof n){if((o=a.fixSpatialReference(r.parseGeometryFromDictionary(u[0]),e.spatialReference))instanceof s==0)throw new Error("Illegal Parameter")}else o=u[0]instanceof s?m.fromJSON(u[0].toJSON()):a.fixSpatialReference(new s(JSON.parse(u[0])),e.spatialReference);if(null!==o&&!1===o.spatialReference.equals(e.spatialReference))throw new Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return a.fixNullGeometry(o)}))},e.extent=function(e,i){return t(e,i,(function(t,i,o){o=a.autoCastFeatureToGeometry(o),a.pcCheck(o,1,1);var p=null;if(o[0]instanceof n)p=a.fixSpatialReference(r.parseGeometryFromDictionary(o[0]),e.spatialReference);else if(o[0]instanceof l){var h={xmin:o[0].x,ymin:o[0].y,xmax:o[0].x,ymax:o[0].y,spatialReference:o[0].spatialReference.toJSON()};o[0].hasZ?(h.zmin=o[0].z,h.zmax=o[0].z):o[0].hasM&&(h.mmin=o[0].m,h.mmax=o[0].m),p=m.fromJSON(h)}else p=o[0]instanceof c||o[0]instanceof f||o[0]instanceof s?m.fromJSON(o[0].extent.toJSON()):o[0]instanceof u?m.fromJSON(o[0].toJSON()):a.fixSpatialReference(new u(JSON.parse(o[0])),e.spatialReference);if(null!==p&&!1===p.spatialReference.equals(e.spatialReference))throw new Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return a.fixNullGeometry(p)}))},e.geometry=function(e,i){return t(e,i,(function(t,i,u){a.pcCheck(u,1,1);var o=null;if(null!==(o=u[0]instanceof r?a.fixSpatialReference(u[0].geometry(),e.spatialReference):u[0]instanceof n?a.fixSpatialReference(r.parseGeometryFromDictionary(u[0]),e.spatialReference):a.fixSpatialReference(m.fromJSON(JSON.parse(u[0])),e.spatialReference))&&!1===o.spatialReference.equals(e.spatialReference))throw new Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return a.fixNullGeometry(o)}))},e.setgeometry=function(e,n){return t(e,n,(function(e,t,n){if(a.pcCheck(n,2,2),!(n[0]instanceof r))throw new Error("Illegal Argument");if(!0===n[0].immutable)throw new Error("Feature is Immutable");if(!(n[1]instanceof o||null===n[1]))throw new Error("Illegal Argument");return n[0]._geometry=n[1],a.voidOperation}))},e.feature=function(e,i){return t(e,i,(function(t,i,u){if(0===u.length)throw new Error("Missing Parameters");var s=null;if(1===u.length)if(a.isString(u[0]))s=r.fromJson(JSON.parse(u[0]));else if(u[0]instanceof r)s=r.createFromArcadeFeature(u[0]);else if(u[0]instanceof o)s=r.createFromGraphicLikeObject(u[0],null,null);else{if(!(u[0]instanceof n))throw new Error("Illegal Argument");var l=u[0].hasField("geometry")?u[0].field("geometry"):null,c=u[0].hasField("attributes")?u[0].field("attributes"):null;null!==l&&l instanceof n&&(l=r.parseGeometryFromDictionary(l)),null!==c&&(c=r.parseAttributesFromDictionary(c)),s=r.createFromGraphicLikeObject(l,c,null)}else if(2===u.length){if(l=null,c=null,null!==u[0])if(u[0]instanceof o)l=u[0];else{if(!(l instanceof n))throw new Error("Illegal Argument");l=r.parseGeometryFromDictionary(u[0])}if(null!==u[1]){if(!(u[1]instanceof n))throw new Error("Illegal Argument");c=r.parseAttributesFromDictionary(u[1])}s=r.createFromGraphicLikeObject(l,c,null)}else{if(l=null,c={},null!==u[0])if(u[0]instanceof o)l=u[0];else{if(!(l instanceof n))throw new Error("Illegal Argument");l=r.parseGeometryFromDictionary(u[0])}for(var f=1;f<u.length;f+=2){var p=a.toString(u[f]),m=u[f+1];if(!(null==m||a.isString(m)||isNaN(m)||a.isDate(m)||a.isNumber(m)||a.isBoolean(m)))throw new Error("Illegal Argument");if(a.isFunctionParameter(m)||!1===a.isSimpleType(m))throw new Error("Illegal Argument");m===a.voidOperation?c[p]=null:c[p]=m}s=r.createFromGraphicLikeObject(l,c,null)}return s._geometry=a.fixSpatialReference(s.geometry(),e.spatialReference),s.immutable=!1,s}))},e.dictionary=function(e,r){return t(e,r,(function(e,t,r){if(0===r.length){var i=new n;return i.immutable=!1,i}if(1===r.length&&a.isString(r[0]))try{var u=JSON.parse(r[0]),o=n.convertObjectToArcadeDictionary(u);return o.immutable=!1,o}catch(e){throw new Error("Missing Parameters or Illegal Json")}if(r.length%2!=0)throw new Error("Missing Parameters");for(var s={},l=0;l<r.length;l+=2){var c=a.toString(r[l]),f=r[l+1];if(!(null==f||a.isString(f)||isNaN(f)||a.isDate(f)||a.isNumber(f)||a.isBoolean(f)||a.isArray(f)||a.isImmutableArray(f)))throw new Error("Illegal Argument");if(a.isFunctionParameter(f))throw new Error("Illegal Argument");f===a.voidOperation?s[c]=null:s[c]=f}var p=new n(s);return p.immutable=!1,p}))},e.haskey=function(e,i){return t(e,i,(function(e,t,i){a.pcCheck(i,2,2);var u=a.toString(i[1]);if(i[0]instanceof r)return i[0].hasField(u);if(i[0]instanceof n)return i[0].hasField(u);throw new Error("Illegal Argument")}))},e.indexof=function(e,n){return t(e,n,(function(e,t,n){a.pcCheck(n,2,2);var r=n[1];if(a.isArray(n[0])){for(var i=0;i<n[0].length;i++)if(a.equalityTest(r,n[0][i]))return i;return-1}if(a.isImmutableArray(n[0])){var u=n[0].length();for(i=0;i<u;i++)if(a.equalityTest(r,n[0].get(i)))return i;return-1}throw new Error("Illegal Argument")}))},e.angle=function(e,n){return t(e,n,(function(e,t,n){if(n=a.autoCastFeatureToGeometry(n),a.pcCheck(n,2,3),!(n[0]instanceof l))throw new Error("Illegal Argument");if(!(n[1]instanceof l))throw new Error("Illegal Argument");if(n.length>2&&!(n[2]instanceof l))throw new Error("Illegal Argument");return 2===n.length?p.angle2D(n[0],n[1]):p.angleBetween2D(n[0],n[1],n[2])}))},e.bearing=function(e,n){return t(e,n,(function(e,t,n){if(n=a.autoCastFeatureToGeometry(n),a.pcCheck(n,2,3),!(n[0]instanceof l))throw new Error("Illegal Argument");if(!(n[1]instanceof l))throw new Error("Illegal Argument");if(n.length>2&&!(n[2]instanceof l))throw new Error("Illegal Argument");return 2===n.length?p.bearing2D(n[0],n[1]):p.bearingBetween2D(n[0],n[1],n[2])}))},e.isselfintersecting=function(e,n){return t(e,n,(function(t,n,r){r=a.autoCastFeatureToGeometry(r),a.pcCheck(r,1,1);var i=r[0];if(i instanceof c)return i.isSelfIntersecting;if(i instanceof f)return i=i.paths,p.pathsSelfIntersecting(i);if(i instanceof s)for(var u=i.points,o=0;o<u.length;o++)for(var l=0;l<u.length;l++)if(l!==o){for(var m=!0,h=0;h<u[o].length;h++)if(u[o][h]!==u[l][h]){m=!1;break}if(!0===m)return!0}return!(!a.isArray(i)&&!a.isImmutableArray(i))&&(null!==(i=a.autoCastArrayOfPointsToPolyline(i,e.spatialReference))&&(i=i.paths),p.pathsSelfIntersecting(i))}))}}}.apply(null,r))||(e.exports=i)},1021:function(e,t,n){var r,i;r=[n.dj.c(e.i),t,n(336),n(713),n(269),n(834),n(184),n(215),n(352),n(202),n(232),n(259),n(163)],void 0===(i=function(e,t,n,r,i,a,u,o,s,l,c,f,p){Object.defineProperty(t,"__esModule",{value:!0});var m=null;function h(e){return 0===n.version.indexOf("4.")?c.fromExtent(e):new c({spatialReference:e.spatialReference,rings:[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]]})}t.setGeometryEngine=function(e){m=e},t.registerFunctions=function(e,t){function n(e){if(i.pcCheck(e,2,2),e[0]instanceof o&&e[1]instanceof o);else if(e[0]instanceof o&&null===e[1]);else if(e[1]instanceof o&&null===e[0]);else if(null!==e[0]||null!==e[1])throw new Error("Illegal Argument")}e.disjoint=function(e,r){return t(e,r,(function(e,t,r){return n(r=i.autoCastFeatureToGeometry(r)),null===r[0]||null===r[1]||m.disjoint(r[0],r[1])}))},e.intersects=function(e,r){return t(e,r,(function(e,t,r){return n(r=i.autoCastFeatureToGeometry(r)),null!==r[0]&&null!==r[1]&&m.intersects(r[0],r[1])}))},e.touches=function(e,r){return t(e,r,(function(e,t,r){return n(r=i.autoCastFeatureToGeometry(r)),null!==r[0]&&null!==r[1]&&m.touches(r[0],r[1])}))},e.crosses=function(e,r){return t(e,r,(function(e,t,r){return n(r=i.autoCastFeatureToGeometry(r)),null!==r[0]&&null!==r[1]&&m.crosses(r[0],r[1])}))},e.within=function(e,r){return t(e,r,(function(e,t,r){return n(r=i.autoCastFeatureToGeometry(r)),null!==r[0]&&null!==r[1]&&m.within(r[0],r[1])}))},e.contains=function(e,r){return t(e,r,(function(e,t,r){return n(r=i.autoCastFeatureToGeometry(r)),null!==r[0]&&null!==r[1]&&m.contains(r[0],r[1])}))},e.overlaps=function(e,r){return t(e,r,(function(e,t,r){return n(r=i.autoCastFeatureToGeometry(r)),null!==r[0]&&null!==r[1]&&m.overlaps(r[0],r[1])}))},e.equals=function(e,n){return t(e,n,(function(e,t,n){return i.pcCheck(n,2,2),n[0]===n[1]||(n[0]instanceof o&&n[1]instanceof o?m.equals(n[0],n[1]):!(!i.isDate(n[0])||!i.isDate(n[1]))&&n[0].getTime()===n[1].getTime())}))},e.relate=function(e,n){return t(e,n,(function(e,t,n){if(n=i.autoCastFeatureToGeometry(n),i.pcCheck(n,3,3),n[0]instanceof o&&n[1]instanceof o)return m.relate(n[0],n[1],i.toString(n[2]));if(n[0]instanceof o&&null===n[1])return!1;if(n[1]instanceof o&&null===n[0])return!1;if(null===n[0]&&null===n[1])return!1;throw new Error("Illegal Argument")}))},e.intersection=function(e,r){return t(e,r,(function(e,t,r){return n(r=i.autoCastFeatureToGeometry(r)),null===r[0]||null===r[1]?null:m.intersect(r[0],r[1])}))},e.union=function(e,n){return t(e,n,(function(t,n,a){var u=[];if(0===(a=i.autoCastFeatureToGeometry(a)).length)throw new Error("Function called with wrong number of Parameters");if(1===a.length)if(i.isArray(a[0])){for(var s=i.autoCastFeatureToGeometry(a[0]),l=0;l<s.length;l++)if(null!==s[l]){if(!(s[l]instanceof o))throw new Error("Illegal Argument");u.push(s[l])}}else{if(!i.isImmutableArray(a[0])){if(a[0]instanceof o)return i.fixSpatialReference(r.cloneGeometry(a[0]),e.spatialReference);if(null===a[0])return null;throw new Error("Illegal Argument")}var c=i.autoCastFeatureToGeometry(a[0].toArray());for(l=0;l<c.length;l++)if(null!==c[l]){if(!(c[l]instanceof o))throw new Error("Illegal Argument");u.push(c[l])}}else for(l=0;l<a.length;l++)if(null!==a[l]){if(!(a[l]instanceof o))throw new Error("Illegal Argument");u.push(a[l])}return 0===u.length?null:m.union(u)}))},e.difference=function(e,a){return t(e,a,(function(e,t,a){return n(a=i.autoCastFeatureToGeometry(a)),null!==a[0]&&null===a[1]?r.cloneGeometry(a[0]):null===a[0]?null:m.difference(a[0],a[1])}))},e.symmetricdifference=function(e,a){return t(e,a,(function(e,t,a){return n(a=i.autoCastFeatureToGeometry(a)),null===a[0]&&null===a[1]?null:null===a[0]?r.cloneGeometry(a[1]):null===a[1]?r.cloneGeometry(a[0]):m.symmetricDifference(a[0],a[1])}))},e.clip=function(e,n){return t(e,n,(function(e,t,n){if(n=i.autoCastFeatureToGeometry(n),i.pcCheck(n,2,2),!(n[1]instanceof u)&&null!==n[1])throw new Error("Illegal Argument");if(null===n[0])return null;if(!(n[0]instanceof o))throw new Error("Illegal Argument");return null===n[1]?null:m.clip(n[0],n[1])}))},e.cut=function(e,n){return t(e,n,(function(e,t,n){if(n=i.autoCastFeatureToGeometry(n),i.pcCheck(n,2,2),!(n[1]instanceof f)&&null!==n[1])throw new Error("Illegal Argument");if(null===n[0])return[];if(!(n[0]instanceof o))throw new Error("Illegal Argument");return null===n[1]?[r.cloneGeometry(n[0])]:m.cut(n[0],n[1])}))},e.area=function(e,n){return t(e,n,(function(t,n,a){if(i.pcCheck(a,1,2),null===(a=i.autoCastFeatureToGeometry(a))[0])return 0;if(i.isArray(a[0])||i.isImmutableArray(a[0])){var u=i.autoCastArrayOfPointsToPolygon(a[0],e.spatialReference);return null===u?0:m.planarArea(u,r.convertSquareUnitsToCode(i.defaultUndefined(a[1],-1)))}if(!(a[0]instanceof o))throw new Error("Illegal Argument");return m.planarArea(a[0],r.convertSquareUnitsToCode(i.defaultUndefined(a[1],-1)))}))},e.areageodetic=function(e,n){return t(e,n,(function(t,n,a){if(i.pcCheck(a,1,2),null===(a=i.autoCastFeatureToGeometry(a))[0])return 0;if(i.isArray(a[0])||i.isImmutableArray(a[0])){var u=i.autoCastArrayOfPointsToPolygon(a[0],e.spatialReference);return null===u?0:m.geodesicArea(u,r.convertSquareUnitsToCode(i.defaultUndefined(a[1],-1)))}if(!(a[0]instanceof o))throw new Error("Illegal Argument");return m.geodesicArea(a[0],r.convertSquareUnitsToCode(i.defaultUndefined(a[1],-1)))}))},e.length=function(e,n){return t(e,n,(function(t,n,a){if(i.pcCheck(a,1,2),null===(a=i.autoCastFeatureToGeometry(a))[0])return 0;if(i.isArray(a[0])||i.isImmutableArray(a[0])){var u=i.autoCastArrayOfPointsToPolyline(a[0],e.spatialReference);return null===u?0:m.planarLength(u,r.convertLinearUnitsToCode(i.defaultUndefined(a[1],-1)))}if(!(a[0]instanceof o))throw new Error("Illegal Argument");return m.planarLength(a[0],r.convertLinearUnitsToCode(i.defaultUndefined(a[1],-1)))}))},e.lengthgeodetic=function(e,n){return t(e,n,(function(t,n,a){if(i.pcCheck(a,1,2),null===(a=i.autoCastFeatureToGeometry(a))[0])return 0;if(i.isArray(a[0])||i.isImmutableArray(a[0])){var u=i.autoCastArrayOfPointsToPolyline(a[0],e.spatialReference);return null===u?0:m.geodesicLength(u,r.convertLinearUnitsToCode(i.defaultUndefined(a[1],-1)))}if(!(a[0]instanceof o))throw new Error("Illegal Argument");return m.geodesicLength(a[0],r.convertLinearUnitsToCode(i.defaultUndefined(a[1],-1)))}))},e.distance=function(e,n){return t(e,n,(function(t,n,a){a=i.autoCastFeatureToGeometry(a),i.pcCheck(a,2,3);var u=a[0];(i.isArray(a[0])||i.isImmutableArray(a[0]))&&(u=i.autoCastArrayOfPointsToMultiPoint(a[0],e.spatialReference));var s=a[1];if((i.isArray(a[1])||i.isImmutableArray(a[1]))&&(s=i.autoCastArrayOfPointsToMultiPoint(a[1],e.spatialReference)),!(u instanceof o))throw new Error("Illegal Argument");if(!(s instanceof o))throw new Error("Illegal Argument");return m.distance(u,s,r.convertLinearUnitsToCode(i.defaultUndefined(a[2],-1)))}))},e.distancegeodetic=function(e,n){return t(e,n,(function(e,t,n){n=i.autoCastFeatureToGeometry(n),i.pcCheck(n,2,3);var a=n[0],u=n[1];if(!(a instanceof l))throw new Error("Illegal Argument");if(!(u instanceof l))throw new Error("Illegal Argument");var o=new f({paths:[],spatialReference:a.spatialReference});return o.addPath([a,u]),m.geodesicLength(o,r.convertLinearUnitsToCode(i.defaultUndefined(n[2],-1)))}))},e.densify=function(e,n){return t(e,n,(function(e,t,n){if(n=i.autoCastFeatureToGeometry(n),i.pcCheck(n,2,3),null===n[0])return null;if(!(n[0]instanceof o))throw new Error("Illegal Argument");var a=i.toNumber(n[1]);if(isNaN(a))throw new Error("Illegal Argument");if(a<=0)throw new Error("Illegal Argument");return n[0]instanceof c||n[0]instanceof f?m.densify(n[0],a,r.convertLinearUnitsToCode(i.defaultUndefined(n[2],-1))):n[0]instanceof u?m.densify(h(n[0]),a,r.convertLinearUnitsToCode(i.defaultUndefined(n[2],-1))):n[0]}))},e.densifygeodetic=function(e,n){return t(e,n,(function(e,t,n){if(n=i.autoCastFeatureToGeometry(n),i.pcCheck(n,2,3),null===n[0])return null;if(!(n[0]instanceof o))throw new Error("Illegal Argument");var a=i.toNumber(n[1]);if(isNaN(a))throw new Error("Illegal Argument");if(a<=0)throw new Error("Illegal Argument");return n[0]instanceof c||n[0]instanceof f?m.geodesicDensify(n[0],a,r.convertLinearUnitsToCode(i.defaultUndefined(n[2],-1))):n[0]instanceof u?m.geodesicDensify(h(n[0]),a,r.convertLinearUnitsToCode(i.defaultUndefined(n[2],-1))):n[0]}))},e.generalize=function(e,n){return t(e,n,(function(e,t,n){if(n=i.autoCastFeatureToGeometry(n),i.pcCheck(n,2,4),null===n[0])return null;if(!(n[0]instanceof o))throw new Error("Illegal Argument");var a=i.toNumber(n[1]);if(isNaN(a))throw new Error("Illegal Argument");return m.generalize(n[0],a,i.toBoolean(i.defaultUndefined(n[2],!0)),r.convertLinearUnitsToCode(i.defaultUndefined(n[3],-1)))}))},e.buffer=function(e,n){return t(e,n,(function(e,t,n){if(n=i.autoCastFeatureToGeometry(n),i.pcCheck(n,2,3),null===n[0])return null;if(!(n[0]instanceof o))throw new Error("Illegal Argument");var a=i.toNumber(n[1]);if(isNaN(a))throw new Error("Illegal Argument");return 0===a?r.cloneGeometry(n[0]):m.buffer(n[0],a,r.convertLinearUnitsToCode(i.defaultUndefined(n[2],-1)))}))},e.buffergeodetic=function(e,n){return t(e,n,(function(e,t,n){if(n=i.autoCastFeatureToGeometry(n),i.pcCheck(n,2,3),null===n[0])return null;if(!(n[0]instanceof o))throw new Error("Illegal Argument");var a=i.toNumber(n[1]);if(isNaN(a))throw new Error("Illegal Argument");return 0===a?r.cloneGeometry(n[0]):m.geodesicBuffer(n[0],a,r.convertLinearUnitsToCode(i.defaultUndefined(n[2],-1)))}))},e.offset=function(e,n){return t(e,n,(function(e,t,n){if(n=i.autoCastFeatureToGeometry(n),i.pcCheck(n,2,6),null===n[0])return null;if(!(n[0]instanceof c||n[0]instanceof f))throw new Error("Illegal Argument");var a=i.toNumber(n[1]);if(isNaN(a))throw new Error("Illegal Argument");var u=i.toNumber(i.defaultUndefined(n[4],10));if(isNaN(u))throw new Error("Illegal Argument");var o=i.toNumber(i.defaultUndefined(n[5],0));if(isNaN(o))throw new Error("Illegal Argument");return m.offset(n[0],a,r.convertLinearUnitsToCode(i.defaultUndefined(n[2],-1)),i.toString(i.defaultUndefined(n[3],"round")).toLowerCase(),u,o)}))},e.rotate=function(e,n){return t(e,n,(function(e,t,n){n=i.autoCastFeatureToGeometry(n),i.pcCheck(n,2,3);var r=n[0];if(null===r)return null;if(!(r instanceof o))throw new Error("Illegal Argument");r instanceof u&&(r=c.fromExtent(r));var a=i.toNumber(n[1]);if(isNaN(a))throw new Error("Illegal Argument");var s=i.defaultUndefined(n[2],null);if(null===s)return m.rotate(r,a);if(s instanceof l)return m.rotate(r,a,s);throw new Error("Illegal Argument")}))},e.centroid=function(e,n){return t(e,n,(function(t,n,p){if(p=i.autoCastFeatureToGeometry(p),i.pcCheck(p,1,1),null===p[0])return null;var m=p[0];if((i.isArray(p[0])||i.isImmutableArray(p[0]))&&(m=i.autoCastArrayOfPointsToMultiPoint(p[0],e.spatialReference)),null===m)return null;if(!(m instanceof o))throw new Error("Illegal Argument");return m instanceof l?i.fixSpatialReference(r.cloneGeometry(p[0]),e.spatialReference):m instanceof c?m.centroid:m instanceof f?a.centroidPolyline(m):m instanceof s?a.centroidMultiPoint(m):m instanceof u?m.center:null}))},e.multiparttosinglepart=function(e,n){return t(e,n,(function(t,n,a){a=i.autoCastFeatureToGeometry(a),i.pcCheck(a,1,1);var h=[];if(null===a[0])return null;if(!(a[0]instanceof o))throw new Error("Illegal Argument");if(a[0]instanceof l)return[i.fixSpatialReference(r.cloneGeometry(a[0]),e.spatialReference)];if(a[0]instanceof u)return[i.fixSpatialReference(r.cloneGeometry(a[0]),e.spatialReference)];var d=m.simplify(a[0]);if(d instanceof c){for(var y=[],g=[],D=0;D<d.rings.length;D++)if(d.isClockwise(d.rings[D])){var v=p.fromJSON({rings:[d.rings[D]],hasZ:!0===d.hasZ,hasM:!0===d.hasM,spatialReference:d.spatialReference.toJSON()});y.push(v)}else g.push({ring:d.rings[D],pt:d.getPoint(D,0)});for(var E=0;E<g.length;E++)for(var b=0;b<y.length;b++)if(y[b].contains(g[E].pt)){y[b].addRing(g[E].ring);break}return y}if(d instanceof f){var C=[];for(D=0;D<d.paths.length;D++){var A=p.fromJSON({paths:[d.paths[D]],hasZ:!0===d.hasZ,hasM:!0===d.hasM,spatialReference:d.spatialReference.toJSON()});C.push(A)}return C}if(a[0]instanceof s){var F=i.fixSpatialReference(r.cloneGeometry(a[0]),e.spatialReference);for(D=0;D<F.points.length;D++)h.push(F.getPoint(D));return h}return null}))},e.issimple=function(e,n){return t(e,n,(function(e,t,n){if(n=i.autoCastFeatureToGeometry(n),i.pcCheck(n,1,1),null===n[0])return!0;if(!(n[0]instanceof o))throw new Error("Illegal Argument");return m.isSimple(n[0])}))},e.simplify=function(e,n){return t(e,n,(function(e,t,n){if(n=i.autoCastFeatureToGeometry(n),i.pcCheck(n,1,1),null===n[0])return null;if(!(n[0]instanceof o))throw new Error("Illegal Argument");return m.simplify(n[0])}))}}}.apply(null,r))||(e.exports=i)},1022:function(e,t,n){var r,i;r=[n.dj.c(e.i),t,n(269),n(832)],void 0===(i=function(e,t,n,r){function i(e,t,n){return void 0===n||0==+n?Math[e](t):(t=+t,n=+n,isNaN(t)||"number"!=typeof n||n%1!=0?NaN:(t=t.toString().split("e"),+((t=(t=Math[e](+(t[0]+"e"+(t[1]?+t[1]-n:-n)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]+n:n))))}Object.defineProperty(t,"__esModule",{value:!0}),t.registerFunctions=function(e,t){function a(e,t,r){var i=n.toNumber(e);return isNaN(i)?i:isNaN(t)||isNaN(r)||t>r?NaN:i<t?t:i>r?r:i}e.number=function(e,i){return t(e,i,(function(e,t,i){n.pcCheck(i,1,2);var a=i[0];if(n.isNumber(a))return a;if(null===a)return 0;if(n.isDate(a))return Number(a);if(n.isBoolean(a))return Number(a);if(n.isArray(a))return NaN;if(""===a)return Number(a);if(void 0===a)return Number(a);if(n.isString(a)){if(void 0!==i[1]){var u=n.multiReplace(i[1],"‰","");return u=n.multiReplace(u,"¤",""),r.parse(a,{pattern:u})}return Number(a.trim())}return Number(a)}))},e.abs=function(e,r){return t(e,r,(function(e,t,r){return n.pcCheck(r,1,1),Math.abs(n.toNumber(r[0]))}))},e.acos=function(e,r){return t(e,r,(function(e,t,r){return n.pcCheck(r,1,1),Math.acos(n.toNumber(r[0]))}))},e.asin=function(e,r){return t(e,r,(function(e,t,r){return n.pcCheck(r,1,1),Math.asin(n.toNumber(r[0]))}))},e.atan=function(e,r){return t(e,r,(function(e,t,r){return n.pcCheck(r,1,1),Math.atan(n.toNumber(r[0]))}))},e.atan2=function(e,r){return t(e,r,(function(e,t,r){return n.pcCheck(r,2,2),Math.atan2(n.toNumber(r[0]),n.toNumber(r[1]))}))},e.ceil=function(e,r){return t(e,r,(function(e,t,r){if(n.pcCheck(r,1,2),2===r.length){var a=n.toNumber(r[1]);return isNaN(a)&&(a=0),i("ceil",n.toNumber(r[0]),-1*a)}return Math.ceil(n.toNumber(r[0]))}))},e.round=function(e,r){return t(e,r,(function(e,t,r){if(n.pcCheck(r,1,2),2===r.length){var a=n.toNumber(r[1]);return isNaN(a)&&(a=0),i("round",n.toNumber(r[0]),-1*a)}return Math.round(n.toNumber(r[0]))}))},e.floor=function(e,r){return t(e,r,(function(e,t,r){if(n.pcCheck(r,1,2),2===r.length){var a=n.toNumber(r[1]);return isNaN(a)&&(a=0),i("floor",n.toNumber(r[0]),-1*a)}return Math.floor(n.toNumber(r[0]))}))},e.cos=function(e,r){return t(e,r,(function(e,t,r){return n.pcCheck(r,1,1),Math.cos(n.toNumber(r[0]))}))},e.isnan=function(e,r){return t(e,r,(function(e,t,r){return n.pcCheck(r,1,1),"number"==typeof r[0]&&isNaN(r[0])}))},e.exp=function(e,r){return t(e,r,(function(e,t,r){return n.pcCheck(r,1,1),Math.exp(n.toNumber(r[0]))}))},e.log=function(e,r){return t(e,r,(function(e,t,r){return n.pcCheck(r,1,1),Math.log(n.toNumber(r[0]))}))},e.pow=function(e,r){return t(e,r,(function(e,t,r){return n.pcCheck(r,2,2),Math.pow(n.toNumber(r[0]),n.toNumber(r[1]))}))},e.random=function(e,r){return t(e,r,(function(e,t,r){return n.pcCheck(r,0,0),Math.random()}))},e.sin=function(e,r){return t(e,r,(function(e,t,r){return n.pcCheck(r,1,1),Math.sin(n.toNumber(r[0]))}))},e.sqrt=function(e,r){return t(e,r,(function(e,t,r){return n.pcCheck(r,1,1),Math.sqrt(n.toNumber(r[0]))}))},e.tan=function(e,r){return t(e,r,(function(e,t,r){return n.pcCheck(r,1,1),Math.tan(n.toNumber(r[0]))}))},e.defaultvalue=function(e,r){return t(e,r,(function(e,t,r){return n.pcCheck(r,2,2),null===r[0]||""===r[0]||void 0===r[0]?r[1]:r[0]}))},e.isempty=function(e,r){return t(e,r,(function(e,t,r){return n.pcCheck(r,1,1),null===r[0]||""===r[0]||void 0===r[0]}))},e.boolean=function(e,r){return t(e,r,(function(e,t,r){n.pcCheck(r,1,1);var i=r[0];return n.toBoolean(i)}))},e.constrain=function(e,r){return t(e,r,(function(e,t,r){n.pcCheck(r,3,3);var i=n.toNumber(r[1]),u=n.toNumber(r[2]);if(n.isArray(r[0])){for(var o=[],s=0,l=r[0];s<l.length;s++){var c=l[s];o.push(a(c,i,u))}return o}if(n.isImmutableArray(r[0])){o=[];for(var f=0;f<r[0].length();f++)o.push(a(r[0].get(f),i,u));return o}return a(r[0],i,u)}))}}}.apply(null,r))||(e.exports=i)},1023:function(e,t,n){var r,i;r=[n.dj.c(e.i),t,n(269),n(1024)],void 0===(i=function(e,t,n,r){function i(e,t,i,a){if(1===a.length){if(n.isArray(a[0]))return r.calculateStat(e,a[0],-1);if(n.isImmutableArray(a[0]))return r.calculateStat(e,a[0].toArray(),-1)}return r.calculateStat(e,a,-1)}Object.defineProperty(t,"__esModule",{value:!0}),t.registerFunctions=function(e,t){e.stdev=function(e,n){return t(e,n,(function(e,t,n){return i("stdev",0,0,n)}))},e.variance=function(e,n){return t(e,n,(function(e,t,n){return i("variance",0,0,n)}))},e.average=function(e,n){return t(e,n,(function(e,t,n){return i("mean",0,0,n)}))},e.mean=function(e,n){return t(e,n,(function(e,t,n){return i("mean",0,0,n)}))},e.sum=function(e,n){return t(e,n,(function(e,t,n){return i("sum",0,0,n)}))},e.min=function(e,n){return t(e,n,(function(e,t,n){return i("min",0,0,n)}))},e.max=function(e,n){return t(e,n,(function(e,t,n){return i("max",0,0,n)}))},e.distinct=function(e,n){return t(e,n,(function(e,t,n){return i("distinct",0,0,n)}))},e.count=function(e,r){return t(e,r,(function(e,t,r){if(n.pcCheck(r,1,1),n.isArray(r[0])||n.isString(r[0]))return r[0].length;if(n.isImmutableArray(r[0]))return r[0].length();throw new Error("Invalid Parameters for Count")}))}}}.apply(null,r))||(e.exports=i)},1024:function(e,t,n){var r,i;r=[n.dj.c(e.i),t,n(269)],void 0===(i=function(e,t,n){function r(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t/e.length}function i(e){for(var t=r(e),n=0,i=0;i<e.length;i++)n+=Math.pow(t-e[i],2);return n/e.length}Object.defineProperty(t,"__esModule",{value:!0}),t.decodeStatType=function(e){switch(e.toLowerCase()){case"distinct":return"distinct";case"avg":case"mean":return"avg";case"min":return"min";case"sum":return"sum";case"max":return"max";case"stdev":case"stddev":return"stddev";case"var":case"variance":return"var";case"count":return"count"}return""},t.calculateStat=function(e,t,a){switch(void 0===a&&(a=1e3),e.toLowerCase()){case"distinct":return function(e,t){for(var r=[],i={},a=[],u=0;u<e.length;u++){if(void 0!==e[u]&&null!==e[u]&&e[u]!==n.voidOperation){var o=e[u];if(n.isNumber(o)||n.isString(o))void 0===i[o]&&(r.push(o),i[o]=1);else{for(var s=!1,l=0;l<a.length;l++)!0===n.equalityTest(a[l],o)&&(s=!0);!1===s&&(a.push(o),r.push(o))}}if(r.length>=t&&-1!==t)return r}return r}(t,a);case"avg":case"mean":return r(n.toNumberArray(t));case"min":return Math.min.apply(Math,n.toNumberArray(t));case"sum":return function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t}(n.toNumberArray(t));case"max":return Math.max.apply(Math,n.toNumberArray(t));case"stdev":case"stddev":return Math.sqrt(i(n.toNumberArray(t)));case"var":case"variance":return i(n.toNumberArray(t));case"count":return t.length}return 0}}.apply(null,r))||(e.exports=i)},1025:function(e,t,n){var r,i;r=[n.dj.c(e.i),t,n(710),n(379),n(510),n(269),n(295)],void 0===(i=function(e,t,n,r,i,a,u){Object.defineProperty(t,"__esModule",{value:!0}),t.registerFunctions=function(e,t){e.portal=function(e,r){return t(e,r,(function(e,t,r){return a.pcCheck(r,1,1),new n(a.toString(r[0]))}))},e.trim=function(e,n){return t(e,n,(function(e,t,n){return a.pcCheck(n,1,1),a.toString(n[0]).trim()}))},e.upper=function(e,n){return t(e,n,(function(e,t,n){return a.pcCheck(n,1,1),a.toString(n[0]).toUpperCase()}))},e.proper=function(e,n){return t(e,n,(function(e,t,n){a.pcCheck(n,1,2);var r=1;2===n.length&&"firstword"===a.toString(n[1]).toLowerCase()&&(r=2);for(var i=/\s/,u=a.toString(n[0]),o="",s=!0,l=0;l<u.length;l++){var c=u[l];i.test(c)?1===r&&(s=!0):c.toUpperCase()!==c.toLowerCase()&&(s?(c=c.toUpperCase(),s=!1):c=c.toLowerCase()),o+=c}return o}))},e.lower=function(e,n){return t(e,n,(function(e,t,n){return a.pcCheck(n,1,1),a.toString(n[0]).toLowerCase()}))},e.guid=function(e,n){return t(e,n,(function(e,t,n){if(a.pcCheck(n,0,1),n.length>0)switch(a.toString(n[0]).toLowerCase()){case"digits":return a.generateUUID().replace("-","").replace("-","").replace("-","").replace("-","");case"digits-hyphen":return a.generateUUID();case"digits-hyphen-braces":return"{"+a.generateUUID()+"}";case"digits-hyphen-parentheses":return"("+a.generateUUID()+")"}return"{"+a.generateUUID()+"}"}))},e.console=function(e,n){return t(e,n,(function(t,n,r){return 0===r.length||(1===r.length?e.console(a.toString(r[0])):e.console(a.toString(r))),a.voidOperation}))},e.mid=function(e,n){return t(e,n,(function(e,t,n){a.pcCheck(n,2,3);var r=a.toNumber(n[1]);if(isNaN(r))return"";if(r<0&&(r=0),2===n.length)return a.toString(n[0]).substr(r);var i=a.toNumber(n[2]);return isNaN(i)?"":(i<0&&(i=0),a.toString(n[0]).substr(r,i))}))},e.find=function(e,n){return t(e,n,(function(e,t,n){a.pcCheck(n,2,3);var r=0;if(n.length>2){if(r=a.toNumber(a.defaultUndefined(n[2],0)),isNaN(r))return-1;r<0&&(r=0)}return a.toString(n[1]).indexOf(a.toString(n[0]),r)}))},e.left=function(e,n){return t(e,n,(function(e,t,n){a.pcCheck(n,2,2);var r=a.toNumber(n[1]);return isNaN(r)?"":(r<0&&(r=0),a.toString(n[0]).substr(0,r))}))},e.right=function(e,n){return t(e,n,(function(e,t,n){a.pcCheck(n,2,2);var r=a.toNumber(n[1]);return isNaN(r)?"":(r<0&&(r=0),a.toString(n[0]).substr(-1*r,r))}))},e.split=function(e,n){return t(e,n,(function(e,t,n){var r;a.pcCheck(n,2,4);var i=a.toNumber(a.defaultUndefined(n[2],-1)),u=a.toBoolean(a.defaultUndefined(n[3],!1));if(-1===i||null===i||!0===u?r=a.toString(n[0]).split(a.toString(n[1])):(isNaN(i)&&(i=-1),i<-1&&(i=-1),r=a.toString(n[0]).split(a.toString(n[1]),i)),!1===u)return r;for(var o=[],s=0;s<r.length&&!(-1!==i&&o.length>=i);s++)""!==r[s]&&void 0!==r[s]&&o.push(r[s]);return o}))},e.text=function(e,n){return t(e,n,(function(e,t,n){return a.pcCheck(n,1,2),a.toStringExplicit(n[0],n[1])}))},e.concatenate=function(e,n){return t(e,n,(function(e,t,n){var r=[];if(n.length<1)return"";if(a.isArray(n[0])){for(var i=a.defaultUndefined(n[2],""),u=0;u<n[0].length;u++)r[u]=a.toStringExplicit(n[0][u],i);return n.length>1?r.join(n[1]):r.join("")}if(a.isImmutableArray(n[0])){for(i=a.defaultUndefined(n[2],""),u=0;u<n[0].length();u++)r[u]=a.toStringExplicit(n[0].get(u),i);return n.length>1?r.join(n[1]):r.join("")}for(u=0;u<n.length;u++)r[u]=a.toStringExplicit(n[u]);return r.join("")}))},e.reverse=function(e,n){return t(e,n,(function(e,t,n){var r;if(a.pcCheck(n,1,1),a.isArray(n[0]))return(r=n[0].slice(0)).reverse(),r;if(a.isImmutableArray(n[0]))return(r=n[0].toArray().slice(0)).reverse(),r;throw new Error("Invalid Parameter")}))},e.replace=function(e,n){return t(e,n,(function(e,t,n){a.pcCheck(n,3,4);var r=a.toString(n[0]),i=a.toString(n[1]),u=a.toString(n[2]);return 4!==n.length||a.toBoolean(n[3])?a.multiReplace(r,i,u):r.replace(i,u)}))},e.schema=function(e,n){return t(e,n,(function(e,t,n){if(n[0]instanceof i){var a=n[0].schema();return a?r.convertObjectToArcadeDictionary(a):null}throw new Error("Invalid Parameter")}))},e.subtypes=function(e,n){return t(e,n,(function(e,t,n){if(a.pcCheck(n,1,1),n[0]instanceof i){var u=n[0].subtypes();return u?r.convertObjectToArcadeDictionary(u):null}throw new Error("Invalid Parameter")}))},e.subtypecode=function(e,n){return t(e,n,(function(e,t,n){if(a.pcCheck(n,1,1),n[0]instanceof i){var r=n[0].subtypes();if(!r)return null;if(r.subtypeField&&n[0].hasField(r.subtypeField)){for(var u=n[0].field(r.subtypeField),o=0,s=r.subtypes;o<s.length;o++){var l=s[o];if(l.code===u)return l.code}return null}return null}throw new Error("Invalid Parameter")}))},e.subtypename=function(e,n){return t(e,n,(function(e,t,n){if(a.pcCheck(n,1,1),n[0]instanceof i){var r=n[0].subtypes();if(!r)return"";if(r.subtypeField&&n[0].hasField(r.subtypeField)){for(var u=n[0].field(r.subtypeField),o=0,s=r.subtypes;o<s.length;o++){var l=s[o];if(l.code===u)return l.name}return""}return""}throw new Error("Invalid Parameter")}))},e.domain=function(e,n){return t(e,n,(function(e,t,n){if(a.pcCheck(n,2,3),n[0]instanceof i){var o=n[0].fullDomain(a.toString(n[1]),void 0===n[2]?void 0:a.toNumber(n[2]));return o&&o.domain?"coded-value"===o.domain.type||"codedValue"===o.domain.type?r.convertObjectToArcadeDictionary({type:"codedValue",name:o.domain.name,dataType:u.layerFieldEsriConstants[o.field.type],codedValues:o.domain.codedValues.map((function(e){return{name:e.name,code:e.code}}))}):r.convertObjectToArcadeDictionary({type:"range",name:o.domain.name,dataType:u.layerFieldEsriConstants[o.field.type],min:o.domain.min,max:o.domain.max}):null}throw new Error("Invalid Parameter")}))},e.domainname=function(e,n){return t(e,n,(function(e,t,n){if(a.pcCheck(n,2,4),n[0]instanceof i)return n[0].domainValueLookup(a.toString(n[1]),n[2],void 0===n[3]?void 0:a.toNumber(n[3]));throw new Error("Invalid Parameter")}))},e.domaincode=function(e,n){return t(e,n,(function(e,t,n){if(a.pcCheck(n,2,4),n[0]instanceof i)return n[0].domainCodeLookup(a.toString(n[1]),n[2],void 0===n[3]?void 0:a.toNumber(n[3]));throw new Error("Invalid Parameter")}))},e.urlencode=function(e,n){return t(e,n,(function(e,t,n){if(a.pcCheck(n,1,1),null===n[0])return"";if(n[0]instanceof r){for(var i="",u=0,o=n[0].keys();u<o.length;u++){var s=o[u],l=n[0].field(s);""!==i&&(i+="&"),i+=null===l?encodeURIComponent(s)+"=":encodeURIComponent(s)+"="+encodeURIComponent(l)}return i}return encodeURIComponent(a.toString(n[0]))}))}}}.apply(null,r))||(e.exports=i)},2028:function(e,t,n){var r,i;r=[n.dj.c(e.i),t,n(2029),n(2030),n(269),n(2031),n(712),n(164),n(153),n(2033)],void 0===(i=function(e,t,r,i,a,u,o,s,l,c){Object.defineProperty(t,"__esModule",{value:!0});var f=function(){if(s("csp-restrictions"))return!1;try{return new Function("function* test() {}; return true")()}catch(e){return!1}}(),p=!1,m=!1,h=null,d=[];function y(e,t){return void 0===t&&(t=[]),u.parseScript(e,t)}function g(e,t){if(!0===t.useAsync||!0===e.isAsync){if(null===h)throw new Error("Async Arcade must be enabled for this script");return h.executeScript(e,t)}return i.executeScript(e,t)}function D(e,t){return i.referencesMember(e,t)}function v(e,t){return void 0===t&&(t=[]),void 0===e.usesGeometry&&o.findScriptDependencies(e,t),!0===e.usesGeometry}t.compileScript=function(e,t){return!0===t.useAsync||!0===e.isAsync?function(e,t){if(null===h)throw new Error("Async Arcade must be enabled for this script");return s("csp-restrictions")||!1===f?function(t){return h.executeScript(e,t)}:r.compileScript(e,t,!0)}(e,t):s("csp-restrictions")?function(t){return i.executeScript(e,t)}:r.compileScript(e,t)},t.extend=function(e){i.extend(e),r.extend(e,"sync"),null===h?d.push(e):(r.extend(e,"async"),h.extend(e))},t.parseScript=y,t.validateScript=function(e,t,n){return void 0===n&&(n=""),u.validateScript(e,t,n)},t.scriptCheck=function(e,t,n,r){return void 0===r&&(r=""),u.scriptCheck(e,t,n,r)},t.parseAndExecuteScript=function(e,t,n){return void 0===n&&(n=[]),g(u.parseScript(e,n),t)},t.executeScript=g,t.referencesMember=D,t.referencesFunction=function(e,t){return i.referencesFunction(e,t)},t.extractFieldLiterals=function(e,t){return void 0===t&&(t=!1),u.extractFieldLiterals(e,t)},t.scriptUsesGeometryEngine=v;var E=null;function b(){return E||(E=l.create((function(e,t){Promise.all([n.e(12),n.e(25)]).then((function(){var t=[n(1072),n(1021)];(function(t,n){m=!0,n.setGeometryEngine(t),e(!0)}).apply(null,t)})).catch((function(e){t(e)}))})))}t.enableGeometrySupport=b;var C=null;function A(){return null!==C?C:C=r.enableAsyncSupport().then((function(){return l.create((function(e,t){n.e(119).then((function(){var i=[n(2168)];(function(n){try{h=n;for(var i=0,a=d;i<a.length;i++){var u=a[i];h.extend(u),r.extend(u,"async")}d=null,e(!0)}catch(n){t(n)}}).apply(null,i)})).catch(t.bind(this))}))}))}function F(){return p}function w(){return!!h}function S(){return m}t.enableAsyncSupport=A,t.isFeatureSetSupportEnabled=F,t.isAsyncEnabled=w,t.isGeometryEnabled=S;var N=null;function x(){return N||(N=A().then((function(){return l.create((function(e,t){Promise.all([n.e(1),n.e(5),n.e(9),n.e(42)]).then((function(){var i=[n(1393),n(2174),n(2175),n(2176),n(2177)];(function(n,i,a,u,o){try{T=n,h.extend([i,a,u,o]),r.extend([i,a,u,o],"async"),p=!0,e(!0)}catch(n){t(n)}}).apply(null,i)})).catch(t.bind(this))}))})))}function I(e,t){return void 0===t&&(t=[]),void 0===e.usesFeatureSet&&o.findScriptDependencies(e,t),!0===e.usesFeatureSet}t.enableFeatureSetSupport=x,t.scriptUsesFeatureSet=I,t.scriptIsAsync=function(e,t){return void 0===t&&(t=[]),void 0===e.isAsync&&o.findScriptDependencies(e,t),!0===e.isAsync},t.loadScriptDependencies=function(e,t,n,r){return void 0===n&&(n=[]),void 0===r&&(r=!1),l.create((function(i,a){var u="string"==typeof e?y(e):e,o=[];o.push(O()),u&&(!1===S()&&(v(u)||r)&&o.push(b()),!1===w()&&(!0===u.isAsync||t)&&o.push(A()),!1===F()&&(I(u)||function(e,t){if(t){for(var n=0,r=t;n<r.length;n++)if(D(e,r[n]))return!0;return!1}return!1}(u,n))&&o.push(x())),o?l.all(o).then((function(){i(!0)}),a):i(!0)}))},t.scriptTouchesGeometry=function(e){if(v(e))return!0;var t=o.findFunctionCalls(e);return t.indexOf("geometry")>-1||t.indexOf("feature")>-1};var T=null;function O(){return null!==B?B:B=c.loadMoment().then((function(e){return a.MomentLibrary.Moment=e,!0}))}t.featureSetUtils=function(){return T},t.load=O;var B=null}.apply(null,r))||(e.exports=i)},2029:function(e,t,n){var r,i;r=[n.dj.c(e.i),t,n(710),n(833),n(379),n(510),n(831),n(607),n(269),n(712),n(1019),n(1020),n(1021),n(1022),n(1023),n(1025),n(153),n(184),n(215),n(352),n(202),n(232),n(259),n(170)],void 0===(i=function(e,t,r,i,a,u,o,s,l,c,f,p,m,h,d,y,g,D,v,E,b,C,A,F){function w(e,t,n){try{return n(e,null,t)}catch(e){throw e}}function S(e){return e instanceof Error?g.reject(e):g.reject(new Error(e))}function N(e,t){try{switch(t.type){case"EmptyStatement":return"lc.voidOperation";case"VariableDeclarator":return function(e,t){var n=null===t.init?null:N(e,t.init);n===l.voidOperation&&(n=null);var r=t.id.name.toLowerCase();if(null!==e.localScope){if(void 0!==e.localScope[r])return"lscope['"+r+"']="+n+"; ";if(void 0!==e.localScope._SymbolsMap[r])return"lscope['"+e.localScope._SymbolsMap[r]+"']="+n+"; ";var i=R(e);return e.localScope._SymbolsMap[r]=i,e.mangleMap[r]=i,"lscope['"+i+"']="+n+"; "}return void 0!==e.globalScope[r]?"gscope['"+r+"']="+n+"; ":void 0!==e.globalScope._SymbolsMap[r]?"gscope['"+e.globalScope._SymbolsMap[r]+"']="+n+"; ":(i=R(e),e.globalScope._SymbolsMap[r]=i,e.mangleMap[r]=i,"gscope['"+i+"']="+n+"; ")}(e,t);case"VariableDeclaration":return function(e,t){for(var n=[],r=0;r<t.declarations.length;r++)n.push(N(e,t.declarations[r]));return n.join("\n")+" \n lastStatement=  lc.voidOperation; \n"}(e,t);case"BlockStatement":return I(e,t);case"FunctionDeclaration":return function(e,t){var n=t.id.name.toLowerCase(),r={isAsync:e.isAsync,spatialReference:e.spatialReference,console:e.console,lrucache:e.lrucache,services:e.services,symbols:e.symbols,mangleMap:e.mangleMap,localScope:{_SymbolsMap:{}},depthCounter:e.depthCounter+1,globalScope:e.globalScope};if(r.depthCounter>64)throw new Error("Exceeded maximum function depth");for(var i="new lc.SizzleFunction( lang.functionDepthchecker(function() { var lastStatement = lc.voidOperation; \n   var lscope = runtimeCtx.localStack[runtimeCtx.localStack.length-1];\n",a=0;a<t.params.length;a++){var u=t.params[a].name.toLowerCase(),o=R(e);r.localScope._SymbolsMap[u]=o,r.mangleMap[u]=o,i+="lscope['"+o+"']=arguments["+a.toString()+"];\n"}return!0===e.isAsync?(i+="return lang.__awaiter(this, void 0, void 0, function* () {\n",i+=I(r,t.body)+"\n return lastStatement; ",i+="});  }",i+=", runtimeCtx))",i+="\n lastStatement = lc.voidOperation; \n"):(i+=I(r,t.body)+"\n return lastStatement; }, runtimeCtx))",i+="\n lastStatement = lc.voidOperation; \n"),void 0!==e.globalScope[n]?"gscope['"+n+"']="+i:void 0!==e.globalScope._SymbolsMap[n]?"gscope['"+e.globalScope._SymbolsMap[n]+"']="+i:(o=R(e),e.globalScope._SymbolsMap[n]=o,e.mangleMap[n]=o,"gscope['"+o+"']="+i)}(e,t);case"ReturnStatement":return function(e,t){return null===t.argument?"return lc.voidOperation":"return "+N(e,t.argument)}(e,t);case"IfStatement":return function(e,t){if("AssignmentExpression"===t.test.type||"UpdateExpression"===t.test.type)throw new Error(c.nodeErrorMessage(t.test,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));var n=N(e,t.test),r=P(e),i="var "+r+" = "+n+";\n if ("+r+" === true) {\n"+x(e,t.consequent)+"\n }\n";return null!==t.alternate?i+="else if ("+r+"===false)   { \n"+x(e,t.alternate)+"}\n":i+="else if ("+r+"===false) { \n lastStatement = lc.voidOperation;\n }\n",i+"else { lang.error({type: '"+t.type+"'},'RUNTIME','CANNOT_USE_NONBOOLEAN_IN_CONDITION'); \n}\n"}(e,t);case"ExpressionStatement":return function(e,t){return"AssignmentExpression"===t.expression.type?"lastStatement = lc.voidOperation; "+N(e,t.expression)+"; \n ":(t.expression.type,"lastStatement = "+N(e,t.expression)+"; ")}(e,t);case"AssignmentExpression":return function(e,t){var n=N(e,t.right),r=null;if("MemberExpression"===t.left.type)return"lang.assignmember("+(r=N(e,t.left.object))+","+(!0===t.left.computed?N(e,t.left.property):"'"+t.left.property.name+"'")+",'"+t.operator+"',"+n+")";if(r=t.left.name.toLowerCase(),null!==e.localScope){if(void 0!==e.localScope[r])return"lscope['"+r+"']=lang.assign("+n+",'"+t.operator+"', lscope['"+r+"'])";if(void 0!==e.localScope._SymbolsMap[r])return"lscope['"+e.localScope._SymbolsMap[r]+"']=lang.assign("+n+",'"+t.operator+"', lscope['"+e.localScope._SymbolsMap[r]+"'])"}if(void 0!==e.globalScope[r])return"gscope['"+r+"']=lang.assign("+n+",'"+t.operator+"', gscope['"+r+"'])";if(void 0!==e.globalScope._SymbolsMap[r])return"gscope['"+e.globalScope._SymbolsMap[r]+"']=lang.assign("+n+",'"+t.operator+"', gscope['"+e.globalScope._SymbolsMap[r]+"'])";throw new Error("Variable not recognised")}(e,t);case"UpdateExpression":return function(e,t){var n=null;if("MemberExpression"===t.argument.type)return"lang.memberupdate("+(n=N(e,t.argument.object))+","+(!0===t.argument.computed?N(e,t.argument.property):"'"+t.argument.property.name+"'")+",'"+t.operator+"',"+t.prefix+")";if(n=t.argument.name.toLowerCase(),null!==e.localScope){if(void 0!==e.localScope[n])return"lang.update(lscope, '"+n+"','"+t.operator+"',"+t.prefix+")";if(void 0!==e.localScope._SymbolsMap[n])return"lang.update(lscope, '"+e.localScope._SymbolsMap[n]+"','"+t.operator+"',"+t.prefix+")"}if(void 0!==e.globalScope[n])return"lang.update(gscope, '"+n+"','"+t.operator+"',"+t.prefix+")";if(void 0!==e.globalScope._SymbolsMap[n])return"lang.update(gscope, '"+e.globalScope._SymbolsMap[n]+"','"+t.operator+"',"+t.prefix+")";throw new Error("Variable not recognised")}(e,t);case"BreakStatement":return"break";case"ContinueStatement":return"continue";case"TemplateLiteral":return function(e,t){try{for(var n=[],r=0,i=0,a=t.quasis;i<a.length;i++){var u=a[i];n.push(u.value?JSON.stringify(u.value.cooked):JSON.stringify("")),!1===u.tail&&(n.push(t.expressions[r]?"lang.castString(lang.aCheck("+N(e,t.expressions[r])+", 'TemplateLiteral'))":""),r++)}return"(["+n.join(",")+"]).join('')"}catch(e){throw e}}(e,t);case"TemplateElement":return JSON.stringify(t.value?t.value.cooked:"");case"ForStatement":return function(e,t){var n="lastStatement = lc.voidOperation; \n";null!==t.init&&(n+=N(e,t.init)+"; ");var r=P(e),i=P(e);return n+="var "+r+" = true; ",n+="\n do { ",null!==t.update&&(n+=" if ("+r+"===false) {\n "+N(e,t.update)+"  \n}\n "+r+"=false; \n"),null!==t.test&&(n+="var "+i+" = "+N(e,t.test)+"; ",n+="if ("+i+"===false) { break; } else if ("+i+"!==true) { lang.error({type: '"+t.type+"'},'RUNTIME','CANNOT_USE_NONBOOLEAN_IN_CONDITION');   }\n"),n+=N(e,t.body),null!==t.update&&(n+="\n "+N(e,t.update)),n+"\n"+r+" = true; \n} while(true);  lastStatement = lc.voidOperation; "}(e,t);case"ForInStatement":return function(e,t){var n=P(e),r=P(e),i=P(e),a="var "+n+" = "+N(e,t.right)+";\n";"VariableDeclaration"===t.left.type&&(a+=N(e,t.left));var u="VariableDeclaration"===t.left.type?t.left.declarations[0].id.name:t.left.name;u=u.toLowerCase();var o="";return null!==e.localScope&&(void 0!==e.localScope[u]?o="lscope['"+u+"']":void 0!==e.localScope._SymbolsMap[u]&&(o="lscope['"+e.localScope._SymbolsMap[u]+"']")),""===o&&(void 0!==e.globalScope[u]?o="gscope['"+u+"']":void 0!==e.globalScope._SymbolsMap[u]&&(o="gscope['"+e.globalScope._SymbolsMap[u]+"']")),a+="if ("+n+"===null) {  lastStatement = lc.voidOperation; }\n ",a+="else if (lc.isArray("+n+") || lc.isString("+n+")) {",a+="var "+r+"="+n+".length; \n",a+="for(var "+i+"=0; "+i+"<"+r+"; "+i+"++) {\n",a+=o+"="+i+";\n",a+=N(e,t.body),a+="\n}\n",a+=" lastStatement = lc.voidOperation; \n",a+=" \n}\n",a+="else if (lc.isImmutableArray("+n+")) {",a+="var "+r+"="+n+".length(); \n",a+="for(var "+i+"=0; "+i+"<"+r+"; "+i+"++) {\n",a+=o+"="+i+";\n",a+=N(e,t.body),a+="\n}\n",a+=" lastStatement = lc.voidOperation; \n",a+=" \n}\n",a+="else if (( "+n+" instanceof lang.Dictionary) || ( "+n+" instanceof lang.Feature)) {",a+="var "+r+"="+n+".keys(); \n",a+="for(var "+i+"=0; "+i+"<"+r+".length; "+i+"++) {\n",a+=o+"="+r+"["+i+"];\n",a+=N(e,t.body),a+="\n}\n",a+=" lastStatement = lc.voidOperation; \n",a+=" \n}\n",e.isAsync&&(a+="else if (lc.isFeatureSet("+n+")) {",a+="var "+r+"="+n+".iterator(runtimeCtx.abortSignal); \n",a+="for(var "+i+"=lang. graphicToFeature( yield "+r+".next(),"+n+"); "+i+"!=null; "+i+"=lang. graphicToFeature( yield "+r+".next(),"+n+")) {\n",a+=o+"="+i+";\n",a+=N(e,t.body),a+="\n}\n",a+=" lastStatement = lc.voidOperation; \n",a+=" \n}\n"),a+"else { lastStatement = lc.voidOperation; } \n"}(e,t);case"Identifier":return function(e,t){try{var n=t.name.toLowerCase();if(null!==e.localScope){if(void 0!==e.localScope[n])return"lscope['"+n+"']";if(void 0!==e.localScope._SymbolsMap[n])return"lscope['"+e.localScope._SymbolsMap[n]+"']"}if(void 0!==e.globalScope[n])return"gscope['"+n+"']";if(void 0!==e.globalScope._SymbolsMap[n])return"gscope['"+e.globalScope._SymbolsMap[n]+"']";throw new Error(c.nodeErrorMessage(t,"RUNTIME","VARIABLENOTFOUND"))}catch(e){throw e}}(e,t);case"MemberExpression":return function(e,t){try{var n;return n=!0===t.computed?N(e,t.property):"'"+t.property.name+"'","lang.member("+N(e,t.object)+","+n+")"}catch(e){throw e}}(e,t);case"Literal":return null===t.value||void 0===t.value?"null":JSON.stringify(t.value);case"ThisExpression":throw new Error(c.nodeErrorMessage(t,"RUNTIME","NOTSUPPORTED"));case"CallExpression":return function(e,t){try{if("Identifier"!==t.callee.type)throw new Error(c.nodeErrorMessage(t,"RUNTIME","ONLYNODESSUPPORTED"));var n=t.callee.name.toLowerCase(),r="";if(null!==e.localScope&&(void 0!==e.localScope[n]?r="lscope['"+n+"']":void 0!==e.localScope._SymbolsMap[n]&&(r="lscope['"+e.localScope._SymbolsMap[n]+"']")),""===r&&(void 0!==e.globalScope[n]?r="gscope['"+n+"']":void 0!==e.globalScope._SymbolsMap[n]&&(r="gscope['"+e.globalScope._SymbolsMap[n]+"']")),""!==r){for(var i="[",a=0;a<t.arguments.length;a++)a>0&&(i+=", "),i+=N(e,t.arguments[a]);return i+="]",e.isAsync?"(yield lang.callfunc("+r+","+i+",runtimeCtx) )":"lang.callfunc("+r+","+i+",runtimeCtx)"}throw new Error(c.nodeErrorMessage(t,"RUNTIME","NOTFOUND"))}catch(e){throw e}}(e,t);case"UnaryExpression":return function(e,t){try{return"lang.unary("+N(e,t.argument)+",'"+t.operator+"')"}catch(e){throw e}}(e,t);case"BinaryExpression":return function(e,t){try{return"lang.binary("+N(e,t.left)+","+N(e,t.right)+",'"+t.operator+"')"}catch(e){throw e}}(e,t);case"LogicalExpression":return function(e,t){try{if("AssignmentExpression"===t.left.type||"UpdateExpression"===t.left.type)throw new Error(c.nodeErrorMessage(t.left,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("AssignmentExpression"===t.right.type||"UpdateExpression"===t.right.type)throw new Error(c.nodeErrorMessage(t.right,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("&&"===t.operator||"||"===t.operator)return"(lang.logicalCheck("+N(e,t.left)+") "+t.operator+" lang.logicalCheck("+N(e,t.right)+"))";throw new Error(c.nodeErrorMessage(t,"RUNTIME","ONLYORORAND"))}catch(e){throw e}}(e,t);case"ConditionalExpression":throw new Error(c.nodeErrorMessage(t,"RUNTIME","NOTSUPPORTED"));case"ArrayExpression":return function(e,t){try{for(var n=[],r=0;r<t.elements.length;r++)"Literal"===t.elements[r].type?n.push(N(e,t.elements[r])):n.push("lang.aCheck("+N(e,t.elements[r])+",'ArrayExpression')");return"["+n.join(",")+"]"}catch(e){throw e}}(e,t);case"ObjectExpression":return function(e,t){for(var n="lang.dictionary([",r=0;r<t.properties.length;r++){var i=t.properties[r];r>0&&(n+=","),n+="lang.strCheck("+("Identifier"===i.key.type?"'"+i.key.name+"'":N(e,i.key))+",'ObjectExpression'),lang.aCheck("+N(e,i.value)+", 'ObjectExpression')"}return n+"])"}(e,t);case"Property":return function(e,t){throw new Error("Should not get here")}();case"Array":throw new Error(c.nodeErrorMessage(t,"RUNTIME","NOTSUPPORTED"));default:throw new Error(c.nodeErrorMessage(t,"RUNTIME","UNREOGNISED"))}}catch(e){throw e}}function x(e,t){return"BlockStatement"===t.type?N(e,t):"ReturnStatement"===t.type||"BreakStatement"===t.type||"ContinueStatement"===t.type?N(e,t)+"; ":"UpdateExpression"===t.type?"lastStatement = "+N(e,t)+"; ":"ExpressionStatement"===t.type?N(e,t):"ObjectExpression"===t.type?"lastStatement = "+N(e,t)+"; ":N(e,t)+"; "}function I(e,t){for(var n="",r=0;r<t.body.length;r++)"ReturnStatement"===t.body[r].type||"BreakStatement"===t.body[r].type||"ContinueStatement"===t.body[r].type?n+=N(e,t.body[r])+"; \n":"UpdateExpression"===t.body[r].type||"ObjectExpression"===t.body[r].type?n+="lastStatement = "+N(e,t.body[r])+"; \n":n+=N(e,t.body[r])+" \n";return n}Object.defineProperty(t,"__esModule",{value:!0});var T=0,O={};function B(e){return null===e?"":l.isArray(e)||l.isImmutableArray(e)?"Array":l.isDate(e)?"Date":l.isString(e)?"String":l.isBoolean(e)?"Boolean":l.isNumber(e)?"Number":e instanceof i?"Attachment":e instanceof r?"Portal":e instanceof a?"Dictionary":e instanceof u?"Feature":e instanceof b?"Point":e instanceof C?"Polygon":e instanceof A?"Polyline":e instanceof E?"Multipoint":e instanceof D?"Extent":l.isFunctionParameter(e)?"Function":l.isFeatureSet(e)?"FeatureSet":l.isFeatureSetCollection(e)?"FeatureSetCollection":e===l.voidOperation?"":"number"==typeof e&&isNaN(e)?"Number":"Unrecognised Type"}function k(e,t){var n=e.length,r=Math.floor(n/2);return 0===n?[]:1===n?[e[0]]:function(e,t,n){for(var r=[];e.length>0||t.length>0;)if(e.length>0&&t.length>0){var i=n(e[0],t[0]);isNaN(i)&&(i=0),i<=0?(r.push(e[0]),e=e.slice(1)):(r.push(t[0]),t=t.slice(1))}else e.length>0?(r.push(e[0]),e=e.slice(1)):t.length>0&&(r.push(t[0]),t=t.slice(1));return r}(k(e.slice(0,r),t),k(e.slice(r,n),t),t)}function R(e){return e.symbols.symbolCounter++,"_T"+e.symbols.symbolCounter.toString()}function P(e){return e.symbols.symbolCounter++,"_Tvar"+e.symbols.symbolCounter.toString()}f.registerFunctions(O,w),y.registerFunctions(O,w),h.registerFunctions(O,w),p.registerFunctions(O,w),d.registerFunctions(O,w),O.typeof=function(e,t){return w(e,t,(function(e,t,n){l.pcCheck(n,1,1);var r=B(n[0]);if("Unrecognised Type"===r)throw new Error("Unrecognised Type");return r}))},O.iif=function(e,t){try{return w(e,t,(function(e,t,n){if(l.pcCheck(n,3,3),!1===l.isBoolean(n[0]))throw new Error("IF Function must have a boolean test condition");return n[0]?n[1]:n[2]}))}catch(e){throw e}},O.decode=function(e,t){try{return w(e,t,(function(t,n,r){if(r.length<2)throw new Error("Missing Parameters");if(2===r.length)return r[1];if((r.length-1)%2==0)throw new Error("Must have a default value result.");var i=r[0];return function e(t,n,r,i){try{var a=n[r];if(l.equalityTest(a,i))return n[r+1];var u=n.length-r;return 1===u?n[r]:2===u?null:3===u?n[r+2]:e(t,n,r+2,i)}catch(e){throw e}}(e,r,1,i)}))}catch(e){throw e}},O.when=function(e,t){try{return w(e,t,(function(t,n,r){if(r.length<3)throw new Error("Missing Parameters");if(r.length%2==0)throw new Error("Must have a default value result.");var i=r[0];if(!1===l.isBoolean(i))throw new Error("WHEN needs boolean test conditions");return function e(t,n,r,i){try{if(!0===i)return n[r+1];if(3==n.length-r)return n[r+2];var a=n[r+2];if(!1===l.isBoolean(a))throw new Error("WHEN needs boolean test conditions");return e(t,n,r+2,a)}catch(e){throw e}}(e,r,0,i)}))}catch(e){throw e}},O.top=function(e,t){return w(e,t,(function(e,t,n){if(l.pcCheck(n,2,2),l.isArray(n[0]))return l.toNumber(n[1])>=n[0].length?n[0].slice(0):n[0].slice(0,l.toNumber(n[1]));if(l.isImmutableArray(n[0]))return l.toNumber(n[1])>=n[0].length()?n[0].slice(0):n[0].slice(0,l.toNumber(n[1]));throw new Error("Top cannot accept this parameter type")}))},O.first=function(e,t){return w(e,t,(function(e,t,n){return l.pcCheck(n,1,1),l.isArray(n[0])?0===n[0].length?null:n[0][0]:l.isImmutableArray(n[0])?0===n[0].length()?null:n[0].get(0):null}))},O.sort=function(e,t){return w(e,t,(function(t,n,r){l.pcCheck(r,1,2);var i=r[0];if(l.isImmutableArray(i)&&(i=i.toArray()),!1===l.isArray(i))throw new Error("Illegal Argument");if(r.length>1){if(!1===l.isFunctionParameter(r[1]))throw new Error("Illegal Argument");var a=i,u=function(e,n){return z.callfunc(r[1],[e,n],t)};return e.isAsync?function e(t,n){try{var r=t.length,i=Math.floor(r/2);if(0===r)return g.resolve([]);if(1===r)return g.resolve([t[0]]);var a=[e(t.slice(0,i),n),e(t.slice(i,r),n)];return g.all(a).then((function(e){return function e(t,n,r,i){return g.create((function(a,u){var o=i;t.length>0||n.length>0?t.length>0&&n.length>0?r(t[0],n[0]).then((function(s){try{isNaN(s)&&(s=1),s<=0?(o.push(t[0]),t=t.slice(1)):(o.push(n[0]),n=n.slice(1)),e(t,n,r,i).then((function(e){a(e)}),u)}catch(e){u(e)}}),u):t.length>0?(o.push(t[0]),t=t.slice(1),e(t,n,r,i).then((function(e){a(e)}),u)):n.length>0&&(o.push(n[0]),n=n.slice(1),e(t,n,r,i).then((function(e){a(e)}),u)):a(i)}))}(e[0],e[1],n,[])}))}catch(t){return g.reject(t)}}(a,u):a=k(a,(function(e,t){return u(e,t)}))}if(0===(a=i).length)return[];for(var o={},s=0;s<a.length;s++){var c=B(a[s]);""!==c&&(o[c]=!0)}if(!0===o.Array||!0===o.Dictionary||!0===o.Feature||!0===o.Point||!0===o.Polygon||!0===o.Polyline||!0===o.Multipoint||!0===o.Extent||!0===o.Function)return a.slice(0);var f=0,p="";for(var m in o)f++,p=m;return f>1||"String"===p?k(a,(function(e,t){if(null==e||e===l.voidOperation)return null==t||t===l.voidOperation?0:1;if(null==t||t===l.voidOperation)return-1;var n=l.toString(e),r=l.toString(t);return n<r?-1:n===r?0:1})):"Number"===p?k(a,(function(e,t){return e-t})):"Boolean"===p?k(a,(function(e,t){return e===t?0:t?-1:1})):"Date"===p?k(a,(function(e,t){return t-e})):a.slice(0)}))};var M={};for(var L in O)M[L]=new l.NativeFunction(O[L]);for(var L in m.registerFunctions(O,w),O)O[L]=new l.NativeFunction(O[L]);var _=function(){};_.prototype=O;var U=function(){};function G(e,t,n){var r={};for(var i in e||(e={}),n||(n={}),r._SymbolsMap={},r.textformatting=1,r.infinity=1,r.pi=1,t)r[i]=1;for(var i in n)r[i]=1;for(var i in e)r[i]=1;return r}U.prototype=M;var j={fixSpatialReference:l.fixSpatialReference,parseArguments:function(e,t){for(var n=[],r=0;r<t.arguments.length;r++)n.push(N(e,t.arguments[r]));return n},standardFunction:w};function Y(e,t){for(var n={mode:t,compiled:!0,functions:{},signatures:[],failDefferred:S,standardFunction:w,standardFunctionAsync:w,evaluateIdentifier:V},r=0;r<e.length;r++)e[r].registerFunctions(n);if("sync"===t){for(var i in n.functions)O[i]=new l.NativeFunction(n.functions[i]),_.prototype[i]=O[i];for(r=0;r<n.signatures.length;r++)c.addFunctionDeclaration(n.signatures[r],"sync")}else{for(var i in n.functions)M[i]=new l.NativeFunction(n.functions[i]),U.prototype[i]=M[i];for(r=0;r<n.signatures.length;r++)c.addFunctionDeclaration(n.signatures[r],"async")}}function V(e,t){var n=t.name;if("_SymbolsMap"===n)throw"Illegal";if(e.localStack.length>0){if("_t"!==n.substr(0,2).toLowerCase()&&void 0!==e.localStack[e.localStack.length-1][n])return e.localStack[e.localStack.length-1][n];var r=e.mangleMap[n];if(void 0!==r&&void 0!==e.localStack[e.localStack.length-1][r])return e.localStack[e.localStack.length-1][r]}if("_t"!==n.substr(0,2).toLowerCase()&&void 0!==e.globalScope[n])return e.globalScope[n];if(1===e.globalScope._SymbolsMap[n])return e.globalScope[n];var i=e.mangleMap[n];return void 0!==i?e.globalScope[i]:void 0}t.functionHelper=j,t.extend=Y,t.executeScript=function(e,t){return e(t)},t.extractFieldLiterals=function(e,t){return void 0===t&&(t=!1),c.findFieldLiterals(e)},t.validateScript=function(e,t){return c.validateScript(e,t,"sync")},t.referencesMember=function(e,t){return c.referencesMember(e,t)},t.referencesFunction=function(e,t){return c.referencesFunction(e,t)};var q=0,z={error:function(e,t,n){throw new Error(c.nodeErrorMessage(e,t,n))},__awaiter:function(e,t,n,r){return g.create((function(n,i){function a(e){try{o(r.next(e))}catch(e){i(e)}}function u(e){try{o(r.throw(e))}catch(e){i(e)}}function o(e){e.done?n(e.value):e.value&&e.value.then?e.value.then(a,u):++q%100==0?setTimeout((function(){q=0,a(e.value)}),0):a(e.value)}o((r=r.apply(e,t||[])).next())}))},functionDepthchecker:function(e,t){return function(){if(t.depthCounter++,t.localStack.push([]),t.depthCounter>64)throw new Error("Exceeded maximum function depth");var n=e.apply(this,arguments);return g.isPromiseLike(n)?n.then((function(e){return t.depthCounter--,t.localStack.length=t.localStack.length-1,e})):(t.depthCounter--,t.localStack.length=t.localStack.length-1,n)}},castString:function(e){return l.toString(e)},aCheck:function(e,t){if(l.isFunctionParameter(e))throw new Error(c.nodeErrorMessage({type:t},"RUNTIME","FUNCTIONCONTEXTILLEGAL"));return e===l.voidOperation?null:e},Dictionary:a,Feature:u,dictionary:function(e){for(var t={},n=0;n<e.length;n+=2){if(l.isFunctionParameter(e[n+1]))throw new Error("Illegal Argument");if(!1===l.isString(e[n]))throw new Error("Illegal Argument");e[n+1]===l.voidOperation?t[e[n].toString()]=null:t[e[n].toString()]=e[n+1]}var r=new a(t);return r.immutable=!1,r},strCheck:function(e){if(!1===l.isString(e))throw new Error("Illegal Argument");return e},unary:function(e,t){if(l.isBoolean(e)){if("!"===t)return!e;if("-"===t)return-1*l.toNumber(e);if("+"===t)return 1*l.toNumber(e);if("~"===t)return~l.toNumber(e);var n={type:"UnaryExpression",operator:t,prefix:null,argument:null};throw new Error(c.nodeErrorMessage(n,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"))}if("-"===t)return-1*l.toNumber(e);if("+"===t)return 1*l.toNumber(e);if("~"===t)return~l.toNumber(e);var r={type:"UnaryExpression",operator:t,prefix:null,argument:null};throw new Error(c.nodeErrorMessage(r,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"))},logicalCheck:function(e){if(!1===l.isBoolean(e))throw new Error(c.nodeErrorMessage({type:"LogicalExpression",operator:null,left:null,right:null},"RUNTIME","ONLYORORAND"));return e},logical:function(e,t,n){if(l.isBoolean(e)&&l.isBoolean(t))switch(n){case"||":return e||t;case"&&":return e&&t;default:throw new Error(c.nodeErrorMessage({type:"LogicalExpression",operator:null,left:null,right:null},"RUNTIME","ONLYORORAND"))}throw new Error(c.nodeErrorMessage({type:"LogicalExpression",operator:null,left:null,right:null},"RUNTIME","ONLYORORAND"))},binary:function(e,t,n){switch(n){case"|":case"<<":case">>":case">>>":case"^":case"&":return l.binaryOperator(l.toNumber(e),l.toNumber(t),n);case"==":case"=":return l.equalityTest(e,t);case"!=":return!l.equalityTest(e,t);case"<":case">":case"<=":case">=":return l.greaterThanLessThan(e,t,n);case"+":return l.isString(e)||l.isString(t)?l.toString(e)+l.toString(t):l.toNumber(e)+l.toNumber(t);case"-":return l.toNumber(e)-l.toNumber(t);case"*":return l.toNumber(e)*l.toNumber(t);case"/":return l.toNumber(e)/l.toNumber(t);case"%":return l.toNumber(e)%l.toNumber(t);default:var r={type:"BinaryExpression",operator:n,left:e,right:t};throw new Error(c.nodeErrorMessage(r,"RUNTIME","OPERATORNOTRECOGNISED"))}},assign:function(e,t,n){switch(t){case"=":return e===l.voidOperation?null:e;case"/=":return l.toNumber(n)/l.toNumber(e);case"*=":return l.toNumber(n)*l.toNumber(e);case"-=":return l.toNumber(n)-l.toNumber(e);case"+=":return l.isString(n)||l.isString(e)?l.toString(n)+l.toString(e):l.toNumber(n)+l.toNumber(e);case"%=":return l.toNumber(n)%l.toNumber(e);default:var r={type:"AssignmentExpression",operator:t,left:null,right:null};throw new Error(c.nodeErrorMessage(r,"RUNTIME","OPERATORNOTRECOGNISED"))}},update:function(e,t,n,r){var i=l.toNumber(e[t]);return e[t]="++"===n?i+1:i-1,!1===r?i:"++"===n?i+1:i-1},graphicToFeature:function(e,t){return null===e?null:u.createFromGraphicLikeObject(e.geometry,e.attributes,t)},memberupdate:function(e,t,n,r){var i;if(l.isArray(e)){if(!l.isNumber(t))throw new Error("Invalid Parameter");if(t<0&&(t=e.length+t),t<0||t>=e.length)throw new Error("Assignment outside of array bounds");i=l.toNumber(e[t]),e[t]="++"===n?i+1:i-1}else if(e instanceof a){if(!1===l.isString(t))throw new Error("Dictionary accessor must be a string");if(!0!==e.hasField(t))throw new Error("Invalid Parameter");i=l.toNumber(e.field(t)),e.setField(t,"++"===n?i+1:i-1)}else{if(!(e instanceof u))throw l.isImmutableArray(e)?new Error("Array is Immutable"):new Error("Invalid Parameter");if(!1===l.isString(t))throw new Error("Feature accessor must be a string");if(!0!==e.hasField(t))throw new Error("Invalid Parameter");i=l.toNumber(e.field(t)),e.setField(t,"++"===n?i+1:i-1)}return!1===r?i:"++"===n?i+1:i-1},assignmember:function(e,t,n,r){if(l.isArray(e)){if(!l.isNumber(t))throw new Error("Invalid Parameter");if(t<0&&(t=e.length+t),t<0||t>e.length)throw new Error("Assignment outside of array bounds");if(t===e.length){if("="!==n)throw new Error("Invalid Parameter");e[t]=this.assign(r,n,e[t])}else e[t]=this.assign(r,n,e[t])}else if(e instanceof a){if(!1===l.isString(t))throw new Error("Dictionary accessor must be a string");if(!0===e.hasField(t))e.setField(t,this.assign(r,n,e.field(t)));else{if("="!==n)throw new Error("Invalid Parameter");e.setField(t,this.assign(r,n,null))}}else{if(!(e instanceof u))throw l.isImmutableArray(e)?new Error("Array is Immutable"):new Error("Invalid Parameter");if(!1===l.isString(t))throw new Error("Feature accessor must be a string");if(!0===e.hasField(t))e.setField(t,this.assign(r,n,e.field(t)));else{if("="!==n)throw new Error("Invalid Parameter");e.setField(t,this.assign(r,n,null))}}},member:function(e,t){if(null===e)throw new Error(c.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","NOTFOUND"));if(e instanceof a||e instanceof u){if(l.isString(t))return e.field(t);throw new Error(c.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"))}if(e instanceof v){if(l.isString(t))return function(e,t,n){var r;switch(t=t.toLowerCase()){case"hasz":var i=e.hasZ;return void 0!==i&&i;case"hasm":var u=e.hasM;return void 0!==u&&u;case"spatialreference":var l=e.spatialReference._arcadeCacheId;if(void 0===l){var f=!0;Object.freeze&&Object.isFrozen(e.spatialReference)&&(f=!1),f&&(T++,e.spatialReference._arcadeCacheId=T,l=T)}var p=new a({wkt:e.spatialReference.wkt,wkid:e.spatialReference.wkid});return void 0!==l&&(p._arcadeCacheId="SPREF"+l.toString()),p}switch(e.type){case"extent":switch(t){case"xmin":case"xmax":case"ymin":case"ymax":case"zmin":case"zmax":case"mmin":case"mmax":var m=e[t];return void 0!==m?m:null;case"type":return"Extent"}break;case"polygon":switch(t){case"rings":return void 0===(r=e.cache._arcadeCacheId)&&(r=++T,e.cache._arcadeCacheId=r),new o(e.rings,e.spatialReference,!0===e.hasZ,!0===e.hasM,r);case"type":return"Polygon"}break;case"point":switch(t){case"x":case"y":case"z":case"m":return void 0!==e[t]?e[t]:null;case"type":return"Point"}break;case"polyline":switch(t){case"paths":return void 0===(r=e.cache._arcadeCacheId)&&(r=++T,e.cache._arcadeCacheId=r),new o(e.paths,e.spatialReference,!0===e.hasZ,!0===e.hasM,r);case"type":return"Polyline"}break;case"multipoint":switch(t){case"points":return void 0===(r=e.cache._arcadeCacheId)&&(r=++T,e.cache._arcadeCacheId=r),new s(e.points,e.spatialReference,!0===e.hasZ,!0===e.hasM,r,1);case"type":return"Multipoint"}}throw new Error(c.nodeErrorMessage("MemberExpression","RUNTIME","PROPERTYNOTFOUND"))}(e,t);throw new Error(c.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"))}if(l.isArray(e)){if(l.isNumber(t)&&isFinite(t)&&Math.floor(t)===t){if(t<0&&(t=e.length+t),t>=e.length||t<0)throw new Error(c.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","OUTOFBOUNDS"));return e[t]}throw new Error(c.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"))}if(l.isString(e)){if(l.isNumber(t)&&isFinite(t)&&Math.floor(t)===t){if(t<0&&(t=e.length+t),t>=e.length||t<0)throw new Error(c.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","OUTOFBOUNDS"));return e[t]}throw new Error(c.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"))}if(l.isImmutableArray(e)){if(l.isNumber(t)&&isFinite(t)&&Math.floor(t)===t){if(t<0&&(t=e.length()+t),t>=e.length()||t<0)throw new Error(c.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","OUTOFBOUNDS"));return e.get(t)}throw new Error(c.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"))}throw new Error(c.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"))},callfunc:function(e,t,n){return e instanceof l.NativeFunction?e.fn(n,t):e instanceof l.SizzleFunction?e.fn.apply(this,t):e.apply(this,t)}};function J(e){console.log(e)}t.compileScript=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1),null===t&&(t={vars:{},customfunctions:{}});var r={isAsync:n,globalScope:G(t.vars,n?M:O,t.customfunctions),localScope:null,mangleMap:{},console:J,lrucache:t.lrucache,services:t.services,symbols:{symbolCounter:0}},i=N(r,e.body[0].body);""===i&&(i="lc.voidOperation; ");var o={lc:l,lang:z,mangles:r.mangleMap,postProcess:function(e){if(e instanceof l.ReturnResult&&(e=e.value),e instanceof l.ImplicitResult&&(e=e.value),e===l.voidOperation&&(e=null),e===l.breakResult)throw new Error("Cannot return BREAK");if(e===l.continueResult)throw new Error("Cannot return CONTINUE");if(l.isFunctionParameter(e))throw new Error("Cannot return FUNCTION");return e},prepare:function(e,t){var n=e.spatialReference;null==n&&(n=new F({wkid:102100}));var r=function(e,t,n){var r=n?new U:new _;e||(e={}),t||(t={});var i=new a({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});for(var o in i.immutable=!1,r._SymbolsMap={textformatting:1,infinity:1,pi:1},r.textformatting=i,r.infinity=Number.POSITIVE_INFINITY,r.pi=Math.PI,t)r[o]=t[o],r._SymbolsMap[o]=1;for(var o in e)r._SymbolsMap[o]=1,e[o]&&"esri.Graphic"===e[o].declaredClass?r[o]=u.createFromGraphic(e[o]):r[o]=e[o];return r}(e.vars,e.customfunctions,t);return{localStack:[],isAsync:t,mangleMap:this.mangles,spatialReference:n,globalScope:r,abortSignal:void 0===e.abortSignal||null===e.abortSignal?{aborted:!1}:e.abortSignal,localScope:null,services:e.services,console:e.console?e.console:J,lrucache:e.lrucache,symbols:{symbolCounter:0},depthCounter:1}}};return new Function("context","spatialReference",n?"var runtimeCtx=this.prepare(context, true);\n var lc = this.lc;  var lang = this.lang; var gscope=runtimeCtx.globalScope; \nreturn lang.__awaiter(this, void 0, void 0, function* () {\n\n function mainBody() {\n var lastStatement=lc.voidOperation;\n return lang.__awaiter(this, void 0, void 0, function* () {\n"+i+"\n return lastStatement; }); } \n return this.postProcess(yield mainBody()); }); ":"var runtimeCtx=this.prepare(context, false);\n var lc = this.lc;  var lang = this.lang; var gscope=runtimeCtx.globalScope; \n function mainBody() {\n var lastStatement=lc.voidOperation;\n "+i+"\n return lastStatement; } \n return this.postProcess(mainBody()); ").bind(o)},t.enableAsyncSupport=function(){return g.create((function(e,t){n.e(129).then((function(){var t=[n(1073)];(function(t){Y([t],"async"),e(!0)}).apply(null,t)})).catch((function(e){t(e)}))}))}}.apply(null,r))||(e.exports=i)},2030:function(e,t,n){var r,i;r=[n.dj.c(e.i),t,n(710),n(833),n(379),n(510),n(1018),n(831),n(607),n(269),n(712),n(1019),n(1020),n(1021),n(1022),n(1023),n(1025),n(184),n(215),n(352),n(202),n(232),n(259),n(170)],void 0===(i=function(e,t,n,r,i,a,u,o,s,l,c,f,p,m,h,d,y,g,D,v,E,b,C,A){function F(e,t){for(var n=[],r=0;r<t.arguments.length;r++)n.push(S(e,t.arguments[r]));return n}function w(e,t,n){try{return n(e,t,F(e,t))}catch(e){throw e}}function S(e,t){try{switch(t.type){case"EmptyStatement":return l.voidOperation;case"VariableDeclarator":return function(e,t){var n=null===t.init?null:S(e,t.init);if(n===l.voidOperation&&(n=null),"Identifier"!==t.id.type)throw new Error("Can only assign a regular variable");var r=t.id.name.toLowerCase();return null!==e.localScope?e.localScope[r]={value:n,valueset:!0,node:t.init}:e.globalScope[r]={value:n,valueset:!0,node:t.init},l.voidOperation}(e,t);case"VariableDeclaration":return function(e,t){for(var n=0;n<t.declarations.length;n++)S(e,t.declarations[n]);return l.voidOperation}(e,t);case"BlockStatement":return function(e,t){for(var n=l.voidOperation,r=0;r<t.body.length;r++)if((n=S(e,t.body[r]))instanceof l.ReturnResult||n===l.breakResult||n===l.continueResult)return n;return n}(e,t);case"FunctionDeclaration":return function(e,t){var n=t.id.name.toLowerCase();return e.globalScope[n]={valueset:!0,node:null,value:new u(t,e)},l.voidOperation}(e,t);case"ReturnStatement":return function(e,t){if(null===t.argument)return new l.ReturnResult(l.voidOperation);var n=S(e,t.argument);return new l.ReturnResult(n)}(e,t);case"IfStatement":return function(e,t){if("AssignmentExpression"===t.test.type||"UpdateExpression"===t.test.type)throw new Error(c.nodeErrorMessage(t.test,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));var n=S(e,t.test);if(!0===n)return S(e,t.consequent);if(!1===n)return null!==t.alternate?S(e,t.alternate):l.voidOperation;throw new Error(c.nodeErrorMessage(t,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"))}(e,t);case"ExpressionStatement":return function(e,t){return"AssignmentExpression"===t.expression.type||"UpdateExpression"===t.expression.type?S(e,t.expression):(t.expression.type,(n=S(e,t.expression))===l.voidOperation?l.voidOperation:new l.ImplicitResult(n));var n}(e,t);case"AssignmentExpression":return function(e,t){var n=S(e,t.right),r=null,u="";if("MemberExpression"===t.left.type){if(r=S(e,t.left.object),!0===t.left.computed?u=S(e,t.left.property):"Identifier"===t.left.property.type&&(u=t.left.property.name),l.isArray(r)){if(!l.isNumber(u))throw new Error("Invalid Parameter");if(u<0&&(u=r.length+u),u<0||u>r.length)throw new Error("Assignment outside of array bounds");if(u===r.length){if("="!==t.operator)throw new Error("Invalid Parameter");r[u]=x(n,t.operator,r[u],t)}else r[u]=x(n,t.operator,r[u],t)}else if(r instanceof i){if(!1===l.isString(u))throw new Error("Dictionary accessor must be a string");if(!0===r.hasField(u))r.setField(u,x(n,t.operator,r.field(u),t));else{if("="!==t.operator)throw new Error("Invalid Parameter");r.setField(u,x(n,t.operator,null,t))}}else{if(!(r instanceof a))throw l.isImmutableArray(r)?new Error("Array is Immutable"):new Error("Invalid Parameter");if(!1===l.isString(u))throw new Error("Feature accessor must be a string");if(!0===r.hasField(u))r.setField(u,x(n,t.operator,r.field(u),t));else{if("="!==t.operator)throw new Error("Invalid Parameter");r.setField(u,x(n,t.operator,null,t))}}return l.voidOperation}if(r=t.left.name.toLowerCase(),null!==e.localScope&&void 0!==e.localScope[r])return e.localScope[r]={value:x(n,t.operator,e.localScope[r].value,t),valueset:!0,node:t.right},l.voidOperation;if(void 0!==e.globalScope[r])return e.globalScope[r]={value:x(n,t.operator,e.globalScope[r].value,t),valueset:!0,node:t.right},l.voidOperation;throw new Error("Variable not recognised")}(e,t);case"UpdateExpression":return function(e,t){var n,r=null,u="";if("MemberExpression"===t.argument.type){if(r=S(e,t.argument.object),!0===t.argument.computed?u=S(e,t.argument.property):"Identifier"===t.argument.property.type&&(u=t.argument.property.name),l.isArray(r)){if(!l.isNumber(u))throw new Error("Invalid Parameter");if(u<0&&(u=r.length+u),u<0||u>=r.length)throw new Error("Assignment outside of array bounds");n=l.toNumber(r[u]),r[u]="++"===t.operator?n+1:n-1}else if(r instanceof i){if(!1===l.isString(u))throw new Error("Dictionary accessor must be a string");if(!0!==r.hasField(u))throw new Error("Invalid Parameter");n=l.toNumber(r.field(u)),r.setField(u,"++"===t.operator?n+1:n-1)}else{if(!(r instanceof a))throw l.isImmutableArray(r)?new Error("Array is Immutable"):new Error("Invalid Parameter");if(!1===l.isString(u))throw new Error("Feature accessor must be a string");if(!0!==r.hasField(u))throw new Error("Invalid Parameter");n=l.toNumber(r.field(u)),r.setField(u,"++"===t.operator?n+1:n-1)}return!1===t.prefix?n:"++"===t.operator?n+1:n-1}if(!(r="Identifier"===t.argument.type?t.argument.name.toLowerCase():""))throw new Error("Invalid identifier");if(null!==e.localScope&&void 0!==e.localScope[r])return n=l.toNumber(e.localScope[r].value),e.localScope[r]={value:"++"===t.operator?n+1:n-1,valueset:!0,node:t},!1===t.prefix?n:"++"===t.operator?n+1:n-1;if(void 0!==e.globalScope[r])return n=l.toNumber(e.globalScope[r].value),e.globalScope[r]={value:"++"===t.operator?n+1:n-1,valueset:!0,node:t},!1===t.prefix?n:"++"===t.operator?n+1:n-1;throw new Error("Variable not recognised")}(e,t);case"BreakStatement":return l.breakResult;case"ContinueStatement":return l.continueResult;case"TemplateElement":return function(e,t){return t.value?t.value.cooked:""}(0,t);case"TemplateLiteral":return function(e,t){for(var n="",r=0,i=0,a=t.quasis;i<a.length;i++){var u=a[i];if(n+=u.value?u.value.cooked:"",!1===u.tail)n+=t.expressions[r]?l.toString(S(e,t.expressions[r])):"",r++}return n}(e,t);case"ForStatement":return function(e,t){null!==t.init&&S(e,t.init);var n={testResult:!0,lastAction:l.voidOperation};do{N(e,t,n)}while(!0===n.testResult);return n.lastAction instanceof l.ReturnResult?n.lastAction:l.voidOperation}(e,t);case"ForInStatement":return function(e,t){var n=S(e,t.right);"VariableDeclaration"===t.left.type&&S(e,t.left);var r=null,u="";if("VariableDeclaration"===t.left.type){var o=t.left.declarations[0].id;"Identifier"===o.type&&(u=o.name)}else"Identifier"===t.left.type&&(u=t.left.name);if(!u)throw new Error(c.nodeErrorMessage(t,"RUNTIME","INVALIDVARIABLE"));if(u=u.toLowerCase(),null!==e.localScope&&void 0!==e.localScope[u]&&(r=e.localScope[u]),null===r&&void 0!==e.globalScope[u]&&(r=e.globalScope[u]),null===r)throw new Error(c.nodeErrorMessage(t,"RUNTIME","VARIABLENOTDECLARED"));if(l.isArray(n)||l.isString(n)){for(var s=n.length,f=0;f<s&&(r.value=f,(h=S(e,t.body))!==l.breakResult);f++)if(h instanceof l.ReturnResult)return h;return l.voidOperation}if(l.isImmutableArray(n)){for(f=0;f<n.length()&&(r.value=f,(h=S(e,t.body))!==l.breakResult);f++)if(h instanceof l.ReturnResult)return h;return l.voidOperation}if(!(n instanceof i||n instanceof a))return l.voidOperation;for(var p=n.keys(),m=0;m<p.length;m++){var h;if(r.value=p[m],(h=S(e,t.body))===l.breakResult)break;if(h instanceof l.ReturnResult)return h}}(e,t);case"Identifier":return O(e,t);case"MemberExpression":return function(e,t){try{var n=S(e,t.object);if(null===n)throw new Error(c.nodeErrorMessage(t,"RUNTIME","NOTFOUND"));if(!1===t.computed){if("Identifier"===t.property.type){if(n instanceof i||n instanceof a)return n.field(t.property.name);if(n instanceof D)return T(n,t.property.name,t)}throw new Error(c.nodeErrorMessage(t,"RUNTIME","INVALIDTYPE"))}var r=S(e,t.property);if(n instanceof i||n instanceof a){if(l.isString(r))return n.field(r);throw new Error(c.nodeErrorMessage(t,"RUNTIME","INVALIDTYPE"))}if(n instanceof D){if(l.isString(r))return T(n,r,t);throw new Error(c.nodeErrorMessage(t,"RUNTIME","INVALIDTYPE"))}if(l.isArray(n)){if(l.isNumber(r)&&isFinite(r)&&Math.floor(r)===r){if(r<0&&(r=n.length+r),r>=n.length||r<0)throw new Error(c.nodeErrorMessage(t,"RUNTIME","OUTOFBOUNDS"));return n[r]}throw new Error(c.nodeErrorMessage(t,"RUNTIME","INVALIDTYPE"))}if(l.isString(n)){if(l.isNumber(r)&&isFinite(r)&&Math.floor(r)===r){if(r<0&&(r=n.length+r),r>=n.length||r<0)throw new Error(c.nodeErrorMessage(t,"RUNTIME","OUTOFBOUNDS"));return n[r]}throw new Error(c.nodeErrorMessage(t,"RUNTIME","INVALIDTYPE"))}if(l.isImmutableArray(n)){if(l.isNumber(r)&&isFinite(r)&&Math.floor(r)===r){if(r<0&&(r=n.length()+r),r>=n.length()||r<0)throw new Error(c.nodeErrorMessage(t,"RUNTIME","OUTOFBOUNDS"));return n.get(r)}throw new Error(c.nodeErrorMessage(t,"RUNTIME","INVALIDTYPE"))}throw new Error(c.nodeErrorMessage(t,"RUNTIME","INVALIDTYPE"))}catch(e){throw e}}(e,t);case"Literal":return t.value;case"CallExpression":return function(e,t){try{if("Identifier"!==t.callee.type)throw new Error(c.nodeErrorMessage(t,"RUNTIME","ONLYNODESSUPPORTED"));if(null!==e.localScope&&void 0!==e.localScope[t.callee.name.toLowerCase()]){if((n=e.localScope[t.callee.name.toLowerCase()]).value instanceof l.NativeFunction)return n.value.fn(e,t);if(n.value instanceof u)return M(e,t,n.value.definition);throw new Error(c.nodeErrorMessage(t,"RUNTIME","NOTAFUNCTION"))}if(void 0!==e.globalScope[t.callee.name.toLowerCase()]){var n;if((n=e.globalScope[t.callee.name.toLowerCase()]).value instanceof l.NativeFunction)return n.value.fn(e,t);if(n.value instanceof u)return M(e,t,n.value.definition);throw new Error(c.nodeErrorMessage(t,"RUNTIME","NOTAFUNCTION"))}throw new Error(c.nodeErrorMessage(t,"RUNTIME","NOTFOUND"))}catch(e){throw e}}(e,t);case"UnaryExpression":return function(e,t){try{var n=S(e,t.argument);if(l.isBoolean(n)){if("!"===t.operator)return!n;if("-"===t.operator)return-1*l.toNumber(n);if("+"===t.operator)return 1*l.toNumber(n);if("~"===t.operator)return~l.toNumber(n);throw new Error(c.nodeErrorMessage(t,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"))}if("~"===t.operator)return~l.toNumber(n);if("-"===t.operator)return-1*l.toNumber(n);if("+"===t.operator)return 1*l.toNumber(n);throw new Error(c.nodeErrorMessage(t,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"))}catch(e){throw e}}(e,t);case"BinaryExpression":return function(e,t){try{var n=[S(e,t.left),S(e,t.right)],r=n[0],i=n[1];switch(t.operator){case"|":case"<<":case">>":case">>>":case"^":case"&":return l.binaryOperator(l.toNumber(r),l.toNumber(i),t.operator);case"==":return l.equalityTest(r,i);case"!=":return!l.equalityTest(r,i);case"<":case">":case"<=":case">=":return l.greaterThanLessThan(r,i,t.operator);case"+":return l.isString(r)||l.isString(i)?l.toString(r)+l.toString(i):l.toNumber(r)+l.toNumber(i);case"-":return l.toNumber(r)-l.toNumber(i);case"*":return l.toNumber(r)*l.toNumber(i);case"/":return l.toNumber(r)/l.toNumber(i);case"%":return l.toNumber(r)%l.toNumber(i);default:throw new Error(c.nodeErrorMessage(t,"RUNTIME","OPERATORNOTRECOGNISED"))}}catch(e){throw e}}(e,t);case"LogicalExpression":return function(e,t){try{if("AssignmentExpression"===t.left.type||"UpdateExpression"===t.left.type)throw new Error(c.nodeErrorMessage(t.left,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("AssignmentExpression"===t.right.type||"UpdateExpression"===t.right.type)throw new Error(c.nodeErrorMessage(t.right,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));var n=S(e,t.left);if(l.isBoolean(n))switch(t.operator){case"||":if(!0===n)return n;var r=S(e,t.right);if(l.isBoolean(r))return r;throw new Error(c.nodeErrorMessage(t,"RUNTIME","ONLYORORAND"));case"&&":if(!1===n)return n;if(r=S(e,t.right),l.isBoolean(r))return r;throw new Error(c.nodeErrorMessage(t,"RUNTIME","ONLYORORAND"));default:throw new Error(c.nodeErrorMessage(t,"RUNTIME","ONLYORORAND"))}throw new Error(c.nodeErrorMessage(t,"RUNTIME","ONLYBOOLEAN"))}catch(e){throw e}}(e,t);case"ConditionalExpression":throw new Error(c.nodeErrorMessage(t,"RUNTIME","NOTSUPPORTED"));case"ArrayExpression":return function(e,t){try{for(var n=[],r=0;r<t.elements.length;r++){var i=S(e,t.elements[r]);if(l.isFunctionParameter(i))throw new Error(c.nodeErrorMessage(t,"RUNTIME","FUNCTIONCONTEXTILLEGAL"));i===l.voidOperation?n.push(null):n.push(i)}return n}catch(e){throw e}}(e,t);case"ObjectExpression":return function(e,t){for(var n={},r=0;r<t.properties.length;r++){var a=S(e,t.properties[r]);if(l.isFunctionParameter(a.value))throw new Error("Illegal Argument");if(!1===l.isString(a.key))throw new Error("Illegal Argument");a.value===l.voidOperation?n[a.key.toString()]=null:n[a.key.toString()]=a.value}var u=new i(n);return u.immutable=!1,u}(e,t);case"Property":return function(e,t){return{key:"Identifier"===t.key.type?t.key.name:S(e,t.key),value:S(e,t.value)}}(e,t);default:throw new Error(c.nodeErrorMessage(t,"RUNTIME","UNREOGNISED"))}}catch(e){throw e}}function N(e,t,n){if(null!==t.test){if(n.testResult=S(e,t.test),!1===n.testResult)return;if(!0!==n.testResult)throw new Error(c.nodeErrorMessage(t,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"))}n.lastAction=S(e,t.body),n.lastAction!==l.breakResult?n.lastAction instanceof l.ReturnResult?n.testResult=!1:null!==t.update&&S(e,t.update):n.testResult=!1}function x(e,t,n,r){switch(t){case"=":return e===l.voidOperation?null:e;case"/=":return l.toNumber(n)/l.toNumber(e);case"*=":return l.toNumber(n)*l.toNumber(e);case"-=":return l.toNumber(n)-l.toNumber(e);case"+=":return l.isString(n)||l.isString(e)?l.toString(n)+l.toString(e):l.toNumber(n)+l.toNumber(e);case"%=":return l.toNumber(n)%l.toNumber(e);default:throw new Error(c.nodeErrorMessage(r,"RUNTIME","OPERATORNOTRECOGNISED"))}}Object.defineProperty(t,"__esModule",{value:!0});var I=0;function T(e,t,n){var r;switch(t=t.toLowerCase()){case"hasz":var a=e.hasZ;return void 0!==a&&a;case"hasm":var u=e.hasM;return void 0!==u&&u;case"spatialreference":var l=e.spatialReference._arcadeCacheId;if(void 0===l){var f=!0;Object.freeze&&Object.isFrozen(e.spatialReference)&&(f=!1),f&&(I++,e.spatialReference._arcadeCacheId=I,l=I)}var p=new i({wkt:e.spatialReference.wkt,wkid:e.spatialReference.wkid});return void 0!==l&&(p._arcadeCacheId="SPREF"+l.toString()),p}switch(e.type){case"extent":switch(t){case"xmin":case"xmax":case"ymin":case"ymax":case"zmin":case"zmax":case"mmin":case"mmax":var m=e[t];return void 0!==m?m:null;case"type":return"Extent"}break;case"polygon":switch(t){case"rings":return void 0===(r=e.cache._arcadeCacheId)&&(r=++I,e.cache._arcadeCacheId=r),new o(e.rings,e.spatialReference,!0===e.hasZ,!0===e.hasM,r);case"type":return"Polygon"}break;case"point":switch(t){case"x":case"y":case"z":case"m":return void 0!==e[t]?e[t]:null;case"type":return"Point"}break;case"polyline":switch(t){case"paths":return void 0===(r=e.cache._arcadeCacheId)&&(r=++I,e.cache._arcadeCacheId=r),new o(e.paths,e.spatialReference,!0===e.hasZ,!0===e.hasM,r);case"type":return"Polyline"}break;case"multipoint":switch(t){case"points":return void 0===(r=e.cache._arcadeCacheId)&&(r=++I,e.cache._arcadeCacheId=r),new s(e.points,e.spatialReference,!0===e.hasZ,!0===e.hasM,r,1);case"type":return"Multipoint"}}throw new Error(c.nodeErrorMessage(n,"RUNTIME","PROPERTYNOTFOUND"))}function O(e,t){var n;try{var r=t.name.toLowerCase();if(null!==e.localScope&&void 0!==e.localScope[r])return!0===(n=e.localScope[r]).valueset||(n.value=S(e,n.node),n.valueset=!0),n.value;if(void 0!==e.globalScope[r])return!0===(n=e.globalScope[r]).valueset||(n.value=S(e,n.node),n.valueset=!0),n.value;throw new Error(c.nodeErrorMessage(t,"RUNTIME","VARIABLENOTFOUND"))}catch(e){throw e}}var B={};function k(e){return null==e?"":l.isArray(e)||l.isImmutableArray(e)?"Array":l.isDate(e)?"Date":l.isString(e)?"String":l.isBoolean(e)?"Boolean":l.isNumber(e)?"Number":e instanceof r?"Attachment":e instanceof n?"Portal":e instanceof i?"Dictionary":e instanceof a?"Feature":e instanceof E?"Point":e instanceof b?"Polygon":e instanceof C?"Polyline":e instanceof v?"Multipoint":e instanceof g?"Extent":l.isFunctionParameter(e)?"Function":l.isFeatureSet(e)?"FeatureSet":l.isFeatureSetCollection(e)?"FeatureSetCollection":e===l.voidOperation?"":"number"==typeof e&&isNaN(e)?"Number":"Unrecognised Type"}function R(e,t){var n=e.length,r=Math.floor(n/2);return 0===n?[]:1===n?[e[0]]:function(e,t,n){for(var r=[];e.length>0||t.length>0;)if(e.length>0&&t.length>0){var i=n(e[0],t[0]);isNaN(i)&&(i=0),i<=0?(r.push(e[0]),e=e.slice(1)):(r.push(t[0]),t=t.slice(1))}else e.length>0?(r.push(e[0]),e=e.slice(1)):t.length>0&&(r.push(t[0]),t=t.slice(1));return r}(R(e.slice(0,r),t),R(e.slice(r,n),t),t)}function P(e,t,n){try{var r=e.body;if(n.length!==e.params.length)throw new Error("Invalid Parameter calls to function.");for(var i=0;i<n.length;i++)t.localScope[e.params[i].name.toLowerCase()]={value:n[i],valueset:!0,node:null};var a=S(t,r);if(a instanceof l.ReturnResult)return a.value;if(a===l.breakResult)throw new Error("Cannot Break from a Function");if(a===l.continueResult)throw new Error("Cannot Continue from a Function");return a instanceof l.ImplicitResult?a.value:a}catch(e){throw e}}function M(e,t,n){return w(e,t,(function(t,r,i){var a={spatialReference:e.spatialReference,globalScope:e.globalScope,depthCounter:e.depthCounter+1,console:e.console,lrucache:e.lrucache,localScope:{}};if(a.depthCounter>64)throw new Error("Exceeded maximum function depth");return P(n,a,i)}))}function L(e){return function(){var t={spatialReference:e.context.spatialReference,console:e.context.console,lrucache:e.context.lrucache,localScope:{},depthCounter:e.context.depthCounter+1,globalScope:e.context.globalScope};if(t.depthCounter>64)throw new Error("Exceeded maximum function depth");return P(e.definition,t,arguments)}}for(var _ in f.registerFunctions(B,w),y.registerFunctions(B,w),h.registerFunctions(B,w),p.registerFunctions(B,w),d.registerFunctions(B,w),m.registerFunctions(B,w),B.typeof=function(e,t){return w(e,t,(function(e,t,n){l.pcCheck(n,1,1);var r=k(n[0]);if("Unrecognised Type"===r)throw new Error("Unrecognised Type");return r}))},B.iif=function(e,t){try{l.pcCheck(null===t.arguments?[]:t.arguments,3,3);var n=S(e,t.arguments[0]);if(!1===l.isBoolean(n))throw new Error("IF Function must have a boolean test condition");var r=S(e,t.arguments[1]),i=S(e,t.arguments[2]);return!0===n?r:i}catch(e){throw e}},B.decode=function(e,t){try{if(t.arguments.length<2)throw new Error("Missing Parameters");if(2===t.arguments.length)return S(e,t.arguments[1]);if((t.arguments.length-1)%2==0)throw new Error("Must have a default value result.");return function e(t,n,r,i){try{var a=S(t,n.arguments[r]);if(l.equalityTest(a,i))return S(t,n.arguments[r+1]);var u=n.arguments.length-r;return 1===u?S(t,n.arguments[r]):2===u?null:3===u?S(t,n.arguments[r+2]):e(t,n,r+2,i)}catch(e){throw e}}(e,t,1,S(e,t.arguments[0]))}catch(e){throw e}},B.when=function(e,t){try{if(t.arguments.length<3)throw new Error("Missing Parameters");if(t.arguments.length%2==0)throw new Error("Must have a default value result.");var n=S(e,t.arguments[0]);if(!1===l.isBoolean(n))throw new Error("WHEN needs boolean test conditions");return function e(t,n,r,i){try{if(!0===i)return S(t,n.arguments[r+1]);if(3==n.arguments.length-r)return S(t,n.arguments[r+2]);var a=S(t,n.arguments[r+2]);if(!1===l.isBoolean(a))throw new Error("WHEN needs boolean test conditions");return e(t,n,r+2,a)}catch(e){throw e}}(e,t,0,n)}catch(e){throw e}},B.top=function(e,t){return w(e,t,(function(e,t,n){if(l.pcCheck(n,2,2),l.isArray(n[0]))return l.toNumber(n[1])>=n[0].length?n[0].slice(0):n[0].slice(0,l.toNumber(n[1]));if(l.isImmutableArray(n[0]))return l.toNumber(n[1])>=n[0].length()?n[0].slice(0):n[0].slice(0,l.toNumber(n[1]));throw new Error("Top cannot accept this parameter type")}))},B.first=function(e,t){return w(e,t,(function(e,t,n){return l.pcCheck(n,1,1),l.isArray(n[0])?0===n[0].length?null:n[0][0]:l.isImmutableArray(n[0])?0===n[0].length()?null:n[0].get(0):null}))},B.sort=function(e,t){return w(e,t,(function(e,t,n){l.pcCheck(n,1,2);var r=n[0];if(l.isImmutableArray(r)&&(r=r.toArray()),!1===l.isArray(r))throw new Error("Illegal Argument");if(n.length>1){if(!1===l.isFunctionParameter(n[1]))throw new Error("Illegal Argument");var i=r,a=L(n[1]);return R(i,(function(e,t){return a(e,t)}))}if(0===(i=r).length)return[];for(var u={},o=0;o<i.length;o++){var s=k(i[o]);""!==s&&(u[s]=!0)}if(!0===u.Array||!0===u.Dictionary||!0===u.Feature||!0===u.Point||!0===u.Polygon||!0===u.Polyline||!0===u.Multipoint||!0===u.Extent||!0===u.Function)return i.slice(0);var c=0,f="";for(var p in u)c++,f=p;return c>1||"String"===f?R(i,(function(e,t){if(null==e||e===l.voidOperation)return null==t||t===l.voidOperation?0:1;if(null==t||t===l.voidOperation)return-1;var n=l.toString(e),r=l.toString(t);return n<r?-1:n===r?0:1})):"Number"===f?R(i,(function(e,t){return e-t})):"Boolean"===f?R(i,(function(e,t){return e===t?0:t?-1:1})):"Date"===f?R(i,(function(e,t){return t-e})):i.slice(0)}))},B)B[_]={value:new l.NativeFunction(B[_]),valueset:!0,node:null};var U=function(){};(U.prototype=B).infinity={value:Number.POSITIVE_INFINITY,valueset:!0,node:null},U.prototype.pi={value:Math.PI,valueset:!0,node:null};var G={fixSpatialReference:l.fixSpatialReference,parseArguments:F,standardFunction:w};function j(e){console.log(e)}t.functionHelper=G,t.extend=function(e){for(var t={mode:"sync",compiled:!1,functions:{},signatures:[],standardFunction:w,evaluateIdentifier:O,arcadeCustomFunctionHandler:L},n=0;n<e.length;n++)e[n].registerFunctions(t);for(var r in t.functions)B[r]={value:new l.NativeFunction(t.functions[r]),valueset:!0,node:null},U.prototype[r]=B[r];for(n=0;n<t.signatures.length;n++)c.addFunctionDeclaration(t.signatures[n],"async")},t.executeScript=function(e,t){var n=t.spatialReference;null==n&&(n=new A({wkid:102100}));var r=S({spatialReference:n,globalScope:function(e,t){var n=new U;e||(e={}),t||(t={});var r=new i({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});for(var u in r.immutable=!1,n.textformatting={value:r,valueset:!0,node:null},t)n[u]={value:new l.NativeFunction(t[u]),native:!0,valueset:!0,node:null};for(var u in e)e[u]&&"esri.Graphic"===e[u].declaredClass?n[u]={value:a.createFromGraphic(e[u]),valueset:!0,node:null}:n[u]={value:e[u],valueset:!0,node:null};return n}(t.vars,t.customfunctions),localScope:null,console:t.console?t.console:j,lrucache:t.lrucache,depthCounter:1},e.body[0].body);if(r instanceof l.ReturnResult&&(r=r.value),r instanceof l.ImplicitResult&&(r=r.value),r===l.voidOperation&&(r=null),r===l.breakResult)throw new Error("Cannot return BREAK");if(r===l.continueResult)throw new Error("Cannot return CONTINUE");if(r instanceof u)throw new Error("Cannot return FUNCTION");if(r instanceof l.NativeFunction)throw new Error("Cannot return FUNCTION");return r},t.extractFieldLiterals=function(e,t){return void 0===t&&(t=!1),c.findFieldLiterals(e)},t.validateScript=function(e,t){return c.validateScript(e,t,"simple")},t.referencesMember=function(e,t){return c.referencesMember(e,t)},t.referencesFunction=function(e,t){return c.referencesFunction(e,t)},t.findFunctionCalls=function(e){return c.findFunctionCalls(e)}}.apply(null,r))||(e.exports=i)},2031:function(e,t,n){var r,i;r=[n.dj.c(e.i),t,n(712),n(2032)],void 0===(i=function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.parseScript=function(e,t){void 0===t&&(t=[]);var i=r.parse("function _() { "+e+"\n}");if(null===i.body||void 0===i.body)throw new Error("No formula provided.");if(0===i.body.length)throw new Error("No formula provided.");if(0===i.body.length)throw new Error("No formula provided.");if("BlockStatement"!==i.body[0].body.type)throw new Error("Invalid formula content.");var a=n.validateLanguage(i);if(""!==a)throw new Error(a);return n.findScriptDependencies(i,t),i},t.scriptCheck=function(e,t,i,a,u){var o=[];try{var s=r.parse("function _() { "+e+"\n}",{tolerant:!0,loc:!0}),l=s.errors;if(l.length>0)for(var c=0;c<l.length;c++)o.push({line:l[c].lineNumber,character:l[c].column,reason:l[c].description});for(var f=n.checkScript(s,t,i,a,u),p=0;p<f.length;p++)o.push(f[p])}catch(t){try{"Unexpected token }"===t.description?(t.index=("function _() { "+e+"\n}").length-1,o.push({line:t.lineNumber,character:t.column,reason:"Unexpected end of script"})):o.push({line:t.lineNumber,character:t.column,reason:t.description})}catch(e){}}return o},t.extractFieldLiterals=function(e,t){return void 0===t&&(t=!1),n.findFieldLiterals(e)},t.validateScript=function(e,t,r){return n.validateScript(e,t,r)},t.referencesMember=function(e,t){return n.referencesMember(e,t)},t.referencesFunction=function(e,t){return n.referencesFunction(e,t)}}.apply(null,r))||(e.exports=i)},2032:function(e,t,n){var r,i,a;!function(n,u){"use strict";i=[t],void 0===(a="function"==typeof(r=function(e){var t,n,r,i,a,u,o,s,l,c,f,p,m,h,d,y,g,D,v,E,b,C,A,F,w,S,N;function x(e,t){if(!e)throw new Error("ASSERT: "+t)}function I(e){return e>=48&&e<=57}function T(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function O(e){return"01234567".indexOf(e)>=0}function B(e){var t="0"!==e,n="01234567".indexOf(e);return c<b&&O(s[c])&&(t=!0,n=8*n+"01234567".indexOf(s[c++]),"0123".indexOf(e)>=0&&c<b&&O(s[c])&&(n=8*n+"01234567".indexOf(s[c++]))),{code:n,octal:t}}function k(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function R(e){return 10===e||13===e||8232===e||8233===e}function P(e){return e<65536?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10))+String.fromCharCode(56320+(e-65536&1023))}function M(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&o.NonAsciiIdentifierStart.test(P(e))}function L(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&o.NonAsciiIdentifierPart.test(P(e))}function _(e,t,n,r,i){var a;x("number"==typeof n,"Comment must have valid position"),A.lastCommentStart=n,a={type:e,value:t},F.range&&(a.range=[n,r]),F.loc&&(a.loc=i),F.comments.push(a),F.attachComment&&(F.leadingComments.push(a),F.trailingComments.push(a)),F.tokenize&&(a.type=a.type+"Comment",F.delegate&&(a=F.delegate(a)),F.tokens.push(a))}function U(e){var t,n,r,i;for(t=c-e,n={start:{line:f,column:c-p-e}};c<b;)if(r=s.charCodeAt(c),++c,R(r))return m=!0,F.comments&&(i=s.slice(t+e,c-1),n.end={line:f,column:c-p-1},_("Line",i,t,c-1,n)),13===r&&10===s.charCodeAt(c)&&++c,++f,void(p=c);F.comments&&(i=s.slice(t+e,c),n.end={line:f,column:c-p},_("Line",i,t,c,n))}function G(){var e,t,n,r;for(F.comments&&(e=c-2,t={start:{line:f,column:c-p-2}});c<b;)if(R(n=s.charCodeAt(c)))13===n&&10===s.charCodeAt(c+1)&&++c,m=!0,++f,++c,p=c;else if(42===n){if(47===s.charCodeAt(c+1))return++c,++c,void(F.comments&&(r=s.slice(e+2,c-2),t.end={line:f,column:c-p},_("Block",r,e,c,t)));++c}else++c;F.comments&&(t.end={line:f,column:c-p},_("Block",r=s.slice(e+2,c),e,c,t)),ce()}function j(){var e,t;for(m=!1,t=0===c;c<b;)if(k(e=s.charCodeAt(c)))++c;else if(R(e))m=!0,++c,13===e&&10===s.charCodeAt(c)&&++c,++f,p=c,t=!0;else if(47===e)if(47===(e=s.charCodeAt(c+1)))++c,++c,U(2),t=!0;else{if(42!==e)break;++c,++c,G()}else if(t&&45===e){if(45!==s.charCodeAt(c+1)||62!==s.charCodeAt(c+2))break;c+=3,U(3)}else{if(60!==e)break;if("!--"!==s.slice(c+1,c+4))break;++c,++c,++c,++c,U(4)}}function Y(e){var t,n,r,i=0;for(n="u"===e?4:2,t=0;t<n;++t){if(!(c<b&&T(s[c])))return"";r=s[c++],i=16*i+"0123456789abcdef".indexOf(r.toLowerCase())}return String.fromCharCode(i)}function V(){var e,t;for(t=0,"}"===(e=s[c])&&le();c<b&&T(e=s[c++]);)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&le(),P(t)}function q(e){var t,n;return(t=s.charCodeAt(e))>=55296&&t<=56319&&(n=s.charCodeAt(e+1))>=56320&&n<=57343&&(t=1024*(t-55296)+n-56320+65536),t}function z(){var e,t,n;for(n=P(e=q(c)),c+=n.length,92===e&&(117!==s.charCodeAt(c)&&le(),++c,"{"===s[c]?(++c,t=V()):(e=(t=Y("u")).charCodeAt(0),t&&"\\"!==t&&M(e)||le()),n=t);c<b&&L(e=q(c));)n+=t=P(e),c+=t.length,92===e&&(n=n.substr(0,n.length-1),117!==s.charCodeAt(c)&&le(),++c,"{"===s[c]?(++c,t=V()):(e=(t=Y("u")).charCodeAt(0),t&&"\\"!==t&&L(e)||le()),n+=t);return n}function J(){var e,n;return e=c,{type:1===(n=92===s.charCodeAt(c)?z():function(){var e,t;for(e=c++;c<b;){if(92===(t=s.charCodeAt(c)))return c=e,z();if(t>=55296&&t<57343)return c=e,z();if(!L(t))break;++c}return s.slice(e,c)}()).length?t.Identifier:function(e){switch((e=e.toLowerCase()).length){case 2:return"if"===e||"in"===e;case 3:return"var"===e||"for"===e;case 4:return"else"===e;case 5:return"break"===e;case 6:return"return"===e;case 8:return"function"===e||"continue"===e;default:return!1}}(n)?t.Keyword:"null"===n.toLowerCase()?t.NullLiteral:"true"===n.toLowerCase()||"false"===n.toLowerCase()?t.BooleanLiteral:t.Identifier,value:n,lineNumber:f,lineStart:p,start:e,end:c}}function X(){var e,n;switch(e={type:t.Punctuator,value:"",lineNumber:f,lineStart:p,start:c,end:c},n=s[c]){case"(":F.tokenize&&(F.openParenToken=F.tokenValues.length),++c;break;case"{":F.tokenize&&(F.openCurlyToken=F.tokenValues.length),A.curlyStack.push("{"),++c;break;case".":++c,"."===s[c]&&"."===s[c+1]&&(c+=2,n="...");break;case"}":++c,A.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++c;break;default:">>>="===(n=s.substr(c,4))?c+=4:"==="===(n=n.substr(0,3))||"!=="===n||">>>"===n||"<<="===n||">>="===n?c+=3:"&&"===(n=n.substr(0,2))||"||"===n||"=="===n||"!="===n||"+="===n||"-="===n||"*="===n||"/="===n||"++"===n||"--"===n||"<<"===n||">>"===n||"&="===n||"|="===n||"^="===n||"%="===n||"<="===n||">="===n||"=>"===n?c+=2:(n=s[c],"<>=!+-*%&|^/".indexOf(n)>=0&&++c)}return c===e.start&&le(),e.end=c,e.value=n,e}function Z(){var e,n,r;if(x(I((r=s[c]).charCodeAt(0))||"."===r,"Numeric literal must start with a decimal digit or a decimal point"),n=c,e="","."!==r){if(e=s[c++],r=s[c],"0"===e){if("x"===r||"X"===r)return++c,function(e){for(var n="";c<b&&T(s[c]);)n+=s[c++];return 0===n.length&&le(),M(s.charCodeAt(c))&&le(),{type:t.NumericLiteral,value:parseInt("0x"+n,16),lineNumber:f,lineStart:p,start:e,end:c}}(n);if("b"===r||"B"===r)return++c,function(e){var n,r;for(r="";c<b&&("0"===(n=s[c])||"1"===n);)r+=s[c++];return 0===r.length&&le(),c<b&&(M(n=s.charCodeAt(c))||I(n))&&le(),{type:t.NumericLiteral,value:parseInt(r,2),lineNumber:f,lineStart:p,start:e,end:c}}(n);if("o"===r||"O"===r)return function(e,n){var r,i;for(O(e)?(i=!0,r="0"+s[c++]):(i=!1,++c,r="");c<b&&O(s[c]);)r+=s[c++];return i||0!==r.length||le(),(M(s.charCodeAt(c))||I(s.charCodeAt(c)))&&le(),{type:t.NumericLiteral,value:parseInt(r,8),octal:i,lineNumber:f,lineStart:p,start:n,end:c}}(r,n)}for(;I(s.charCodeAt(c));)e+=s[c++];r=s[c]}if("."===r){for(e+=s[c++];I(s.charCodeAt(c));)e+=s[c++];r=s[c]}if("e"===r||"E"===r)if(e+=s[c++],"+"!==(r=s[c])&&"-"!==r||(e+=s[c++]),I(s.charCodeAt(c)))for(;I(s.charCodeAt(c));)e+=s[c++];else le();return M(s.charCodeAt(c))&&le(),{type:t.NumericLiteral,value:parseFloat(e),lineNumber:f,lineStart:p,start:n,end:c}}function H(){var e,n;return c>=b?{type:t.EOF,lineNumber:f,lineStart:p,start:c,end:c}:M(e=s.charCodeAt(c))?(n=J(),l&&(n.value,0)&&(n.type=t.Keyword),n):40===e||41===e||59===e?X():39===e||34===e?function(){var e,n,r,i,a,u="",o=!1;for(x("'"===(e=s[c])||'"'===e,"String literal must starts with a quote"),n=c,++c;c<b;){if((r=s[c++])===e){e="";break}if("\\"===r)if((r=s[c++])&&R(r.charCodeAt(0)))++f,"\r"===r&&"\n"===s[c]&&++c,p=c;else switch(r){case"u":case"x":if("{"===s[c])++c,u+=V();else{if(!(i=Y(r)))throw le();u+=i}break;case"n":u+="\n";break;case"r":u+="\r";break;case"t":u+="\t";break;case"b":u+="\b";break;case"f":u+="\f";break;case"v":u+="\v";break;case"8":case"9":u+=r,ce();break;default:O(r)?(o=(a=B(r)).octal||o,u+=String.fromCharCode(a.code)):u+=r}else{if(R(r.charCodeAt(0)))break;u+=r}}return""!==e&&(c=n,le()),{type:t.StringLiteral,value:u,octal:o,lineNumber:D,lineStart:v,start:n,end:c}}():46===e?I(s.charCodeAt(c+1))?Z():X():I(e)?Z():F.tokenize&&47===e?function(){var e,t,n;function i(e){return e&&e.length>1&&e[0]>="a"&&e[0]<="z"}switch(e=null!==(t=F.tokenValues[F.tokenValues.length-1]),t){case"this":case"]":e=!1;break;case")":(n=F.tokenValues[F.openParenToken-1])&&(n=n.toLowerCase()),e="if"===n||"while"===n||"for"===n||"with"===n;break;case"}":e=!1,i(F.tokenValues[F.openCurlyToken-3])?((n=F.tokenValues[F.openCurlyToken-4])&&(n=n.toLowerCase()),e=!!n&&r.indexOf(n)<0):i(F.tokenValues[F.openCurlyToken-4])&&(e=!(n=F.tokenValues[F.openCurlyToken-5])||r.indexOf(n)<0)}return e?collectRegex():X()}():96===e||125===e&&"${"===A.curlyStack[A.curlyStack.length-1]?function(){var e,n,r,i,a,o,l,m,h="";for(i=!1,o=!1,n=c,a="`"===s[c],r=2,++c;c<b;){if("`"===(e=s[c++])){r=1,o=!0,i=!0;break}if("$"===e){if("{"===s[c]){A.curlyStack.push("${"),++c,i=!0;break}h+=e}else if("\\"===e)if(R((e=s[c++]).charCodeAt(0)))++f,"\r"===e&&"\n"===s[c]&&++c,p=c;else switch(e){case"n":h+="\n";break;case"r":h+="\r";break;case"t":h+="\t";break;case"u":case"x":"{"===s[c]?(++c,h+=V()):(l=c,(m=Y(e))?h+=m:(c=l,h+=e));break;case"b":h+="\b";break;case"f":h+="\f";break;case"v":h+="\v";break;default:"0"===e?(I(s.charCodeAt(c))&&ue(u.TemplateOctalLiteral),h+="\0"):O(e)?ue(u.TemplateOctalLiteral):h+=e}else R(e.charCodeAt(0))?(++f,"\r"===e&&"\n"===s[c]&&++c,p=c,h+="\n"):h+=e}return i||le(),a||A.curlyStack.pop(),{type:t.Template,value:{cooked:h,raw:s.slice(n+1,c-r)},head:a,tail:o,lineNumber:f,lineStart:p,start:n,end:c}}():e>=55296&&e<57343&&M(e=q(c))?J():X()}function K(){var e,r,i,a;return e={start:{line:f,column:c-p}},r=H(),e.end={line:f,column:c-p},r.type!==t.EOF&&(i=s.slice(r.start,r.end),a={type:n[r.type],value:i,range:[r.start,r.end],loc:e},r.regex&&(a.regex={pattern:r.regex.pattern,flags:r.regex.flags}),F.tokenValues&&F.tokenValues.push("Punctuator"===a.type||"Keyword"===a.type?a.value:null),F.tokenize&&(F.range||delete a.range,F.loc||delete a.loc,F.delegate&&(a=F.delegate(a))),F.tokens.push(a)),r}function W(){var e;return E=!0,h=c,d=f,y=p,j(),e=C,g=c,D=f,v=p,C=void 0!==F.tokens?K():H(),E=!1,e}function $(){E=!0,j(),h=c,d=f,y=p,g=c,D=f,v=p,C=void 0!==F.tokens?K():H(),E=!1}function Q(){this.line=D,this.column=g-v}function ee(){this.start=new Q,this.end=null}function te(e){this.start={line:e.lineNumber,column:e.start-e.lineStart},this.end=null}function ne(){F.range&&(this.range=[g,0]),F.loc&&(this.loc=new ee)}function re(e){F.range&&(this.range=[e.start,0]),F.loc&&(this.loc=new te(e))}function ie(e){var t,n;for(t=0;t<F.errors.length;t++)if((n=F.errors[t]).index===e.index&&n.message===e.message)return;F.errors.push(e)}function ae(e,t,n){var r;return(r=function(e,t){var n=new Error(e);try{throw n}catch(e){Object.create&&Object.defineProperty&&(n=Object.create(e),Object.defineProperty(n,"column",{value:t}))}finally{return n}}("Line "+e+": "+n,t-(E?p:y)+1)).lineNumber=e,r.description=n,r.index=t,r}function ue(e){var t,n;throw t=Array.prototype.slice.call(arguments,1),n=e.replace(/%(\d)/g,(function(e,n){return x(n<t.length,"Message reference must be in range"),t[n]})),ae(d,h,n)}function oe(e){var t,n,r;if(t=Array.prototype.slice.call(arguments,1),n=e.replace(/%(\d)/g,(function(e,n){return x(n<t.length,"Message reference must be in range"),t[n]})),r=ae(f,h,n),!F.errors)throw r;ie(r)}function se(e,n){var r,i=n||u.UnexpectedToken;return e?(n||(i=e.type===t.EOF?u.UnexpectedEOS:e.type===t.Identifier?u.UnexpectedIdentifier:e.type===t.NumericLiteral?u.UnexpectedNumber:e.type===t.StringLiteral?u.UnexpectedString:e.type===t.Template?u.UnexpectedTemplate:u.UnexpectedToken,e.type===t.Keyword&&(e.value,l&&(e.value,0)&&(i=u.StrictReservedWord))),r=e.type===t.Template?e.value.raw:e.value):r="ILLEGAL",i=i.replace("%0",r),e&&"number"==typeof e.lineNumber?ae(e.lineNumber,e.start,i):ae(E?f:d,E?c:h,i)}function le(e,t){throw se(e,t)}function ce(e,t){var n=se(e,t);if(!F.errors)throw n;ie(n)}function fe(e){var n=W();n.type===t.Punctuator&&n.value===e||le(n)}function pe(){var e;F.errors?(e=C).type===t.Punctuator&&","===e.value?W():e.type===t.Punctuator&&";"===e.value?(W(),ce(e)):ce(e,u.UnexpectedToken):fe(",")}function me(e){var n=W();n.type===t.Keyword&&n.value.toLowerCase()===e.toLowerCase()||le(n)}function he(e){return C.type===t.Punctuator&&C.value===e}function de(e){return C.type===t.Keyword&&C.value.toLowerCase()===e.toLowerCase()}function ye(){59===s.charCodeAt(g)||he(";")?W():m||(h=g,d=D,y=v,C.type===t.EOF||he("}")||le(C))}function ge(e){var t,n=w,r=S,i=N;return w=!0,S=!0,N=null,t=e(),null!==N&&le(N),w=n,S=r,N=i,t}function De(e){var t,n=w,r=S,i=N;return w=!0,S=!0,N=null,t=e(),w=w&&n,S=S&&r,N=i||N,t}function ve(e,n){var r,i,a,u=new ne,o=he("[");if(C.type===t.Identifier){if(i=C,r=ze(),he("="))return e.push(i),W(),a=je(),u.finishProperty("init",r,!1,new re(i).finishAssignmentPattern(r,a),!1,!0);if(!he(":"))return e.push(i),u.finishProperty("init",r,!1,r,!1,!0)}else r=Fe();return fe(":"),a=be(e,n),u.finishProperty("init",r,o,a,!1,!1)}function Ee(e,t){return he("[")?function(e,t){var n,r,i=new ne,a=[];for(fe("[");!he("]");)if(he(","))W(),a.push(null);else{if(he("...")){r=new ne,W(),e.push(C),n=ze(t),a.push(r.finishRestElement(n));break}a.push(be(e,t)),he("]")||fe(",")}return fe("]"),i.finishArrayPattern(a)}(e,t):he("{")?function(e,t){var n=new ne,r=[];for(fe("{");!he("}");)r.push(ve(e,t)),he("}")||fe(",");return W(),n.finishObjectPattern(r)}(e,t):(de("let")&&("const"!==t&&"let"!==t||ce(C,u.UnexpectedToken)),e.push(C),ze(t))}function be(e,t){var n,r,i,a=C;return n=Ee(e,t),he("=")&&(W(),r=A.allowYield,A.allowYield=!0,i=ge(je),A.allowYield=r,n=new re(a).finishAssignmentPattern(n,i)),n}function Ce(){var e,t=[],n=new ne;for(fe("[");!he("]");)he(",")?(W(),t.push(null)):he("...")?(e=new ne,W(),e.finishSpreadElement(De(je)),he("]")||(S=w=!1,fe(",")),t.push(e)):(t.push(De(je)),he("]")||fe(","));return W(),n.finishArrayExpression(t)}function Ae(e,t,n){var r,i;return S=w=!1,r=l,i=ge(Ke),l&&t.firstRestricted&&ce(t.firstRestricted,t.message),l&&t.stricted&&ce(t.stricted,t.message),l=r,e.finishFunctionExpression(null,t.params,t.defaults,i,n)}function Fe(){var e,n,r=new ne;switch((e=W()).type){case t.StringLiteral:case t.NumericLiteral:return l&&e.octal&&ce(e,u.StrictOctalLiteral),r.finishLiteral(e);case t.Identifier:case t.BooleanLiteral:case t.NullLiteral:case t.Keyword:return r.finishIdentifier(e.value);case t.Punctuator:if("["===e.value)return n=ge(je),fe("]"),n}le(e)}function we(){switch(C.type){case t.Identifier:case t.StringLiteral:case t.BooleanLiteral:case t.NullLiteral:case t.NumericLiteral:case t.Keyword:return!0;case t.Punctuator:return"["===C.value}return!1}function Se(e){var n,r,a,o,s,l=C,c=new ne;return n=he("["),he("*")?W():r=Fe(),(a=function(e,n,r,i){var a,u,o,s,l=A.allowYield;if(e.type===t.Identifier){if("get"===e.value&&we())return r=he("["),n=Fe(),o=new ne,fe("("),fe(")"),A.allowYield=!1,a=Ae(o,{params:[],defaults:[],stricted:null,firstRestricted:null,message:null},!1),A.allowYield=l,i.finishProperty("get",n,r,a,!1,!1);if("set"===e.value&&we())return r=he("["),n=Fe(),o=new ne,fe("("),u={params:[],defaultCount:0,defaults:[],firstRestricted:null,paramSet:{}},he(")")?ce(C):(A.allowYield=!1,$e(u),A.allowYield=l,0===u.defaultCount&&(u.defaults=[])),fe(")"),A.allowYield=!1,a=Ae(o,u,!1),A.allowYield=l,i.finishProperty("set",n,r,a,!1,!1)}else if(e.type===t.Punctuator&&"*"===e.value&&we())return r=he("["),n=Fe(),o=new ne,A.allowYield=!0,s=Qe(),A.allowYield=l,A.allowYield=!1,a=Ae(o,s,!0),A.allowYield=l,i.finishProperty("init",n,r,a,!0,!1);return n&&he("(")?(a=function(){var e,t,n=new ne,r=A.allowYield;return A.allowYield=!1,e=Qe(),A.allowYield=r,A.allowYield=!1,t=Ae(n,e,!1),A.allowYield=r,t}(),i.finishProperty("init",n,r,a,!0,!1)):null}(l,r,n,c))?a:(r||le(C),n||(o=r.type===i.Identifier&&"__proto__"===r.name||r.type===i.Literal&&"__proto__"===r.value,e.value&&o&&oe(u.DuplicateProtoProperty),e.value|=o),he(":")?(W(),s=De(je),c.finishProperty("init",r,n,s,!1,!1)):l.type===t.Identifier?he("=")?(N=C,W(),s=ge(je),c.finishProperty("init",r,n,new re(l).finishAssignmentPattern(r,s),!1,!0)):c.finishProperty("init",r,n,r,!1,!0):void le(C))}function Ne(e){var t=[],n={value:!1},r=new ne;for(e||fe("{");!he("}");)t.push(Se(n)),he("}")||pe();return fe("}"),r.finishObjectExpression(t)}function xe(e){var t;switch(e.type){case i.Identifier:case i.MemberExpression:case i.RestElement:case i.AssignmentPattern:break;case i.ArrayExpression:for(e.type=i.ArrayPattern,t=0;t<e.elements.length;t++)null!==e.elements[t]&&xe(e.elements[t]);break;case i.ObjectExpression:for(e.type=i.ObjectPattern,t=0;t<e.properties.length;t++)xe(e.properties[t].value);break;case i.AssignmentExpression:e.type=i.AssignmentPattern,xe(e.left)}}function Ie(e){var n,r;return(C.type!==t.Template||e.head&&!C.head)&&le(),n=new ne,r=W(),n.finishTemplateElement({raw:r.value.raw,cooked:r.value.cooked},r.tail)}function Te(){var e,t,n,r;if(fe("("),he(")"))return W(),he("=>")||fe("=>"),{type:a.ArrowParameterPlaceHolder,params:[],rawParams:[]};if(n=C,w=!0,e=De(je),he(",")){for(S=!1,t=[e];g<b&&he(",");)W(),t.push(De(je));e=new re(n).finishSequenceExpression(t)}if(fe(")"),he("=>")){if(e.type===i.Identifier&&"yield"===e.name)return{type:a.ArrowParameterPlaceHolder,params:[e]};if(w||le(C),e.type===i.SequenceExpression)for(r=0;r<e.expressions.length;r++)xe(e.expressions[r]);else xe(e);e={type:a.ArrowParameterPlaceHolder,params:e.type===i.SequenceExpression?e.expressions:[e]}}return w=!1,e}function Oe(){var e,n,r,i;if(he("("))return w=!1,De(Te);if(he("["))return De(Ce);if(he("{"))return De(Ne);if(e=C.type,i=new ne,e===t.Identifier)r=i.finishIdentifier(W().value);else if(e===t.StringLiteral||e===t.NumericLiteral)S=w=!1,l&&C.octal&&ce(C,u.StrictOctalLiteral),r=i.finishLiteral(W());else if(e===t.Keyword){if(S=w=!1,de("function"))return parseFunctionExpression();le(W())}else e===t.BooleanLiteral?(S=w=!1,(n=W()).value="true"===n.value.toLowerCase(),r=i.finishLiteral(n)):e===t.NullLiteral?(S=w=!1,(n=W()).value=null,r=i.finishLiteral(n)):e===t.Template?r=function(){var e,t,n,r=new ne;for(t=[e=Ie({head:!0})],n=[];!e.tail;)n.push(Ye()),e=Ie({head:!1}),t.push(e);return r.finishTemplateLiteral(t,n)}():le(W());return r}function Be(){var e,t=[];if(fe("("),!he(")"))for(;g<b&&(e=ge(je),t.push(e),!he(")"));)pe();return fe(")"),t}function ke(){return fe("."),function(){var e,n=new ne;return function(e){return e.type===t.Identifier||e.type===t.Keyword||e.type===t.BooleanLiteral||e.type===t.NullLiteral}(e=W())||le(e),n.finishIdentifier(e.value)}()}function Re(){var e;return fe("["),e=ge(Ye),fe("]"),e}function Pe(){var e,t,n,r,i=A.allowIn;for(r=C,A.allowIn=!0,e=De(Oe);;)if(he("."))w=!1,S=!0,n=ke(),e=new re(r).finishMemberExpression(".",e,n);else if(he("("))w=!1,S=!1,t=Be(),e=new re(r).finishCallExpression(e,t);else{if(!he("["))break;w=!1,S=!0,n=Re(),e=new re(r).finishMemberExpression("[",e,n)}return A.allowIn=i,e}function Me(){var e,n,r=C;return e=De(Pe),m||C.type!==t.Punctuator||(he("++")||he("--"))&&(l&&e.type===i.Identifier&&(e.name,0)&&oe(u.StrictLHSPostfix),S||oe(u.InvalidLHSInAssignment),S=w=!1,n=W(),e=new re(r).finishPostfixExpression(n.value,e)),e}function Le(){var e,n,r;return C.type!==t.Punctuator&&C.type!==t.Keyword?n=Me():he("++")||he("--")?(r=C,e=W(),n=De(Le),l&&n.type===i.Identifier&&(n.name,0)&&oe(u.StrictLHSPrefix),S||oe(u.InvalidLHSInAssignment),n=new re(r).finishUnaryExpression(e.value,n),S=w=!1):he("+")||he("-")||he("~")||he("!")?(r=C,e=W(),n=De(Le),n=new re(r).finishUnaryExpression(e.value,n),S=w=!1):de("delete")||de("void")||de("typeof")?(r=C,e=W(),n=De(Le),n=new re(r).finishUnaryExpression(e.value,n),l&&"delete"===n.operator&&n.argument.type===i.Identifier&&oe(u.StrictDelete),S=w=!1):n=Me(),n}function _e(e,n){var r=0;if(e.type!==t.Punctuator&&e.type!==t.Keyword)return 0;switch(e.value){case"||":r=1;break;case"&&":r=2;break;case"|":r=3;break;case"^":r=4;break;case"&":r=5;break;case"==":case"!=":case"===":case"!==":r=6;break;case"<":case">":case"<=":case">=":case"instanceof":r=7;break;case"in":r=n?7:0;break;case"<<":case">>":case">>>":r=8;break;case"+":case"-":r=9;break;case"*":case"/":case"%":r=11}return r}function Ue(){var e,t,n,r,i,a,u,o,s,l;if(e=C,s=De(Le),0===(i=_e(r=C,A.allowIn)))return s;for(S=w=!1,r.prec=i,W(),t=[e,C],a=[s,r,u=ge(Le)];(i=_e(C,A.allowIn))>0;){for(;a.length>2&&i<=a[a.length-2].prec;)u=a.pop(),o=a.pop().value,s=a.pop(),t.pop(),n=new re(t[t.length-1]).finishBinaryExpression(o,s,u),a.push(n);(r=W()).prec=i,a.push(r),t.push(C),n=ge(Le),a.push(n)}for(n=a[l=a.length-1],t.pop();l>1;)n=new re(t.pop()).finishBinaryExpression(a[l-1].value,a[l-2],n),l-=2;return n}function Ge(e,t){var n;switch(t.type){case i.Identifier:We(e,t,t.name);break;case i.RestElement:Ge(e,t.argument);break;case i.AssignmentPattern:Ge(e,t.left);break;case i.ArrayPattern:for(n=0;n<t.elements.length;n++)null!==t.elements[n]&&Ge(e,t.elements[n]);break;case i.YieldExpression:break;default:for(x(t.type===i.ObjectPattern,"Invalid type"),n=0;n<t.properties.length;n++)Ge(e,t.properties[n].value)}}function je(){var e,n,r,o,s,c;return s=C,e=C,(n=function(){var e,t,n,r,i;return i=C,e=De(Ue),he("?")&&(W(),t=A.allowIn,A.allowIn=!0,n=ge(je),A.allowIn=t,fe(":"),r=ge(je),e=new re(i).finishConditionalExpression(e,n,r),S=w=!1),e}()).type===a.ArrowParameterPlaceHolder||he("=>")?(S=w=!1,(o=function(e){var t,n,r,o,s,c,f;switch(s=[],c=0,o=[e],e.type){case i.Identifier:break;case a.ArrowParameterPlaceHolder:o=e.params;break;default:return null}for(f={paramSet:{}},t=0,n=o.length;t<n;t+=1)switch((r=o[t]).type){case i.AssignmentPattern:o[t]=r.left,r.right.type===i.YieldExpression&&(r.right.argument&&le(C),r.right.type=i.Identifier,r.right.name="yield",delete r.right.argument,delete r.right.delegate),s.push(r.right),++c,Ge(f,r.left);break;default:Ge(f,r),o[t]=r,s.push(null)}if(l||!A.allowYield)for(t=0,n=o.length;t<n;t+=1)(r=o[t]).type===i.YieldExpression&&le(C);return f.message===u.StrictParamDupe&&le(l?f.stricted:f.firstRestricted,f.message),0===c&&(s=[]),{params:o,defaults:s,stricted:f.stricted,firstRestricted:f.firstRestricted,message:f.message}}(n))?(N=null,parseArrowFunctionExpression(o,new re(s))):n):(C.type!==t.Punctuator||"="!==(c=C.value)&&"*="!==c&&"/="!==c&&"%="!==c&&"+="!==c&&"-="!==c&&"<<="!==c&&">>="!==c&&">>>="!==c&&"&="!==c&&"^="!==c&&"|="!==c||(S||oe(u.InvalidLHSInAssignment),l&&n.type===i.Identifier&&(n.name,n.name),he("=")?xe(n):S=w=!1,e=W(),r=ge(je),n=new re(s).finishAssignmentExpression(e.value,n,r),N=null),n)}function Ye(){var e,t,n=C;if(e=ge(je),he(",")){for(t=[e];g<b&&he(",");)W(),t.push(ge(je));e=new re(n).finishSequenceExpression(t)}return e}function Ve(){if(C.type===t.Keyword)switch(C.value.toLowerCase()){case"function":return et(new ne)}return He()}function qe(e){var t,n=new ne;return e||fe("{"),t=function(){for(var e=[];g<b&&!he("}");)e.push(Ve());return e}(),fe("}"),n.finishBlockStatement(t)}function ze(e){var n,r=new ne;return(n=W()).type!==t.Identifier&&(l&&n.type===t.Keyword&&(n.value,0)?ce(n,u.StrictReservedWord):(l||"let"!==n.value||"var"!==e)&&le(n)),r.finishIdentifier(n.value)}function Je(e){var t,n=null,r=new ne;return t=Ee([],"var"),l&&(t.name,0)&&oe(u.StrictVarName),he("=")?(W(),n=ge(je)):t.type===i.Identifier||e.inFor||fe("="),r.finishVariableDeclarator(t,n)}function Xe(e){var t,n;for(n=[Je(t={inFor:e.inFor})];he(",");)W(),n.push(Je(t));return n}function Ze(){return He(!0)}function He(e){var n,r,a,o,l,d,y,D,v,E=C.type;if(E===t.EOF&&le(C),E===t.Punctuator&&"{"===C.value){if(e){fe("{");var b=(v=C,l=c,d=f,y=p,W(),D=he(":"),C=v,c=l,f=d,p=y,D);return C.type!==t.Identifier&&C.type!==t.StringLiteral||!b?qe(!0):Ne(!0)}return Ne()}if(S=w=!0,o=new ne,E===t.Punctuator)switch(C.value){case";":return function(e){return fe(";"),e.finishEmptyStatement()}(o);case"(":return function(e){var t=Ye();return ye(),e.finishExpressionStatement(t)}(o)}else if(E===t.Keyword)switch(C.value.toLowerCase()){case"break":return function(e){var n,r=null;return me("break"),59===s.charCodeAt(h)?(W(),A.inIteration||A.inSwitch||ue(u.IllegalBreak),e.finishBreakStatement(null)):(m?A.inIteration||A.inSwitch||ue(u.IllegalBreak):C.type===t.Identifier&&(n="$"+(r=ze()).name,Object.prototype.hasOwnProperty.call(A.labelSet,n)||ue(u.UnknownLabel,r.name)),ye(),null!==r||A.inIteration||A.inSwitch||ue(u.IllegalBreak),e.finishBreakStatement(r))}(o);case"continue":return function(e){var n,r=null;return me("continue"),59===s.charCodeAt(g)?(W(),A.inIteration||ue(u.IllegalContinue),e.finishContinueStatement(null)):m?(A.inIteration||ue(u.IllegalContinue),e.finishContinueStatement(null)):(C.type===t.Identifier&&(n="$"+(r=ze()).name,Object.prototype.hasOwnProperty.call(A.labelSet,n)||ue(u.UnknownLabel,r.name)),ye(),null!==r||A.inIteration||ue(u.IllegalContinue),e.finishContinueStatement(r))}(o);case"for":return function(e){var n,r,i,a,o,s,l,c,f,p,m,h=A.allowIn;if(n=o=s=null,r=!0,me("for"),fe("("),he(";"))W();else if(de("var"))n=new ne,W(),A.allowIn=!1,f=Xe({inFor:!0}),A.allowIn=h,1===f.length&&de("in")?(n=n.finishVariableDeclaration(f),W(),l=n,c=Ye(),n=null):1===f.length&&null===f[0].init&&("of",C.type===t.Identifier&&"of"===C.value)?(n=n.finishVariableDeclaration(f),W(),l=n,c=je(),n=null,r=!1):(n=n.finishVariableDeclaration(f),fe(";"));else if(a=C,A.allowIn=!1,n=De(je),A.allowIn=h,de("in"))S||oe(u.InvalidLHSInForIn),W(),xe(n),l=n,c=Ye(),n=null;else{if(he(",")){for(i=[n];he(",");)W(),i.push(ge(je));n=new re(a).finishSequenceExpression(i)}fe(";")}return void 0===l&&(he(";")||(o=Ye()),fe(";"),he(")")||(s=Ye())),fe(")"),m=A.inIteration,A.inIteration=!0,p=ge(Ze),A.inIteration=m,void 0===l?e.finishForStatement(n,o,s,p):r?e.finishForInStatement(l,c,p):e.finishForOfStatement(l,c,p)}(o);case"function":return et(o);case"if":return function(e){var t,n,r;return me("if"),fe("("),t=Ye(),fe(")"),n=He(!0),de("else")?(W(),r=He(!0)):r=null,e.finishIfStatement(t,n,r)}(o);case"return":return function(e){var n=null;return me("return"),A.inFunctionBody||oe(u.IllegalReturn),32===s.charCodeAt(h)&&M(s.charCodeAt(h+1))?(n=Ye(),ye(),e.finishReturnStatement(n)):m?e.finishReturnStatement(null):(he(";")||he("}")||C.type===t.EOF||(n=Ye()),ye(),e.finishReturnStatement(n))}(o);case"switch":return parseSwitchStatement(o);case"var":return function(e){var t;return me("var"),t=Xe({inFor:!1}),ye(),e.finishVariableDeclaration(t)}(o)}return(n=Ye()).type===i.Identifier&&he(":")?(W(),a="$"+n.name,Object.prototype.hasOwnProperty.call(A.labelSet,a)&&ue(u.Redeclaration,"Label",n.name),A.labelSet[a]=!0,r=He(),delete A.labelSet[a],o.finishLabeledStatement(n,r)):(ye(),o.finishExpressionStatement(n))}function Ke(){var e,n,r,a,o,c,f,p=[],m=new ne;for(fe("{");g<b&&C.type===t.StringLiteral&&(n=C,e=Ve(),p.push(e),e.expression.type===i.Literal);)"use strict"===s.slice(n.start+1,n.end-1)?(l=!0,r&&ce(r,u.StrictOctalLiteral)):!r&&n.octal&&(r=n);for(a=A.labelSet,o=A.inIteration,c=A.inSwitch,f=A.inFunctionBody,A.labelSet={},A.inIteration=!1,A.inSwitch=!1,A.inFunctionBody=!0;g<b&&!he("}");)p.push(Ve());return fe("}"),A.labelSet=a,A.inIteration=o,A.inSwitch=c,A.inFunctionBody=f,m.finishBlockStatement(p)}function We(e,t,n){var r="$"+n;l?Object.prototype.hasOwnProperty.call(e.paramSet,r)&&(e.stricted=t,e.message=u.StrictParamDupe):e.firstRestricted||Object.prototype.hasOwnProperty.call(e.paramSet,r)&&(e.stricted=t,e.message=u.StrictParamDupe),e.paramSet[r]=!0}function $e(e){var t,n,r,a=[];if("..."===C.value)return We(e,(t=function(e){var t,n=new ne;return W(),he("{")&&ue(u.ObjectPatternAsRestParameter),e.push(C),t=ze(),he("=")&&ue(u.DefaultRestParameter),he(")")||ue(u.ParameterAfterRestParameter),n.finishRestElement(t)}(a)).argument,t.argument.name),e.params.push(t),e.defaults.push(null),!1;for(t=be(a),n=0;n<a.length;n++)We(e,a[n],a[n].value);return t.type===i.AssignmentPattern&&(r=t.right,t=t.left,++e.defaultCount),e.params.push(t),e.defaults.push(r),!he(")")}function Qe(e){var t;if(t={params:[],defaultCount:0,defaults:[],firstRestricted:e},fe("("),!he(")"))for(t.paramSet={};g<b&&$e(t);)fe(",");return fe(")"),0===t.defaultCount&&(t.defaults=[]),{params:t.params,defaults:t.defaults,stricted:t.stricted,firstRestricted:t.firstRestricted,message:t.message}}function et(e,t){var n,r,i,a,u,o,s,c,f,p,m=null;return p=A.allowYield,me("function"),t&&he("(")||(a=C,m=ze(),l||a.value,a.value),A.allowYield=!0,n=(o=Qe(s)).params,r=o.defaults,u=o.stricted,s=o.firstRestricted,o.message&&(c=o.message),f=l,i=Ke(),l&&s&&le(s,c),l&&u&&ce(u,c),l=f,A.allowYield=p,e.finishFunctionDeclaration(m,n,r,i,void 0)}function tt(){var e,n;return $(),n=new ne,e=function(){for(var e,n,r,a=[];g<b&&(n=C).type===t.StringLiteral&&(e=Ve(),a.push(e),e.expression.type===i.Literal);)"use strict"===s.slice(n.start+1,n.end-1)?(l=!0,r&&ce(r,u.StrictOctalLiteral)):!r&&n.octal&&(r=n);for(;g<b&&void 0!==(e=Ve());)a.push(e);return a}(),n.finishProgram(e,A.sourceType)}(n={})[(t={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9,Template:10}).BooleanLiteral]="Boolean",n[t.EOF]="<end>",n[t.Identifier]="Identifier",n[t.Keyword]="Keyword",n[t.NullLiteral]="Null",n[t.NumericLiteral]="Numeric",n[t.Punctuator]="Punctuator",n[t.StringLiteral]="String",n[t.RegularExpression]="RegularExpression",n[t.Template]="Template",r=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="],i={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator"},a={ArrowParameterPlaceHolder:"ArrowParameterPlaceHolder"},u={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",DefaultRestParameter:"Unexpected token =",ObjectPatternAsRestParameter:"Unexpected token {",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ConstructorSpecialMethod:"Class constructor may not be an accessor",DuplicateConstructor:"A class may only have one constructor",StaticPrototype:"Classes may not have static property named prototype",MissingFromClause:"Unexpected token",NoAsAfterImportNamespace:"Unexpected token",InvalidModuleSpecifier:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalExportDeclaration:"Unexpected token",DuplicateBinding:"Duplicate binding %0"},o={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDE00-\uDE11\uDE13-\uDE2B\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDE00-\uDE2F\uDE44\uDE80-\uDEAA]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF98]|\uD809[\uDC00-\uDC6E]|[\uD80C\uD840-\uD868\uD86A-\uD86C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDD0-\uDDDA\uDE00-\uDE11\uDE13-\uDE37\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF01-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF98]|\uD809[\uDC00-\uDC6E]|[\uD80C\uD840-\uD868\uD86A-\uD86C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},re.prototype=ne.prototype={processComment:function(){var e,t,n,r,a,u,o=F.bottomRightStack,s=o[o.length-1];if(!(this.type===i.Program&&this.body.length>0)){if(this.type===i.BlockStatement&&0===this.body.length){for(t=[],a=F.leadingComments.length-1;a>=0;--a)u=F.leadingComments[a],this.range[1]>=u.range[1]&&(t.unshift(u),F.leadingComments.splice(a,1),F.trailingComments.splice(a,1));if(t.length)return void(this.innerComments=t)}if(F.trailingComments.length>0){for(r=[],a=F.trailingComments.length-1;a>=0;--a)(u=F.trailingComments[a]).range[0]>=this.range[1]&&(r.unshift(u),F.trailingComments.splice(a,1));F.trailingComments=[]}else s&&s.trailingComments&&s.trailingComments[0].range[0]>=this.range[1]&&(r=s.trailingComments,delete s.trailingComments);for(;s&&s.range[0]>=this.range[0];)e=o.pop(),s=o[o.length-1];if(e){if(e.leadingComments){for(n=[],a=e.leadingComments.length-1;a>=0;--a)(u=e.leadingComments[a]).range[1]<=this.range[0]&&(n.unshift(u),e.leadingComments.splice(a,1));e.leadingComments.length||(e.leadingComments=void 0)}}else if(F.leadingComments.length>0)for(n=[],a=F.leadingComments.length-1;a>=0;--a)(u=F.leadingComments[a]).range[1]<=this.range[0]&&(n.unshift(u),F.leadingComments.splice(a,1));n&&n.length>0&&(this.leadingComments=n),r&&r.length>0&&(this.trailingComments=r),o.push(this)}},finish:function(){F.range&&(this.range[1]=h),F.loc&&(this.loc.end={line:d,column:h-y},F.source&&(this.loc.source=F.source)),F.attachComment&&this.processComment()},finishArrayExpression:function(e){return this.type=i.ArrayExpression,this.elements=e,this.finish(),this},finishArrayPattern:function(e){return this.type=i.ArrayPattern,this.elements=e,this.finish(),this},finishAssignmentExpression:function(e,t,n){return this.type=i.AssignmentExpression,this.operator=e,this.left=t,this.right=n,this.finish(),this},finishAssignmentPattern:function(e,t){return this.type=i.AssignmentPattern,this.left=e,this.right=t,this.finish(),this},finishBinaryExpression:function(e,t,n){return this.type="||"===e||"&&"===e?i.LogicalExpression:i.BinaryExpression,this.operator=e,this.left=t,this.right=n,this.finish(),this},finishBlockStatement:function(e){return this.type=i.BlockStatement,this.body=e,this.finish(),this},finishBreakStatement:function(e){return this.type=i.BreakStatement,this.label=e,this.finish(),this},finishCallExpression:function(e,t){return this.type=i.CallExpression,this.callee=e,this.arguments=t,this.finish(),this},finishConditionalExpression:function(e,t,n){return this.type=i.ConditionalExpression,this.test=e,this.consequent=t,this.alternate=n,this.finish(),this},finishContinueStatement:function(e){return this.type=i.ContinueStatement,this.label=e,this.finish(),this},finishEmptyStatement:function(){return this.type=i.EmptyStatement,this.finish(),this},finishExpressionStatement:function(e){return this.type=i.ExpressionStatement,this.expression=e,this.finish(),this},finishForStatement:function(e,t,n,r){return this.type=i.ForStatement,this.init=e,this.test=t,this.update=n,this.body=r,this.finish(),this},finishForInStatement:function(e,t,n){return this.type=i.ForInStatement,this.left=e,this.right=t,this.body=n,this.each=!1,this.finish(),this},finishFunctionDeclaration:function(e,t,n,r,a){return this.type=i.FunctionDeclaration,this.id=e,this.params=t,this.defaults=n,this.body=r,this.generator=a,this.expression=!1,this.finish(),this},finishFunctionExpression:function(e,t,n,r,a){return this.type=i.FunctionExpression,this.id=e,this.params=t,this.defaults=n,this.body=r,this.generator=a,this.expression=!1,this.finish(),this},finishIdentifier:function(e){return this.type=i.Identifier,this.name=e,this.finish(),this},finishIfStatement:function(e,t,n){return this.type=i.IfStatement,this.test=e,this.consequent=t,this.alternate=n,this.finish(),this},finishLiteral:function(e){return this.type=i.Literal,this.value=e.value,this.raw=s.slice(e.start,e.end),e.regex&&(this.regex=e.regex),this.finish(),this},finishMemberExpression:function(e,t,n){return this.type=i.MemberExpression,this.computed="["===e,this.object=t,this.property=n,this.finish(),this},finishObjectExpression:function(e){return this.type=i.ObjectExpression,this.properties=e,this.finish(),this},finishObjectPattern:function(e){return this.type=i.ObjectPattern,this.properties=e,this.finish(),this},finishPostfixExpression:function(e,t){return this.type=i.UpdateExpression,this.operator=e,this.argument=t,this.prefix=!1,this.finish(),this},finishProgram:function(e,t){return this.type=i.Program,this.body=e,this.sourceType=t,this.finish(),this},finishProperty:function(e,t,n,r,a,u){return this.type=i.Property,this.key=t,this.computed=n,this.value=r,this.kind=e,this.method=a,this.shorthand=u,this.finish(),this},finishRestElement:function(e){return this.type=i.RestElement,this.argument=e,this.finish(),this},finishReturnStatement:function(e){return this.type=i.ReturnStatement,this.argument=e,this.finish(),this},finishTemplateElement:function(e,t){return this.type=i.TemplateElement,this.value=e,this.tail=t,this.finish(),this},finishTemplateLiteral:function(e,t){return this.type=i.TemplateLiteral,this.quasis=e,this.expressions=t,this.finish(),this},finishUnaryExpression:function(e,t){return this.type="++"===e||"--"===e?i.UpdateExpression:i.UnaryExpression,this.operator=e,this.argument=t,this.prefix=!0,this.finish(),this},finishVariableDeclaration:function(e){return this.type=i.VariableDeclaration,this.declarations=e,this.kind="var",this.finish(),this},finishLexicalDeclaration:function(e,t){return this.type=i.VariableDeclaration,this.declarations=e,this.kind=t,this.finish(),this},finishVariableDeclarator:function(e,t){return this.type=i.VariableDeclarator,this.id=e,this.init=t,this.finish(),this}},e.version="2.7.3",e.tokenize=function(e,n,r){var i;"string"==typeof e||e instanceof String||(e=String(e)),c=0,f=(s=e).length>0?1:0,g=c,D=f,v=p=0,b=s.length,C=null,A={allowIn:!0,allowYield:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1,curlyStack:[]},F={},(n=n||{}).tokens=!0,F.tokens=[],F.tokenValues=[],F.tokenize=!0,F.delegate=r,F.openParenToken=-1,F.openCurlyToken=-1,F.range="boolean"==typeof n.range&&n.range,F.loc="boolean"==typeof n.loc&&n.loc,"boolean"==typeof n.comment&&n.comment&&(F.comments=[]),"boolean"==typeof n.tolerant&&n.tolerant&&(F.errors=[]);try{if($(),C.type===t.EOF)return F.tokens;for(W();C.type!==t.EOF;)try{W()}catch(e){if(F.errors){ie(e);break}throw e}i=F.tokens,void 0!==F.errors&&(i.errors=F.errors)}catch(e){throw e}finally{F={}}return i},e.parse=function(e,t){var n,r;r=String,"string"==typeof e||e instanceof String||(e=r(e)),c=0,f=(s=e).length>0?1:0,g=c,D=f,v=p=0,b=s.length,C=null,A={allowIn:!0,allowYield:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1,curlyStack:[],sourceType:"script"},l=!1,F={},void 0!==t&&(F.range="boolean"==typeof t.range&&t.range,F.loc="boolean"==typeof t.loc&&t.loc,F.attachComment="boolean"==typeof t.attachComment&&t.attachComment,F.loc&&null!==t.source&&void 0!==t.source&&(F.source=r(t.source)),"boolean"==typeof t.tokens&&t.tokens&&(F.tokens=[]),"boolean"==typeof t.comment&&t.comment&&(F.comments=[]),"boolean"==typeof t.tolerant&&t.tolerant&&(F.errors=[]),F.attachComment&&(F.range=!0,F.comments=[],F.bottomRightStack=[],F.trailingComments=[],F.leadingComments=[]),"module"===t.sourceType&&(A.sourceType=t.sourceType,l=!0));try{n=tt(),void 0!==F.comments&&(n.comments=F.comments),void 0!==F.tokens&&(function(){var e,t,n,r=[];for(e=0;e<F.tokens.length;++e)n={type:(t=F.tokens[e]).type,value:t.value},t.regex&&(n.regex={pattern:t.regex.pattern,flags:t.regex.flags}),F.range&&(n.range=t.range),F.loc&&(n.loc=t.loc),r.push(n);F.tokens=r}(),n.tokens=F.tokens),void 0!==F.errors&&(n.errors=F.errors)}catch(e){throw e}finally{F={}}return n},e.Syntax=function(){var e,t={};for(e in"function"==typeof Object.create&&(t=Object.create(null)),i)i.hasOwnProperty(e)&&(t[e]=i[e]);return"function"==typeof Object.freeze&&Object.freeze(t),t}()})?r.apply(null,i):r)||(e.exports=a)}()},2033:function(e,t,n){var r,i;r=[n.dj.c(e.i),t,n(117),n(210),n(517),n(161)],void 0===(i=function(e,t,r,i,a){Object.defineProperty(t,"__esModule",{value:!0});var u=i.MapFromValues([["ar",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(203)]).then(function(){var t=[n(2178)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["ar-dz",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(197)]).then(function(){var t=[n(2180)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["ar-kw",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(198)]).then(function(){var t=[n(2181)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["ar-ly",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(199)]).then(function(){var t=[n(2182)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["ar-ma",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(200)]).then(function(){var t=[n(2183)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["ar-sa",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(201)]).then(function(){var t=[n(2184)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["ar-tn",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(202)]).then(function(){var t=[n(2185)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["bs",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(204)]).then(function(){var t=[n(2186)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["ca",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(205)]).then(function(){var t=[n(2187)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["cs",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(206)]).then(function(){var t=[n(2188)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["da",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(207)]).then(function(){var t=[n(2189)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["de",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(210)]).then(function(){var t=[n(2190)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["de-at",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(208)]).then(function(){var t=[n(2191)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["de-ch",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(209)]).then(function(){var t=[n(2192)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["el",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(211)]).then(function(){var t=[n(2193)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["en-au",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(212)]).then(function(){var t=[n(2194)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["en-ca",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(213)]).then(function(){var t=[n(2195)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["en-gb",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(214)]).then(function(){var t=[n(2196)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["en-ie",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(215)]).then(function(){var t=[n(2197)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["en-il",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(216)]).then(function(){var t=[n(2198)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["en-nz",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(217)]).then(function(){var t=[n(2199)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["es",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(220)]).then(function(){var t=[n(2200)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["es-do",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(218)]).then(function(){var t=[n(2201)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["es-us",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(219)]).then(function(){var t=[n(2202)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["et",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(221)]).then(function(){var t=[n(2203)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["fi",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(222)]).then(function(){var t=[n(2204)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["fr",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(225)]).then(function(){var t=[n(2205)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["fr-ca",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(223)]).then(function(){var t=[n(2206)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["fr-ch",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(224)]).then(function(){var t=[n(2207)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["he",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(226)]).then(function(){var t=[n(2208)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["hr",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(227)]).then(function(){var t=[n(2209)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["hu",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(228)]).then(function(){var t=[n(2210)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["id",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(229)]).then(function(){var t=[n(2211)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["it",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(231)]).then(function(){var t=[n(2212)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["it-ch",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(230)]).then(function(){var t=[n(2213)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["ja",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(232)]).then(function(){var t=[n(2214)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["ko",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(233)]).then(function(){var t=[n(2215)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["lt",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(234)]).then(function(){var t=[n(2216)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["lv",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(235)]).then(function(){var t=[n(2217)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["nb",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(236)]).then(function(){var t=[n(2218)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["nl",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(238)]).then(function(){var t=[n(2219)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["nl-be",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(237)]).then(function(){var t=[n(2220)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["pl",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(239)]).then(function(){var t=[n(2221)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["pt",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(241)]).then(function(){var t=[n(2222)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["pt-br",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(240)]).then(function(){var t=[n(2223)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["ro",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(242)]).then(function(){var t=[n(2224)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["ru",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(243)]).then(function(){var t=[n(2225)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["sl",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(244)]).then(function(){var t=[n(2226)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["sr",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(246)]).then(function(){var t=[n(2227)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["sr-cyrl",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(245)]).then(function(){var t=[n(2228)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["sv",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(247)]).then(function(){var t=[n(2229)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["th",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(248)]).then(function(){var t=[n(2230)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["tr",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(249)]).then(function(){var t=[n(2231)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["uk",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(250)]).then(function(){var t=[n(2232)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["vi",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(251)]).then(function(){var t=[n(2233)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["zh-cn",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(252)]).then(function(){var t=[n(2234)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["zh-hk",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(253)]).then(function(){var t=[n(2235)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["zh-tw",function(){return new Promise((function(e,t){Promise.all([n.e(0),n.e(254)]).then(function(){var t=[n(2236)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}]]);t.loadMoment=function(e){return void 0===e&&(e=a.getLocale()),r.__awaiter(this,void 0,void 0,(function(){var t,i,a;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,new Promise((function(e,t){n.e(0).then(function(){var t=[n(196)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))];case 1:return t=r.sent(),(i=u.has(e))||(a=e.split("-")).length>1&&u.has(a[0])&&(e=a[0],i=!0),i?[4,u.get(e)()]:[3,3];case 2:return r.sent(),[3,4];case 3:e="en",r.label=4;case 4:return e!==t.locale()&&t.locale(e),[2,t]}}))}))}}.apply(null,r))||(e.exports=i)},269:function(e,t,n){var r,i;r=[n.dj.c(e.i),t,n(1018),n(711),n(831),n(607),n(153),n(184),n(215),n(352),n(202),n(232),n(259),n(832),n(427),n(152)],void 0===(i=function(e,t,n,r,i,a,u,o,s,l,c,f,p,m,h,d){Object.defineProperty(t,"__esModule",{value:!0});var y=function(e){this.value=e};t.ReturnResultE=y;var g=function(e){this.value=e};t.ImplicitResultE=g;var D=function(e){this.fn=e};t.NativeFunctionE=D;var v=function(e){this.fn=e};function E(e,t,n){return""===t||null==t||t===n||t===n?e:e=e.split(t).join(n)}function b(e){return e instanceof D||e instanceof n||e instanceof v}function C(e){return!!(A(e)||w(e)||x(e)||F(e)||null===e||e===t.voidOperation||"number"==typeof e)}function A(e){return"string"==typeof e||e instanceof String}function F(e){return"boolean"==typeof e}function w(e){return"number"==typeof e}function S(e){return e instanceof Array}function N(e){return e instanceof r}function x(e){return e instanceof Date}function I(e,t){return!1===isNaN(e)?null==t||""===t?e.toString():(t=E(t,"‰",""),t=E(t,"¤",""),m.format(e,{pattern:t})):e.toString()}function T(e,n){var r=t.MomentLibrary.Moment(e);return null==n||""===n?r.format():r.format(O(n))}function O(e){return e.replace(/(LTS)|L|l/g,(function(e){return"["+e+"]"}))}function B(e,t,n){switch(n){case">":return e>t;case"<":return e<t;case">=":return e>=t;case"<=":return e<=t}return!1}function k(e,n){if(e===n)return!0;if(null===e&&n===t.voidOperation||null===n&&e===t.voidOperation)return!0;if(x(e)&&x(n))return e.getTime()===n.getTime();if(e instanceof i)return e.equalityTest(n);if(e instanceof a)return e.equalityTest(n);var r,u;if(e instanceof c&&n instanceof c&&(r=e.cache._arcadeCacheId,u=n.cache._arcadeCacheId,null!=r))return r===u;if(void 0!==e&&void 0!==n&&null!==e&&null!==n&&"object"==typeof e&&"object"==typeof n){if(e._arcadeCacheId===n._arcadeCacheId&&void 0!==e._arcadeCacheId&&null!==e._arcadeCacheId)return!0;if(e._underlyingGraphic===n._underlyingGraphic&&void 0!==e._underlyingGraphic&&null!==e._underlyingGraphic)return!0}return!1}function R(e,n){if(A(e))return e;if(null===e)return"";if(w(e))return I(e,n);if(F(e))return e.toString();if(x(e))return T(e,n);if(e instanceof s)return JSON.stringify(e.toJSON());if(S(e)){for(var i=[],a=0;a<e.length;a++)i[a]=M(e[a]);return"["+i.join(",")+"]"}if(e instanceof r){for(i=[],a=0;a<e.length();a++)i[a]=M(e.get(a));return"["+i.join(",")+"]"}return null!==e&&"object"==typeof e&&void 0!==e.castToText?e.castToText():b(e)?"object, Function":(t.voidOperation,"")}function P(e,n){if(A(e))return e;if(null===e)return"";if(w(e))return I(e,n);if(F(e))return e.toString();if(x(e))return T(e,n);if(e instanceof s)return e instanceof o?'{"xmin":'+e.xmin.toString()+',"ymin":'+e.ymin.toString()+","+(e.hasZ?'"zmin":'+e.zmin.toString()+",":"")+(e.hasM?'"mmin":'+e.mmin.toString()+",":"")+'"xmax":'+e.xmax.toString()+',"ymax":'+e.ymax.toString()+","+(e.hasZ?'"zmax":'+e.zmax.toString()+",":"")+(e.hasM?'"mmax":'+e.mmax.toString()+",":"")+'"spatialReference":'+U(e.spatialReference)+"}":U(e.toJSON(),(function(e,t){return e.key===t.key?0:"spatialReference"===e.key?1:"spatialReference"===t.key||e.key<t.key?-1:e.key>t.key?1:0}));if(S(e)){for(var i=[],a=0;a<e.length;a++)i[a]=M(e[a]);return"["+i.join(",")+"]"}if(e instanceof r){for(i=[],a=0;a<e.length();a++)i[a]=M(e.get(a));return"["+i.join(",")+"]"}return null!==e&&"object"==typeof e&&void 0!==e.castToText?e.castToText():b(e)?"object, Function":(t.voidOperation,"")}function M(e){if(null===e)return"null";if(F(e)||w(e)||A(e))return JSON.stringify(e);if(e instanceof s)return P(e);if(e instanceof r)return P(e);if(e instanceof Array)return P(e);if(e instanceof Date)return JSON.stringify(T(e,""));if(null!==e&&"object"==typeof e){if(void 0!==e.castToText)return e.castToText()}else if(e===t.voidOperation)return"null";return"null"}function L(e,n){return w(e)?e:null===e||""===e?0:x(e)?NaN:F(e)?e?1:0:S(e)||""===e||void 0===e?NaN:void 0!==n&&A(e)?(n=E(n,"‰",""),n=E(n,"¤",""),m.parse(e,{pattern:n})):e===t.voidOperation?0:Number(e)}function _(e,t){var n;return t.fields.some((function(t){return t.name===e&&(n=t.domain),!!n})),n}function U(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n,r="boolean"==typeof t.cycles&&t.cycles,i=t.cmp&&(n=t.cmp,function(e){return function(t,r){var i={key:t,value:e[t]},a={key:r,value:e[r]};return n(i,a)}}),a=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var n,u;if(Array.isArray(t)){for(u="[",n=0;n<t.length;n++)n&&(u+=","),u+=e(t[n])||"null";return u+"]"}if(null===t)return"null";if(-1!==a.indexOf(t)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var o=a.push(t)-1,s=Object.keys(t).sort(i&&i(t));for(u="",n=0;n<s.length;n++){var l=s[n],c=e(t[l]);c&&(u&&(u+=","),u+=JSON.stringify(l)+":"+c)}return a.splice(o,1),"{"+u+"}"}}(e)}function G(e,t){if(!(t instanceof c))throw new Error("Invalid Argument");e.push(t.hasZ?t.hasM?[t.x,t.y,t.z,t.m]:[t.x,t.y,t.z]:[t.x,t.y])}t.SizzleFunctionE=v,t.NativeFunction=D,t.ImplicitResult=g,t.ReturnResult=y,t.SizzleFunction=v,t.voidOperation={type:"VOID"},t.breakResult={type:"BREAK"},t.continueResult={type:"CONTINUE"},t.multiReplace=E,t.isFunctionParameter=b,t.isSimpleType=C,t.defaultUndefined=function(e,t){return void 0===e?t:e},t.isString=A,t.isBoolean=F,t.isNumber=w,t.isArray=S,t.isFeatureSet=function(e){return!0===(e&&e.declaredRootClass&&"esri.arcade.featureset.support.FeatureSet"===e.declaredRootClass)},t.isFeatureSetCollection=function(e){return!0===(e&&e.declaredRootClass&&"esri.arcade.featureSetCollection"===e.declaredRootClass)},t.isImmutableArray=N,t.isDate=x,t.pcCheck=function(e,t,n){if(e.length<t||e.length>n)throw new Error("Function called with wrong number of Parameters")},t.generateUUID=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)}))},t.formatNumber=I,t.formatDate=T,t.standardiseDateFormat=O,t.greaterThanLessThan=function(e,n,r){if(null===e){if(null===n||n===t.voidOperation)return B(null,null,r);if(w(n))return B(0,n,r);if(A(n))return B(0,L(n),r);if(F(n))return B(0,L(n),r);if(x(n))return B(0,n.getTime(),r)}if(e===t.voidOperation){if(null===n||n===t.voidOperation)return B(null,null,r);if(w(n))return B(0,n,r);if(A(n))return B(0,L(n),r);if(F(n))return B(0,L(n),r);if(x(n))return B(0,n.getTime(),r)}else if(w(e)){if(w(n))return B(e,n,r);if(F(n))return B(e,L(n),r);if(null===n||n===t.voidOperation)return B(e,0,r);if(A(n))return B(e,L(n),r);if(x(n))return B(e,n.getTime(),r)}else if(A(e)){if(A(n))return B(R(e),R(n),r);if(x(n))return B(L(e),n.getTime(),r);if(w(n))return B(L(e),n,r);if(null===n||n===t.voidOperation)return B(L(e),0,r);if(F(n))return B(L(e),L(n),r)}else if(x(e)){if(x(n))return B(e,n,r);if(null===n||n===t.voidOperation)return B(e.getTime(),0,r);if(w(n))return B(e.getTime(),n,r);if(F(n))return B(e.getTime(),L(n),r);if(A(n))return B(e.getTime(),L(n),r)}else if(F(e)){if(F(n))return B(e,n,r);if(w(n))return B(L(e),L(n),r);if(x(n))return B(L(e),n.getTime(),r);if(null===n||n===t.voidOperation)return B(L(e),0,r);if(A(n))return B(L(e),L(n),r)}return!!k(e,n)&&("<="===r||">="===r)},t.equalityTest=k,t.toString=R,t.toNumberArray=function(e){var t=[];if(!1===S(e))return null;if(e instanceof r){for(var n=0;n<e.length();n++)t[n]=L(e.get(n));return t}for(n=0;n<e.length;n++)t[n]=L(e[n]);return t},t.toStringExplicit=P,t.toNumber=L,t.toDate=function(e,n){if(x(e))return e;if(A(e)){var r=t.MomentLibrary.Moment(e,[null==n||""===n?t.MomentLibrary.Moment.ISO_8601:n]);if(r.isValid())return r.toDate()}return null},t.toDateM=function(e,n){if(x(e))return t.MomentLibrary.Moment(e);if(A(e)){var r=t.MomentLibrary.Moment(e,[null==n||""===n?t.MomentLibrary.Moment.ISO_8601:n]);if(r.isValid())return r}return null},t.toBoolean=function(e){return F(e)?e:A(e)?"true"===(e=e.toLowerCase()):!!w(e)&&0!==e&&!isNaN(e)},t.fixSpatialReference=function(e,t){return d.isNone(e)?null:(null!==e.spatialReference&&void 0!==e.spatialReference||(e.spatialReference=t),e)},t.fixNullGeometry=function(e){return null===e?null:e instanceof c?"NaN"===e.x||null===e.x||isNaN(e.x)?null:e:e instanceof f?0===e.rings.length?null:e:e instanceof p?0===e.paths.length?null:e:e instanceof l?0===e.points.length?null:e:e instanceof o?"NaN"===e.xmin||null===e.xmin||isNaN(e.xmin)?null:e:null},t.getDomainValue=function(e,t){if(!e)return t;if(!e.domain)return t;var n=null;if("string"===e.field.type||"esriFieldTypeString"===e.field.type)t=R(t);else{if(null==t)return null;if(""===t)return t;t=L(t)}for(var r=0;r<e.domain.codedValues.length;r++){var i=e.domain.codedValues[r];i.code===t&&(n=i)}return null===n?t:n.name},t.getDomainCode=function(e,t){if(!e)return t;if(!e.domain)return t;var n=null;t=R(t);for(var r=0;r<e.domain.codedValues.length;r++){var i=e.domain.codedValues[r];i.name===t&&(n=i)}return null===n?t:n.code},t.getDomain=function(e,t,n,r){if(void 0===n&&(n=null),!t)return null;if(!t.fields)return null;for(var i,a,u=null,o=0;o<t.fields.length;o++){var s=t.fields[o];s.name.toLowerCase()===e.toString().toLowerCase()&&(u=s)}if(null===u)throw new Error("Field not found");return r||(r=n&&t.typeIdField&&n._field(t.typeIdField)),null!=r&&t.types.some((function(e){return e.id===r&&((i=e.domains&&e.domains[u.name])&&"inherited"===i.type&&(i=_(u.name,t),a=!0),!0)})),a||i||(i=_(e,t)),{field:u,domain:i}},t.stableStringify=U,t.autoCastFeatureToGeometry=function(e){if(null===e)return null;for(var t=[],n=0,r=e;n<r.length;n++){var i=r[n];i&&i.declaredClass&&"esri.arcade.Feature"===i.declaredClass?t.push(i.geometry()):t.push(i)}return t},t.autoCastArrayOfPointsToPolygon=function(e,t){if(S(e)||N(e)){var n=!1,r=!1,i=[],u=t;if(S(e)){for(var o=0,s=e;o<s.length;o++)G(i,s[o]);i.length>0&&(u=e[0].spatialReference,n=e[0].hasZ,r=e[0].hasM)}else if(e instanceof a)(i=e._elements).length>0&&(n=e._hasZ,r=e._hasM,u=e.get(0).spatialReference);else{if(!N(e))throw new Error("Invalid Argument");for(var l=0,c=e.toArray();l<c.length;l++)G(i,c[l]);i.length>0&&(u=e.get(0).spatialReference,n=!0===e.get(0).hasZ,r=!0===e.get(0).hasM)}return 0===i.length?null:(!1===h.isClockwise(i,r,n)&&(i=i.slice(0).reverse()),new f({rings:[i],spatialReference:u,hasZ:n,hasM:r}))}return e},t.autoCastArrayOfPointsToPolyline=function(e,t){if(S(e)||N(e)){var n=!1,r=!1,i=[],u=t;if(S(e)){for(var o=0,s=e;o<s.length;o++)G(i,s[o]);i.length>0&&(u=e[0].spatialReference,n=!0===e[0].hasZ,r=!0===e[0].hasM)}else if(e instanceof a)(i=e._elements).length>0&&(n=e._hasZ,r=e._hasM,u=e.get(0).spatialReference);else if(N(e)){for(var l=0,c=e.toArray();l<c.length;l++)G(i,c[l]);i.length>0&&(u=e.get(0).spatialReference,n=!0===e.get(0).hasZ,r=!0===e.get(0).hasM)}return 0===i.length?null:new p({paths:[i],spatialReference:u,hasZ:n,hasM:r})}return e},t.autoCastArrayOfPointsToMultiPoint=function(e,t){if(S(e)||N(e)){var n=!1,r=!1,i=[],u=t;if(S(e)){for(var o=0,s=e;o<s.length;o++)G(i,s[o]);i.length>0&&(u=e[0].spatialReference,n=!0===e[0].hasZ,r=!0===e[0].hasM)}else if(e instanceof a)(i=e._elements).length>0&&(n=e._hasZ,r=e._hasM,u=e.get(0).spatialReference);else if(N(e)){for(var c=0,f=e.toArray();c<f.length;c++)G(i,f[c]);i.length>0&&(u=e.get(0).spatialReference,n=!0===e.get(0).hasZ,r=!0===e.get(0).hasM)}return 0===i.length?null:new l({points:i,spatialReference:u,hasZ:n,hasM:r})}return e},t.toStringArray=function(e,t){void 0===t&&(t=!1);var n=[];if(null===e)return n;if(!0===S(e)){for(var i=0;i<e.length;i++)""===(a=R(e[i]))&&!0!==t||n.push(a);return n}if(e instanceof r){for(i=0;i<e.length();i++){var a;""===(a=R(e.get(i)))&&!0!==t||n.push(a)}return n}return C(e)?(""===(a=R(e))&&!0!==t||n.push(a),n):[]};var j=0;t.tick=function(e){return++j%100==0?(j=0,u.create((function(t){setTimeout((function(){t(e)}),0)}))):e},t.MomentLibrary={Moment:null},t.binaryOperator=function(e,t,n){switch(n){case"&":return e&t;case"|":return e|t;case"^":return e^t;case"<<":return e<<t;case">>":return e>>t;case">>>":return e>>>t}}}.apply(null,r))||(e.exports=i)},295:function(e,t,n){var r,i;r=[n.dj.c(e.i),t,n(153),n(184),n(194)],void 0===(i=function(e,t,n,r,i){function a(e){return e instanceof Date}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Standardised=0]="Standardised",e[e.StandardisedNoInterval=1]="StandardisedNoInterval",e[e.SqlServer=2]="SqlServer",e[e.Oracle=3]="Oracle",e[e.Postgres=4]="Postgres",e[e.PGDB=5]="PGDB",e[e.FILEGDB=6]="FILEGDB",e[e.NotEvaluated=7]="NotEvaluated"}(t.FeatureServiceDatabaseType||(t.FeatureServiceDatabaseType={})),t.cloneField=function(e){return i.fromJSON(e.toJSON())},t.esriFieldToJson=function(e){return e.toJSON()},function(e){e[e.InFeatureSet=0]="InFeatureSet",e[e.NotInFeatureSet=1]="NotInFeatureSet",e[e.Unknown=2]="Unknown"}(t.IdState||(t.IdState={})),t.isString=function(e){return"string"==typeof e||e instanceof String},t.isBoolean=function(e){return"boolean"==typeof e},t.isNumber=function(e){return"number"==typeof e},t.isArray=function(e){return e instanceof Array},t.isDate=a,t.equalityTest=function(e,t){return e===t||!(!a(e)||!a(t))&&e.getTime()===t.getTime()},t.cloneAttributes=function(e){var t={};for(var n in e)t[n]=e[n];return t},t.convertSquareUnitsToCode=function(e){if(void 0===e)return null;if("number"==typeof e)return e;switch(e.toLowerCase()){case"meters":case"meter":return 109404;case"miles":case"mile":return 109413;case"kilometers":case"kilometer":case"km":return 109414}return null},t.shapeExtent=function(e){if(null===e)return null;switch(e.type){case"polygon":case"multipoint":case"polyline":return e.extent;case"point":return new r({xmin:e.x,ymin:e.y,xmax:e.x,ymax:e.y,spatialReference:e.spatialReference});case"extent":return e}return null},t.convertLinearUnitsToCode=function(e){if(void 0===e)return null;if("number"==typeof e)return e;if("number"==typeof e)return e;switch(e.toLowerCase()){case"meters":case"meter":return 9001;case"miles":case"mile":return 9035;case"kilometers":case"kilometer":case"km":return 9036}return null},t.sameGeomType=function(e,t){return e===t||"point"===e&&"esriGeometryPoint"===t||"polyline"===e&&"esriGeometryPolyline"===t||"polygon"===e&&"esriGeometryPolygon"===t||"extent"===e&&"esriGeometryEnvelope"===t||"multipoint"===e&&"esriGeometryMultipoint"===t||"point"===t&&"esriGeometryPoint"===e||"polyline"===t&&"esriGeometryPolyline"===e||"polygon"===t&&"esriGeometryPolygon"===e||"extent"===t&&"esriGeometryEnvelope"===e||"multipoint"===t&&"esriGeometryMultipoint"===e},t.defaultMaxRecords=1e3,t.errback=function(e){return function(t){e.reject(t)}},t.callback=function(e,t){return function(){try{e.apply(null,arguments)}catch(e){t.reject(e)}}},t.layerGeometryEsriConstants={point:"point",polygon:"polygon",polyline:"polyline",multipoint:"multipoint",extent:"extent",esriGeometryPoint:"point",esriGeometryPolygon:"polygon",esriGeometryPolyline:"polyline",esriGeometryMultipoint:"multipoint",esriGeometryEnvelope:"extent",envelope:"extent"},t.layerGeometryEsriRestConstants={point:"esriGeometryPoint",polygon:"esriGeometryPolygon",polyline:"esriGeometryPolyline",multipoint:"esriGeometryMultipoint",extent:"esriGeometryEnvelope",esriGeometryPoint:"esriGeometryPoint",esriGeometryPolygon:"esriGeometryPolygon",esriGeometryPolyline:"esriGeometryPolyline",esriGeometryMultipoint:"esriGeometryMultipoint",esriGeometryEnvelope:"esriGeometryEnvelope",envelope:"esriGeometryEnvelope"},t.layerFieldEsriConstants={"small-integer":"esriFieldTypeSmallInteger",integer:"esriFieldTypeInteger",long:"esriFieldTypeLong",single:"esriFieldTypeSingle",double:"esriFieldTypeDouble",string:"esriFieldTypeString",date:"esriFieldTypeDate",oid:"esriFieldTypeOID",geometry:"esriFieldTypeGeometry",blob:"esriFieldTypeBlob",raster:"esriFieldTypeRaster",guid:"esriFieldTypeGUID","global-id":"esriFieldTypeGlobalID",xml:"eesriFieldTypeXML",esriFieldTypeSmallInteger:"esriFieldTypeSmallInteger",esriFieldTypeInteger:"esriFieldTypeInteger",esriFieldTypeLong:"esriFieldTypeLong",esriFieldTypeSingle:"esriFieldTypeSingle",esriFieldTypeDouble:"esriFieldTypeDouble",esriFieldTypeString:"esriFieldTypeString",esriFieldTypeDate:"esriFieldTypeDate",esriFieldTypeOID:"esriFieldTypeOID",esriFieldTypeGeometry:"esriFieldTypeGeometry",esriFieldTypeBlob:"esriFieldTypeBlob",esriFieldTypeRaster:"esriFieldTypeRaster",esriFieldTypeGUID:"esriFieldTypeGUID",esriFieldTypeGlobalID:"esriFieldTypeGlobalID",esriFieldTypeXML:"eesriFieldTypeXML"},t.toEsriGeometryType=function(e){switch(e){case"point":return"esriGeometryPoint";case"polygon":return"esriGeometryPolygon";case"multipoint":return"esriGeometryMultipoint";case"polyline":return"esriGeometryPolyline";default:return"esriGeometryPoint"}},t.reduceArrayWithPromises=function(e,t){return n.create((function(r,i){var a=n.resolve(!0);e.reduce((function(e,r,i,a){return e.then((function(e){try{return t(e,r,i,a)}catch(e){return n.reject(e)}}),(function(e){return n.reject(e)}))}),a).then(r,i)}))},t.extractServiceUrl=function(e){return void 0===e?"":e=(e=(e=e.replace(/\/featureserver\/[0-9]*/i,"/FeatureServer")).replace(/\/mapserver\/[0-9]*/i,"/MapServer")).split("?")[0]},t.stableStringify=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n,r="boolean"==typeof t.cycles&&t.cycles,i=t.cmp&&(n=t.cmp,function(e){return function(t,r){var i={key:t,value:e[t]},a={key:r,value:e[r]};return n(i,a)}}),a=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var n,u;if(Array.isArray(t)){for(u="[",n=0;n<t.length;n++)n&&(u+=","),u+=e(t[n])||"null";return u+"]"}if(null===t)return"null";if(-1!==a.indexOf(t)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var o=a.push(t)-1,s=Object.keys(t).sort(i&&i(t));for(u="",n=0;n<s.length;n++){var l=s[n],c=e(t[l]);c&&(u&&(u+=","),u+=JSON.stringify(l)+":"+c)}return a.splice(o,1),"{"+u+"}"}}(e)}}.apply(null,r))||(e.exports=i)},379:function(e,t,n){var r,i;r=[n.dj.c(e.i),t,n(711),n(269),n(215)],void 0===(i=function(e,t,n,r,i){function a(e){var t=null;if(null===e);else if(r.isNumber(e))t=r.toNumber(e);else if(r.isBoolean(e))t=r.toBoolean(e);else if(r.isString(e))t=r.toString(e);else if(r.isDate(e))t=r.toDate(e);else if(r.isArray(e)){t=[];for(var n=0,i=e;n<i.length;n++){var o=i[n];t.push(a(o))}}else{if(0===Object.keys(e).length)return null;var s=new u;s.immutable=!1;for(var l=0,c=Object.keys(e);l<c.length;l++){var f=c[l];s.setField(f,a(e[f]))}s.immutable=!0,t=s}return t}var u=function(){function e(t){this.declaredClass="esri.arcade.Dictionary",this.attributes=null,this.plain=!1,this.immutable=!0,this.attributes=t instanceof e?t.attributes:null==t?{}:t}return e.prototype.field=function(e){var t=e.toLowerCase(),n=this.attributes[e];if(void 0!==n)return n;for(var r in this.attributes)if(r.toLowerCase()===t)return this.attributes[r];throw new Error("Field not Found")},e.prototype.setField=function(e,t){if(this.immutable)throw new Error("Dictionary is Immutable");var n=e.toLowerCase();if(void 0===this.attributes[e]){for(var r in this.attributes)if(r.toLowerCase()===n)return void(this.attributes[r]=t);this.attributes[e]=t}else this.attributes[e]=t},e.prototype.hasField=function(e){var t=e.toLowerCase();if(void 0!==this.attributes[e])return!0;for(var n in this.attributes)if(n.toLowerCase()===t)return!0;return!1},e.prototype.keys=function(){var e=[];for(var t in this.attributes)e.push(t);return e.sort()},e.prototype.castToText=function(){var e="";for(var t in this.attributes){""!==e&&(e+=",");var a=this.attributes[t];null==a?e+=JSON.stringify(t)+":null":r.isBoolean(a)||r.isNumber(a)||r.isString(a)?e+=JSON.stringify(t)+":"+JSON.stringify(a):a instanceof i||a instanceof n||a instanceof Array?e+=JSON.stringify(t)+":"+r.toStringExplicit(a):a instanceof Date?e+=JSON.stringify(t)+":"+JSON.stringify(a):null!==a&&"object"==typeof a&&void 0!==a.castToText&&(e+=JSON.stringify(t)+":"+a.castToText())}return"{"+e+"}"},e.convertObjectToArcadeDictionary=function(t){var n=new e;for(var r in n.immutable=!1,t)n.setField(r.toString(),a(t[r]));return n.immutable=!0,n},e}();return u}.apply(null,r))||(e.exports=i)},510:function(e,t,n){var r,i;r=[n.dj.c(e.i),t,n(117),n(379),n(711),n(269),n(215),n(202),n(163),n(295),n(243),n(152)],void 0===(i=function(e,t,n,r,i,a,u,o,s,l,c,f){return function(){function e(){this.declaredClass="esri.arcade.Feature",this._optimizedGeomDefinition=null,this._geometry=null,this.attributes=null,this._layer=null,this._datesfixed=!0,this.immutable=!0,this._datefields=null,this.immutable=!0}return e.createFromGraphic=function(t){var n=new e;return n._geometry=f.isSome(t.geometry)?t.geometry:null,void 0===t.attributes||null===t.attributes?n.attributes={}:n.attributes=t.attributes,t._sourceLayer?(n._layer=t._sourceLayer,n._datesfixed=!1):t._layer?(n._layer=t._layer,n._datesfixed=!1):t.layer?(n._layer=t.layer,n._datesfixed=!1):t.sourceLayer&&(n._layer=t.sourceLayer,n._datesfixed=!1),n},e.createFromArcadeFeature=function(t){var n=new e;return n._datesfixed=t._datesfixed,n.attributes=t.attributes,n._geometry=t._geometry,n._optimizedGeomDefinition=t._optimizedGeomDefinition,t._layer&&(n._layer=t._layer),n},e.createFromOptimisedFeature=function(t,n,r){var i=new e;return i._geometry=t.geometry?{geometry:t.geometry}:null,i._optimizedGeomDefinition=r,i.attributes=t.attributes||{},i._layer=n,i._datesfixed=!1,i},e.createFromArcadeDictionary=function(t){var n=new e;return n.attributes=t.field("attributes"),null!==n.attributes&&n.attributes instanceof r?(n.attributes=n.attributes.attributes,null===n.attributes&&(n.attributes={})):n.attributes={},n._geometry=t.field("geometry"),null!==n._geometry&&(n._geometry instanceof r?n._geometry=e.parseGeometryFromDictionary(n._geometry):n._geometry instanceof u||(n._geometry=null)),n},e.createFromGraphicLikeObject=function(t,n,r){void 0===r&&(r=null);var i=new e;return null===n&&(n={}),i.attributes=n,i._geometry=f.isSome(t)?t:null,i._layer=r,i._layer&&(i._datesfixed=!1),i},e.prototype.repurposeFromGraphicLikeObject=function(e,t,n){void 0===n&&(n=null),null===t&&(t={}),this.attributes=t,this._geometry=e||null,this._layer=n,this._layer?this._datesfixed=!1:this._datesfixed=!0},e.prototype.castToText=function(){var e="";for(var t in!1===this._datesfixed&&this._fixDates(),this.attributes){""!==e&&(e+=",");var n=this.attributes[t];null==n?e+=JSON.stringify(t)+":null":a.isBoolean(n)||a.isNumber(n)||a.isString(n)?e+=JSON.stringify(t)+":"+JSON.stringify(n):n instanceof u||n instanceof i||n instanceof Array?e+=JSON.stringify(t)+":"+a.toStringExplicit(n):n instanceof Date?e+=JSON.stringify(t)+":"+JSON.stringify(n):null!==n&&"object"==typeof n&&void 0!==n.castToText&&(e+=JSON.stringify(t)+":"+n.castToText())}return'{"geometry":'+(null===this.geometry()?"null":a.toStringExplicit(this.geometry()))+',"attributes":{'+e+"}}"},e.prototype._fixDates=function(){if(null!==this._datefields)return this._datefields.length>0&&this._fixDateFields(this._datefields),void(this._datesfixed=!0);for(var e=[],t=0;t<this._layer.fields.length;t++){var n=this._layer.fields[t];"date"!==n.type&&"esriFieldTypeDate"!==n.type||e.push(n.name)}this._datefields=e,e.length>0&&this._fixDateFields(e),this._datesfixed=!0},e.prototype._fixDateFields=function(e){this.attributes=n.__assign({},this.attributes);for(var t=0;t<e.length;t++){var r=this.attributes[e[t]];if(null===r);else if(void 0===r){for(var i in this.attributes)if(i.toLowerCase()===e[t].toLowerCase()){null!==(r=this.attributes[i])&&(r instanceof Date||(this.attributes[i]=new Date(r)));break}}else r instanceof Date||(this.attributes[e[t]]=new Date(r))}},e.prototype.geometry=function(){return null===this._geometry||this._geometry instanceof u||(this._optimizedGeomDefinition?(this._geometry=f.unwrap(s.fromJSON(c.convertToGeometry(this._geometry,this._optimizedGeomDefinition.geometryType,this._optimizedGeomDefinition.hasZ,this._optimizedGeomDefinition.hasM))),this._geometry.spatialReference=this._optimizedGeomDefinition.spatialReference):this._geometry=f.unwrap(s.fromJSON(this._geometry))),this._geometry},e.prototype.field=function(e){!1===this._datesfixed&&this._fixDates();var t=this.attributes[e];if(void 0!==t)return t;var n=e.toLowerCase();for(var r in this.attributes)if(r.toLowerCase()===n)return this.attributes[r];if(this._hasFieldDefinition(n))return null;throw new Error("Field not Found")},e.prototype._hasFieldDefinition=function(e){if(null===this._layer)return!1;for(var t=0;t<this._layer.fields.length;t++)if(this._layer.fields[t].name.toLowerCase()===e)return!0;return!1},e.prototype._field=function(e){!1===this._datesfixed&&this._fixDates();var t=e.toLowerCase(),n=this.attributes[e];if(void 0!==n)return n;for(var r in this.attributes)if(r.toLowerCase()===t)return this.attributes[r];return null},e.prototype.setField=function(e,t){if(this.immutable)throw new Error("Feature is Immutable");if(!1===a.isSimpleType(t))throw new Error("Illegal Value Assignment to Feature");var n=e.toLowerCase();if(void 0===this.attributes[e]){for(var r in this.attributes)if(r.toLowerCase()===n)return void(this.attributes[r]=t);this.attributes[e]=t}else this.attributes[e]=t},e.prototype.hasField=function(e){var t=e.toLowerCase();if(void 0!==this.attributes[e])return!0;for(var n in this.attributes)if(n.toLowerCase()===t)return!0;return!!this._hasFieldDefinition(t)},e.prototype.keys=function(){var e=[],t={};for(var n in this.attributes)e.push(n),t[n.toLowerCase()]=1;if(null!==this._layer)for(var r=0;r<this._layer.fields.length;r++){var i=this._layer.fields[r];1!==t[i.name.toLowerCase()]&&e.push(i.name)}return e.sort()},e.parseGeometryFromDictionary=function(t){var n=e.convertDictionaryToJson(t,!0);return void 0!==n.spatialreference&&(n.spatialReference=n.spatialreference,delete n.spatialreference),void 0!==n.rings&&(n.rings=this.fixPathArrays(n.rings,!0===n.hasZ,!0===n.hasM)),void 0!==n.paths&&(n.paths=this.fixPathArrays(n.paths,!0===n.hasZ,!0===n.hasM)),void 0!==n.points&&(n.points=this.fixPointArrays(n.points,!0===n.hasZ,!0===n.hasM)),s.fromJSON(n)},e.fixPathArrays=function(e,t,n){var r=[];if(e instanceof Array)for(var a=0;a<e.length;a++)r.push(this.fixPointArrays(e[a],t,n));else if(e instanceof i)for(a=0;a<e.length();a++)r.push(this.fixPointArrays(e.get(a),t,n));return r},e.fixPointArrays=function(e,t,n){var r=[];if(e instanceof Array)for(var a=0;a<e.length;a++)(u=e[a])instanceof o?t&&n?r.push([u.x,u.y,u.z,u.m]):t?r.push([u.x,u.y,u.z]):n?r.push([u.x,u.y,u.m]):r.push([u.x,u.y]):u instanceof i?r.push(u.toArray()):r.push(u);else if(e instanceof i)for(a=0;a<e.length();a++){var u;(u=e.get(a))instanceof o?t&&n?r.push([u.x,u.y,u.z,u.m]):t?r.push([u.x,u.y,u.z]):n?r.push([u.x,u.y,u.m]):r.push([u.x,u.y]):u instanceof i?r.push(u.toArray()):r.push(u)}return r},e.convertDictionaryToJson=function(t,n){void 0===n&&(n=!1);var i={};for(var a in t.attributes){var u=t.attributes[a];u instanceof r&&(u=e.convertDictionaryToJson(u)),n?i[a.toLowerCase()]=u:i[a]=u}return i},e.parseAttributesFromDictionary=function(e){var t={};for(var n in e.attributes){var r=e.attributes[n];if(!a.isSimpleType(r))throw new Error("Illegal Argument");t[n]=r}return t},e.fromJson=function(t){var n=null;null!==t.geometry&&void 0!==t.geometry&&(n=s.fromJSON(t.geometry));var r={};if(null!==t.attributes&&void 0!==t.attributes)for(var i in t.attributes){var u=t.attributes[i];if(null===u)r[i]=u;else{if(!(a.isString(u)||a.isNumber(u)||a.isBoolean(u)||a.isDate(u)))throw new Error("Illegal Argument");r[i]=u}}return e.createFromGraphicLikeObject(n,r,null)},e.prototype.fullDomain=function(e,t){return null===this._layer?null:this._layer.fields?a.getDomain(e,this._layer,this,t):null},e.prototype.subtypes=function(){return null===this._layer?null:this._layer.fields&&this._layer.typeIdField?{subtypeField:this._layer.typeIdField,subtypes:this._layer.types?this._layer.types.map((function(e){return{name:e.name,code:e.id}})):[]}:null},e.prototype.domainValueLookup=function(e,t,n){if(null===this._layer)return null;if(!this._layer.fields)return null;var r=a.getDomain(e,this._layer,this,n);if(void 0===t)try{t=this.field(e)}catch(e){return null}return a.getDomainValue(r,t)},e.prototype.domainCodeLookup=function(e,t,n){if(null===this._layer)return null;if(!this._layer.fields)return null;if(void 0===t){try{t=this.field(e)}catch(e){return null}return t}var r=a.getDomain(e,this._layer,this,n);return a.getDomainCode(r,t)},e.prototype.schema=function(){if(null===this._layer)return null;if(!this._layer.fields)return null;for(var e=[],t=0,n=this._layer.fields;t<n.length;t++){var r=n[t];e.push(l.esriFieldToJson(r))}return{objectIdField:this._layer.objectIdField,typeIdField:this._layer.typeIdField,geometryType:void 0===l.layerGeometryEsriRestConstants[this._layer.geometryType]?"":l.layerGeometryEsriRestConstants[this._layer.geometryType],hasZ:!0===this._layer.hasZ,hasM:!0===this._layer.hasM,fields:e}},e}()}.apply(null,r))||(e.exports=i)},607:function(e,t,n){var r,i;r=[n.dj.c(e.i),t,n(117),n(711),n(202)],void 0===(i=function(e,t,n,r,i){return function(e){function t(t,n,r,i,a,u){var o=e.call(this,t)||this;return o._lazyPt=[],o._hasZ=!1,o._hasM=!1,o._spRef=n,o._hasZ=r,o._hasM=i,o._cacheId=a,o._partId=u,o}return n.__extends(t,e),t.prototype.get=function(e){if(void 0===this._lazyPt[e]){var t=this._elements[e];if(void 0===t)return;var n=this._hasZ,r=this._hasM,a=null;(a=n&&!r?new i(t[0],t[1],t[2],void 0,this._spRef):r&&n?new i(t[0],t[1],void 0,t[2],this._spRef):n&&r?new i(t[0],t[1],t[2],t[3],this._spRef):new i(t[0],t[1],this._spRef)).cache._arcadeCacheId=this._cacheId.toString()+"-"+this._partId.toString()+"-"+e.toString(),this._lazyPt[e]=a}return this._lazyPt[e]},t.prototype.equalityTest=function(e){return e===this||null!==e&&e instanceof t!=0&&e.getUniqueHash()===this.getUniqueHash()},t.prototype.getUniqueHash=function(){return this._cacheId.toString()+"-"+this._partId.toString()},t}(r)}.apply(null,r))||(e.exports=i)},710:function(e,t,n){var r,i;r=[n.dj.c(e.i),t,n(117),n(379)],void 0===(i=function(e,t,n,r){return function(e){function t(t){var n=e.call(this)||this;return n.immutable=!1,n.setField("url",t),n.immutable=!0,n}return n.__extends(t,e),t}(r)}.apply(null,r))||(e.exports=i)},711:function(e,t,n){var r,i;r=[n.dj.c(e.i),t],void 0===(i=function(e,t){return function(){function e(e){void 0===e&&(e=[]),this._elements=e}return e.prototype.length=function(){return this._elements.length},e.prototype.get=function(e){return this._elements[e]},e.prototype.toArray=function(){for(var e=[],t=0;t<this.length();t++)e.push(this.get(t));return e},e}()}.apply(null,r))||(e.exports=i)},712:function(e,t,n){var r,i;r=[n.dj.c(e.i),t],void 0===(i=function(e,t){for(var n in Object.defineProperty(t,"__esModule",{value:!0}),t.functionDecls={concatenate:{min:"0",max:"*"},split:{min:"2",max:"4"},guid:{min:"0",max:"1"},today:{min:"0",max:"0"},angle:{min:"2",max:"3"},bearing:{min:"2",max:"3"},urlencode:{min:"1",max:"1"},now:{min:"0",max:"0"},timestamp:{min:"0",max:"0"},day:{min:"1",max:"1"},month:{min:"1",max:"1"},year:{min:"1",max:"1"},hour:{min:"1",max:"1"},second:{min:"1",max:"1"},millisecond:{min:"1",max:"1"},minute:{min:"1",max:"1"},weekday:{min:"1",max:"1"},toutc:{min:"1",max:"1"},tolocal:{min:"1",max:"1"},date:{min:"0",max:"7"},datediff:{min:"2",max:"3"},dateadd:{min:"2",max:"3"},trim:{min:"1",max:"1"},text:{min:"1",max:"2"},left:{min:"2",max:"2"},right:{min:"2",max:"2"},mid:{min:"2",max:"3"},upper:{min:"1",max:"1"},proper:{min:"1",max:"2"},lower:{min:"1",max:"1"},find:{min:"2",max:"3"},iif:{min:"3",max:"3"},decode:{min:"2",max:"*"},when:{min:"2",max:"*"},defaultvalue:{min:"2",max:"2"},isempty:{min:"1",max:"1"},domaincode:{min:"2",max:"4"},domainname:{min:"2",max:"4"},polygon:{min:"1",max:"1"},point:{min:"1",max:"1"},polyline:{min:"1",max:"1"},extent:{min:"1",max:"1"},multipoint:{min:"1",max:"1"},ringisclockwise:{min:"1",max:"1"},geometry:{min:"1",max:"1"},count:{min:"0",max:"*"},number:{min:"1",max:"2"},acos:{min:"1",max:"1"},asin:{min:"1",max:"1"},atan:{min:"1",max:"1"},atan2:{min:"2",max:"2"},ceil:{min:"1",max:"2"},floor:{min:"1",max:"2"},round:{min:"1",max:"2"},cos:{min:"1",max:"1"},exp:{min:"1",max:"1"},log:{min:"1",max:"1"},min:{min:"0",max:"*"},constrain:{min:"3",max:"3"},console:{min:"0",max:"*"},max:{min:"0",max:"*"},pow:{min:"2",max:"2"},random:{min:"0",max:"0"},sqrt:{min:"1",max:"1"},sin:{min:"1",max:"1"},tan:{min:"1",max:"1"},abs:{min:"1",max:"1"},isnan:{min:"1",max:"1"},stdev:{min:"0",max:"*"},average:{min:"0",max:"*"},mean:{min:"0",max:"*"},sum:{min:"0",max:"*"},variance:{min:"0",max:"*"},distinct:{min:"0",max:"*"},first:{min:"1",max:"1"},top:{min:"2",max:"2"},boolean:{min:"1",max:"1"},dictionary:{min:"0",max:"*"},typeof:{min:"1",max:"1"},reverse:{min:"1",max:"1"},replace:{min:"3",max:"4"},sort:{min:"1",max:"2"},feature:{min:"1",max:"*"},haskey:{min:"2",max:"2"},indexof:{min:"2",max:"2"},disjoint:{min:"2",max:"2"},intersects:{min:"2",max:"2"},touches:{min:"2",max:"2"},crosses:{min:"2",max:"2"},within:{min:"2",max:"2"},contains:{min:"2",max:"2"},overlaps:{min:"2",max:"2"},equals:{min:"2",max:"2"},relate:{min:"3",max:"3"},intersection:{min:"2",max:"2"},union:{min:"1",max:"2"},difference:{min:"2",max:"2"},symmetricdifference:{min:"2",max:"2"},clip:{min:"2",max:"2"},cut:{min:"2",max:"2"},area:{min:"1",max:"2"},areageodetic:{min:"1",max:"2"},length:{min:"1",max:"2"},lengthgeodetic:{min:"1",max:"2"},distancegeodetic:{min:"2",max:"3"},distance:{min:"2",max:"3"},densify:{min:"2",max:"3"},densifygeodetic:{min:"2",max:"3"},generalize:{min:"2",max:"4"},buffer:{min:"2",max:"3"},buffergeodetic:{min:"2",max:"3"},offset:{min:"2",max:"6"},rotate:{min:"2",max:"3"},issimple:{min:"1",max:"1"},simplify:{min:"1",max:"1"},centroid:{min:"1",max:"1"},isselfintersecting:{min:"1",max:"1"},multiparttosinglepart:{min:"1",max:"1"},setgeometry:{min:"2",max:"2"},portal:{min:"1",max:"1"},subtypes:{min:"1",max:"1"},subtypecode:{min:"1",max:"1"},subtypename:{min:"1",max:"1"},domain:{min:"2",max:"3"},schema:{min:"1",max:"1"}},t.functionDecls)t.functionDecls[n].fmin=t.functionDecls[n].min,t.functionDecls[n].fmax=t.functionDecls[n].max;var r=["featureset","featuresetbyid","featuresetbyname","featuresetbyassociation","featuresetbyrelationshipname","featuresetbyurl","attachments","featuresetbyportalitem"],i=["disjoint","intersects","touches","crosses","within","contains","overlaps","equals","relate","intersection","union","difference","symmetricdifference","clip","cut","area","areageodetic","length","lengthgeodetic","distance","distancegeodetic","densify","densifygeodetic","generalize","buffer","buffergeodetic","offset","rotate","issimple","simplify","multiparttosinglepart"];function a(e,t){return"0"!==e.min&&t.length<Number(e.min)||"*"!==e.max&&t.length>Number(e.max)?-2:1}function u(e,t,n){if(null!==n.localScope&&void 0!==n.localScope[e.toLowerCase()]){if("FormulaFunction"===(r=n.localScope[e.toLowerCase()]).type)return void 0===r.signature&&(r.signature={min:"0",max:"*"}),a(r.signature,t);if("any"===r.type)return void 0===r.signature&&(r.signature={min:"0",max:"*"}),a(r.signature,t)}if(void 0!==n.globalScope[e.toLowerCase()]){var r;if("FormulaFunction"===(r=n.globalScope[e.toLowerCase()]).type)return void 0===r.signature&&(r.signature={min:"0",max:"*"}),a(r.signature,t);if("any"===r.type)return void 0===r.signature&&(r.signature={min:"0",max:"*"}),a(r.signature,t)}return-1}function o(e,t){if(e)for(var n=0,r=e;n<r.length;n++)s(r[n],t)}function s(e,t){if(e&&!1!==t(e))switch(e.type){case"ArrayExpression":o(e.elements,t);break;case"AssignmentExpression":case"BinaryExpression":s(e.left,t),s(e.right,t);break;case"BlockStatement":o(e.body,t);break;case"BreakStatement":break;case"CallExpression":s(e.callee,t),o(e.arguments,t);break;case"ConditionalExpression":s(e.test,t),s(e.alternate,t),s(e.consequent,t);break;case"ContinueStatement":break;case"DoWhileStatement":s(e.test,t),s(e.body,t);break;case"EmptyStatement":break;case"ExpressionStatement":s(e.expression,t);break;case"ForInStatement":s(e.left,t),s(e.right,t),s(e.body,t);break;case"ForStatement":s(e.init,t),s(e.test,t),s(e.update,t),s(e.body,t);break;case"FunctionDeclaration":case"FunctionDeclaration":case"FunctionExpression":s(e.id,t),o(e.params,t),s(e.body,t);break;case"Identifier":break;case"IfStatement":s(e.test,t),s(e.consequent,t),s(e.alternate,t);break;case"Literal":break;case"LogicalExpression":s(e.left,t),s(e.right,t);break;case"MemberExpression":s(e.object,t),s(e.property,t);break;case"NewExpression":s(e.callee,t),o(e.arguments,t);break;case"ObjectExpression":o(e.properties,t);break;case"Program":o(e.body,t);break;case"Property":s(e.key,t),s(e.value,t);break;case"ReturnStatement":case"UnaryExpression":case"UpdateExpression":s(e.argument,t);break;case"VariableDeclaration":o(e.declarations,t);break;case"VariableDeclarator":s(e.id,t),s(e.init,t);break;case"TemplateLiteral":o(e.expressions,t),o(e.quasis,t)}}function l(e,t){void 0===t&&(t=!0);var n=d(e,"SYNTAX","UNREOGNISED");try{switch(e.type){case"VariableDeclarator":return null!==e.init&&"FunctionExpression"===e.init.type?d(e,"SYNTAX","FUNCTIONVARIABLEDECLARATOR"):"Identifier"!==e.id.type?d(e,"SYNTAX","VARIABLEMUSTHAVEIDENTIFIER"):null!==e.init?l(e.init,!1):"";case"VariableDeclaration":for(var r=0;r<e.declarations.length;r++)if(""!==(n=l(e.declarations[r],t)))return n;return"";case"ForInStatement":if(""!==(n=l(e.left,t)))return n;if("VariableDeclaration"===e.left.type){if(e.left.declarations.length>1)return d(e,"SYNTAX","ONLY1VAR");if(null!==e.left.declarations[0].init)return d(e,"SYNTAX","CANNOTDECLAREVAL")}else if("Identifier"!==e.left.type)return d(e,"SYNTAX","LEFTNOTVAR");return""!==(n=l(e.right,t))||""!==(n=l(e.body,t))?n:"";case"ForStatement":return null!==e.test&&""!==(n=l(e.test,t))||null!==e.init&&""!==(n=l(e.init,t))||null!==e.update&&""!==(n=l(e.update,t))||null!==e.body&&""!==(n=l(e.body,t))?n:"";case"ContinueStatement":case"EmptyStatement":case"BreakStatement":return"";case"IfStatement":return""!==(n=l(e.test,t))||null!==e.consequent&&""!==(n=l(e.consequent,!1))||null!==e.alternate&&""!==(n=l(e.alternate,!1))?n:"";case"BlockStatement":var i=[];for(r=0;r<e.body.length;r++)"EmptyStatement"!==e.body[r].type&&i.push(e.body[r]);for(e.body=i,r=0;r<e.body.length;r++)if(""!==(n=l(e.body[r],t)))return n;return"";case"FunctionDeclaration":return!1===t?d(e,"SYNTAX","GLOBALFUNCTIONSONLY"):"Identifier"!==e.id.type?d(e,"SYNTAX","FUNCTIONMUSTHAVEIDENTIFIER"):l(e.body,!1);case"ReturnStatement":return null!==e.argument?l(e.argument,t):"";case"UpdateExpression":return"Identifier"!==e.argument.type&&"MemberExpression"!==e.argument.type?d(e,"SYNTAX","ASSIGNMENTTOVARSONLY"):l(e.argument,t);case"AssignmentExpression":if("Identifier"!==e.left.type&&"MemberExpression"!==e.left.type)return d(e,"SYNTAX","ASSIGNMENTTOVARSONLY");if(""!==(n=l(e.left,t)))return n;switch(e.operator){case"=":case"/=":case"*=":case"%=":case"+=":case"-=":break;default:return d(e,"SYNTAX","OPERATORNOTRECOGNISED")}return l(e.right,!1);case"ExpressionStatement":return"AssignmentExpression"===e.expression.type||e.expression.type,l(e.expression,!1);case"Identifier":n="";break;case"MemberExpression":return""!==(n=l(e.object,t))?n:!0===e.computed?l(e.property,t):"";case"Literal":case"TemplateElement":return"";case"CallExpression":if("Identifier"!==e.callee.type)return d(e,"SYNTAX","ONLYNODESSUPPORTED");for(n="",r=0;r<e.arguments.length;r++)if(""!==(n=l(e.arguments[r],t)))return n;return"";case"UnaryExpression":n=l(e.argument,t);break;case"BinaryExpression":if(""!==(n=l(e.left,t)))return n;if(""!==(n=l(e.right,t)))return n;switch(e.operator){case"|":case"&":case">>":case"<<":case">>":case">>>":case"^":case"==":case"!=":case"<":case"<=":case">":case">=":case"+":case"-":case"*":case"/":case"%":break;default:return d(e,"SYNTAX","OPERATORNOTRECOGNISED")}return"";case"LogicalExpression":if(""!==(n=l(e.left,t)))return n;if(""!==(n=l(e.right)))return n;switch(e.operator){case"&&":case"||":break;default:return d(e,"SYNTAX","OPERATORNOTRECOGNISED")}return"";case"ConditionalExpression":return d(e,"SYNTAX","NOTSUPPORTED");case"ArrayExpression":for(n="",r=0;r<e.elements.length;r++)if(""!==(n=l(e.elements[r],t)))return n;return n;case"TemplateLiteral":for(n="",r=0;r<e.quasis.length;r++)if(""!==(n=l(e.quasis[r],t)))return n;for(r=0;r<e.expressions.length;r++)if(""!==(n=l(e.expressions[r],t)))return n;return n;case"ObjectExpression":for(n="",r=0;r<e.properties.length;r++){if(n="",null!==e.properties[r].key&&("Literal"!==e.properties[r].key.type&&"Identifier"!==e.properties[r].key.type&&(n=d(e,"SYNTAX","OBJECTPROPERTYMUSTBESTRING")),"Literal"===e.properties[r].key.type)){var a=e.properties[r].key,u="value"in a?a.value:null;"string"==typeof u||u instanceof String||(n=d(e,"SYNTAX","OBJECTPROPERTYMUSTBESTRING"))}if(""===n&&(n=l(e.properties[r],t)),""!==n)return n}return n;case"Property":return"Literal"!==e.key.type&&"Identifier"!==e.key.type?d(e,"SYNTAX","ONLYLITERAL"):"Identifier"!==e.key.type&&""!==(n=l(e.key,t))?n:n=l(e.value,t);default:return n}return n}catch(e){throw e}}function c(e,t){var n=d(e,"SYNTAX","UNREOGNISED"),r=null,i="";try{switch(e.type){case"VariableDeclarator":if(null!==e.init&&"FunctionExpression"===e.init.type)return d(e,"SYNTAX","FUNCTIONVARIABLEDECLARATOR");var a=null===e.init?"":c(e.init,t);return""!==a?a:("Identifier"===e.id.type&&(null===t.localScope?t.globalScope[e.id.name.toLowerCase()]={type:"any"}:t.localScope[e.id.name.toLowerCase()]={type:"any"}),"");case"FunctionDeclaration":return r=p(e.id.name.toLowerCase(),e),""!==(i=m(e,t))?i:null!==t.localScope?d(e,"SYNTAX","GLOBALFUNCTIONSONLY"):(r.isnative=!1,t.globalScope[e.id.name.toLowerCase()]={type:"FormulaFunction",signature:[r]},"");case"VariableDeclaration":n="";for(var o=0;o<e.declarations.length;o++)if(""!==(n=c(e.declarations[o],t)))return n;return n;case"IfStatement":return""!==(n=c(e.test,t))?n:"AssignmentExpression"===e.test.type||"UpdateExpression"===e.test.type?d(e.test,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"):null!==e.consequent&&""!==(n=c(e.consequent,t))||null!==e.alternate&&""!==(n=c(e.alternate,t))?n:"";case"EmptyStatement":return"";case"BlockStatement":for(o=0;o<e.body.length;o++)if(""!==(n=c(e.body[o],t)))return n;return"";case"ReturnStatement":return null!==e.argument?c(e.argument,t):"";case"ForInStatement":if("VariableDeclaration"===e.left.type){if(e.left.declarations.length>1)return d(e,"SYNTAX","ONLY1VAR");if(null!==e.left.declarations[0].init)return d(e,"SYNTAX","CANNOTDECLAREVAL")}else if("Identifier"!==e.left.type)return d(e,"SYNTAX","LEFTNOTVAR");return""!==(n=c(e.left,t))||""!==(n=c(e.right,t))||""!==(n=c(e.body,t))?n:"";case"ForStatement":return null!==e.init&&""!==(n=c(e.init,t))||null!==e.test&&""!==(n=c(e.test,t))||null!==e.body&&""!==(n=c(e.body,t))||null!==e.update&&""!==(n=c(e.update,t))?n:"";case"BreakStatement":case"ContinueStatement":return"";case"UpdateExpression":if("Identifier"!==e.argument.type&&"MemberExpression"!==e.argument.type)return d(e,"SYNTAX","ASSIGNMENTTOVARSONLY");var s=!1;return"MemberExpression"===e.argument.type?c(e.argument,t):(null!==t.localScope&&void 0!==t.localScope[e.argument.name.toLowerCase()]&&(s=!0),void 0!==t.globalScope[e.argument.name.toLowerCase()]&&(s=!0),!1===s?"Identifier "+e.argument.name+" has not been declared.":"");case"AssignmentExpression":if("Identifier"!==e.left.type&&"MemberExpression"!==e.left.type)return d(e,"SYNTAX","ASSIGNMENTTOVARSONLY");var l=c(e.right,t);return""!==l?l:(s=!1,"MemberExpression"===e.left.type?""!==(l=c(e.left,t))?l:"":(null!==t.localScope&&void 0!==t.localScope[e.left.name.toLowerCase()]&&(s=!0),void 0!==t.globalScope[e.left.name.toLowerCase()]&&(s=!0),!1===s?"Identifier "+e.left.name+" has not been declared.":""));case"ExpressionStatement":return"AssignmentExpression"===e.expression.type||e.expression.type,c(e.expression,t);case"Identifier":var f=e.name.toLowerCase();if(null!==t.localScope&&void 0!==t.localScope[f])return"";n=void 0!==t.globalScope[f]?"":d(e,"SYNTAX","VARIABLENOTFOUND");break;case"MemberExpression":return""!==(n=c(e.object,t))?n:!0===e.computed?c(e.property,t):"";case"Literal":case"TemplateElement":return"";case"CallExpression":if("Identifier"!==e.callee.type)return d(e,"SYNTAX","ONLYNODESSUPPORTED");for(n="",o=0;o<e.arguments.length;o++)if(""!==(n=c(e.arguments[o],t)))return n;var h=u(e.callee.name,e.arguments,t);-1===h&&(n=d(e,"SYNTAX","NOTFOUND")),-2===h&&(n=d(e,"SYNTAX","WRONGSIGNATURE"));break;case"UnaryExpression":n=c(e.argument,t);break;case"BinaryExpression":return""!==(n=c(e.left,t))||""!==(n=c(e.right,t))?n:"";case"LogicalExpression":return""!==(n=c(e.left,t))?n:"AssignmentExpression"===e.left.type||"UpdateExpression"===e.left.type?d(e.left,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"):""!==(n=c(e.right,t))?n:"AssignmentExpression"===e.right.type||"UpdateExpression"===e.right.type?d(e.right,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"):"";case"ConditionalExpression":return d(e,"SYNTAX","NOTSUPPORTED");case"ArrayExpression":for(n="",o=0;o<e.elements.length;o++)if(""!==(n=c(e.elements[o],t)))return n;return n;case"TemplateLiteral":for(n="",o=0;o<e.quasis.length;o++)if(""!==(n=c(e.quasis[o],t)))return n;for(o=0;o<e.expressions.length;o++)if(""!==(n=c(e.expressions[o],t)))return n;return n;case"ObjectExpression":for(n="",o=0;o<e.properties.length;o++){if(n="",null!==e.properties[o].key&&("Literal"!==e.properties[o].key.type&&"Identifier"!==e.properties[o].key.type&&(n=d(e,"SYNTAX","OBJECTPROPERTYMUSTBESTRING")),"Literal"===e.properties[o].key.type)){var y=e.properties[o].key,g="value"in y?y.value:null;"string"==typeof g||g instanceof String||(n=d(e,"SYNTAX","OBJECTPROPERTYMUSTBESTRING"))}if(""===n&&(n=c(e.properties[o],t)),""!==n)return n}return n;case"Property":return"Literal"!==e.key.type&&"Identifier"!==e.key.type?d(e,"SYNTAX","ONLYLITERAL"):"Identifier"!==e.key.type&&""!==(n=c(e.key,t))?n:n=c(e.value,t);case"Program":case"FunctionExpression":case"NewExpression":case"DoWhileStatement":case"TemplateElement":default:return n}return n}catch(e){throw e}}function f(e,t){var n=!1,r=t.toLowerCase();return s(e,(function(e){return!n&&("Identifier"===e.type&&e.name&&e.name.toLowerCase()===r&&(n=!0),!0)})),n}function p(e,t){var n=[];if(void 0!==t.params&&null!==t.params)for(var r=0;r<t.params.length;r++)n.push("any");return{name:e,return:"any",params:n}}function m(e,t){for(var n={globalScope:t.globalScope,localScope:{}},r=0;r<e.params.length;r++){var i=e.params[r].name;n.localScope[i.toLowerCase()]={type:"any"}}return c(e.body,n)}function h(e,t,n,r){var i={};for(var a in null==e&&(e={}),null==n&&(n={}),i.infinity={type:"any"},i.textformatting={type:"any"},i.pi={type:"any"},t)"sync"===r&&void 0!==t[a].min?i[a]={type:"FormulaFunction",signature:{min:t[a].min,max:t[a].max}}:"sync"!==r&&void 0!==t[a].fmin&&(i[a]={type:"FormulaFunction",signature:{min:t[a].fmin,max:t[a].fmax}});for(var u=0;u<n.length;u++)i[(a=n[u]).name]={type:"FormulaFunction",signature:a};for(var a in e)i[a]=e[a],i[a].type="any";return i}function d(e,t,n){var r="";switch(t){case"SYNTAX":r="Syntax Error: ";break;case"RUNTIME":r="Runtime Error: ";break;default:r="Syntax Error: "}try{switch(e.type){case"IfStatement":switch(n){case"CANNOT_USE_ASSIGNMENT_IN_CONDITION":r+=" Assignments not be made in logical tests";break;case"CANNOT_USE_NONBOOLEAN_IN_CONDITION":r+=" Non Boolean used as Condition"}break;case"UpdateExpression":case"AssignmentExpression":switch(n){case"CANNOT_USE_ASSIGNMENT_IN_CONDITION":r+=" Assignments not be made in logical tests";break;case"ASSIGNMENTTOVARSONLY":r+=" Assignments can only be made to identifiers"}break;case"ExpressionStatement":r+=" Assignments can only be made to identifiers";break;case"FunctionDeclaration":switch(n){case"GLOBALFUNCTIONSONLY":r+=" Functions cannot be declared as variables";break;case"FUNCTIONMUSTHAVEIDENTIFIER":r+=" Function Definition must have an identifier"}break;case"VariableDeclaration":r+=" Only 1 variable can be declared at a time";break;case"VariableDeclarator":switch(n){case"FUNCTIONVARIABLEDECLARATOR":r+=" Functions cannot be declared as variables";break;case"VARIABLEMUSTHAVEIDENTIFIER":r+=" Variable Definition must have an identifier"}break;case"Identifier":r+=" Identifier Not Found. ",r+=e.name;break;case"ObjectExpression":switch(n){case"OBJECTPROPERTYMUSTBESTRING":r+=" Property name must be a string"}break;case"ForStatement":switch(n){case"CANNOT_USE_NONBOOLEAN_IN_CONDITION":r+=" Non Boolean used as Condition"}break;case"ForInStatement":switch(n){case"ONLY1VAR":r+=" Can only declare 1 var for use with IN";break;case"CANNOTDECLAREVAL":r+=" Can only declare value for use with IN";break;case"LEFTNOVAR":r+="Must provide a variable to iterate with.";break;case"VARIABLENOTDECLARED":r+="Variable must be declared before it is used..";break;case"CANNOTITERATETHISTYPE":r+="This type cannot be used in an IN loop"}break;case"MemberExpression":switch(n){case"PROPERTYNOTFOUND":r+="Cannot find member property. ",r+=!1===e.computed&&"Identifier"===e.property.type?e.property.name:"";break;case"OUTOFBOUNDS":r+="Out of Bounds. ",r+=!1===e.computed&&"Identifier"===e.property.type?e.property.name:"";break;case"NOTFOUND":r+="Cannot call member method on null. ",r+=!1===e.computed&&"Identifier"===e.property.type?e.property.name:"";break;case"INVALIDTYPE":r+="Cannot call member property on object of this type. ",r+=!1===e.computed&&"Identifier"===e.property.type?e.property.name:""}break;case"Property":switch(n){case"ONLYLITERAL":r+="Property names must be literals or identifiers"}break;case"Literal":break;case"CallExpression":switch(n){case"WRONGSIGNATURE":r+="Function signature does not match: ",r+="Identifier"===e.callee.type?e.callee.name:"";break;case"ONLYNODESUPPORTED":r+="Functions must be declared.",r+="Identifier"===e.callee.type?e.callee.name:"";break;case"NOTAFUNCTION":r+="Not a Function: ",r+="Identifier"===e.callee.type?e.callee.name:"";break;case"NOTFOUND":r+="Function Not Found: "+("Identifier"===e.callee.type?e.callee.name:"")}break;case"UnaryExpression":switch(n){case"NOTSUPPORTEDUNARYOPERATOR":r+="Operator "+e.operator+" not allowed in this context. Only ! can be used with boolean, and - with a number";break;case"NOTSUPPORTEDTYPE":r+="Unary operator "+e.operator+" cannot be used with this argument."}case"BinaryExpression":switch(n){case"OPERATORNOTRECOGNISED":r+="Binary Operator not recognised "+e.operator}break;case"LogicalExpression":switch(n){case"ONLYBOOLEAN":r+="Operator "+e.operator+" cannot be used. Only || or && are allowed values";break;case"ONLYORORAND":r+="Logical Expression "+e.operator+" being applied to parameters that are not boolean."}break;case"ConditionalExpression":r+="Conditional statements not supported.";break;case"ArrayExpression":switch(n){case"FUNCTIONCONTEXTILLEGAL":r+=" Cannot Put Function inside Array."}break;default:r+="Expression contains unrecognised code structures."}}catch(e){throw e}return r}function y(e,t,n){return{line:e.loc.start.line,character:e.loc.start.column,reason:d(e,t,n)}}function g(e,t,n,r){for(var i={globalScope:t.globalScope,localScope:{}},a=0;a<e.params.length;a++){var u=e.params[a].name;i.localScope[u.toLowerCase()]={type:"any"}}D(e.body,i,n,r,!1)}function D(e,t,n,r,i){if(void 0===i&&(i=!0),null===e)throw new Error("Unnexpexted Expression Syntax");var a=null;try{switch(e.type){case"VariableDeclarator":return null!==e.init&&"FunctionExpression"===e.init.type?void r.push(y(e,"SYNTAX","FUNCTIONVARIABLEDECLARATOR")):("Identifier"!==e.id.type?r.push(y(e,"SYNTAX","VARIABLEMUSTHAVEIDENTIFIER")):(null!==t.localScope?t.localScope[e.id.name.toLowerCase()]:t.globalScope[e.id.name.toLowerCase()],null===t.localScope?t.globalScope[e.id.name.toLowerCase()]={type:"any"}:t.localScope[e.id.name.toLowerCase()]={type:"any"}),void(null!==e.init&&D(e.init,t,n,r,i)));case"FunctionDeclaration":return!1===i&&r.push(y(e,"SYNTAX","GLOBALFUNCTIONSONLY")),"Identifier"!==e.id.type&&r.push(y(e,"SYNTAX","FUNCTIONMUSTHAVEIDENTIFIER")),a=p("",e),g(e,t,n,r),null!==t.localScope&&r.push(y(e,"SYNTAX","GLOBALFUNCTIONSONLY")),a.isnative=!1,void("Identifier"===e.id.type&&(t.globalScope[e.id.name.toLowerCase()]={type:"FormulaFunction",signature:[a]}));case"VariableDeclaration":for(var o=0;o<e.declarations.length;o++)D(e.declarations[o],t,n,r,i);return;case"IfStatement":return null!==e.test&&(D(e.test,t,n,r,i),"AssignmentExpression"!==e.test.type&&"UpdateExpression"!==e.test.type||r.push(y(e.test,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"))),null!==e.consequent&&D(e.consequent,t,n,r,i),void(null!==e.alternate&&D(e.alternate,t,n,r,i));case"EmptyStatement":return;case"BlockStatement":if(null!==e.body)for(o=0;o<e.body.length;o++)D(e.body[o],t,n,r,i);return;case"ReturnStatement":return void(null!==e.argument&&D(e.argument,t,n,r,i));case"ForInStatement":return"VariableDeclaration"===e.left.type?(e.left.declarations.length>1&&r.push(y(e,"SYNTAX","ONLY1VAR")),null!==e.left.declarations[0].init&&r.push(y(e,"SYNTAX","CANNOTDECLAREVAL"))):"Identifier"!==e.left.type&&r.push(y(e,"SYNTAX","LEFTNOTVAR")),D(e.left,t,n,r,i),D(e.right,t,n,r,i),void D(e.body,t,n,r,i);case"ForStatement":return null!==e.init&&D(e.init,t,n,r,i),null!==e.test&&D(e.test,t,n,r,i),null!==e.body&&D(e.body,t,n,r,i),void(null!==e.update&&D(e.update,t,n,r,i));case"BreakStatement":case"ContinueStatement":return;case"UpdateExpression":if("Identifier"!==e.argument.type&&"MemberExpression"!==e.argument.type)r.push(y(e,"SYNTAX","ASSIGNMENTTOVARSONLY"));else{if("Identifier"===e.argument.type){var s=!1;!1===n&&(null!==t.localScope&&void 0!==t.localScope[e.argument.name.toLowerCase()]&&(s=!0),void 0!==t.globalScope[e.argument.name.toLowerCase()]&&(s=!0),!1===s&&r.push({line:null===e?0:e.loc.start.line,character:null===e?0:e.loc.start.column,reason:"Identifier "+e.argument.name+" has not been declared."}))}"MemberExpression"===e.argument.type&&D(e.argument,t,n,r,i)}return;case"AssignmentExpression":switch("Identifier"!==e.left.type&&"MemberExpression"!==e.left.type&&r.push(y(e,"SYNTAX","ASSIGNMENTTOVARSONLY")),e.operator){case"=":case"/=":case"*=":case"%=":case"+=":case"-=":break;default:r.push(y(e,"SYNTAX","OPERATORNOTRECOGNISED"))}D(e.right,t,n,r,i);var l=!1;return"Identifier"===e.left.type&&(null!==t.localScope&&void 0!==t.localScope[e.left.name.toLowerCase()]&&(l=!0),void 0!==t.globalScope[e.left.name.toLowerCase()]&&(l=!0),!1===n&&!1===l&&r.push({line:null===e?0:e.loc.start.line,character:null===e?0:e.loc.start.column,reason:"Identifier "+e.left.name+" has not been declared."})),void("MemberExpression"===e.left.type&&D(e.left,t,n,r,i));case"ExpressionStatement":return"AssignmentExpression"===e.expression.type||e.expression.type,void D(e.expression,t,n,r,i);case"Identifier":var c=e.name.toLowerCase();if(null!==t.localScope&&void 0!==t.localScope[c])return;if(void 0!==t.globalScope[c])return;!1===n&&r.push(y(e,"SYNTAX","VARIABLENOTFOUND"));break;case"MemberExpression":return D(e.object,t,n,r,i),void(!0===e.computed&&D(e.property,t,n,r,i));case"Literal":case"TemplateElement":return;case"CallExpression":for("Identifier"!==e.callee.type&&r.push(y(e,"SYNTAX","ONLYNODESSUPPORTED")),o=0;o<e.arguments.length;o++)D(e.arguments[o],t,n,r,i);if("Identifier"===e.callee.type){var f=u(e.callee.name,e.arguments,t);!1===n&&-1===f&&r.push(y(e,"SYNTAX","NOTFOUND")),-2===f&&r.push(y(e,"SYNTAX","WRONGSIGNATURE"))}return;case"UnaryExpression":return void D(e.argument,t,n,r,i);case"BinaryExpression":switch(D(e.left,t,n,r,i),D(e.right,t,n,r,i),e.operator){case"==":case"!=":case"<":case"<=":case">":case">=":case"+":case"-":case"*":case"/":case"%":case"&":case"|":case"^":case"<<":case">>":case">>>":break;default:r.push(y(e,"SYNTAX","OPERATORNOTRECOGNISED"))}return;case"LogicalExpression":switch(e.operator){case"&&":case"||":break;default:r.push(y(e,"SYNTAX","OPERATORNOTRECOGNISED"))}return D(e.left,t,n,r,i),"AssignmentExpression"!==e.left.type&&"UpdateExpression"!==e.left.type||r.push(y(e,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION")),D(e.right,t,n,r,i),void("AssignmentExpression"!==e.right.type&&"UpdateExpression"!==e.right.type||r.push(y(e,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION")));case"ConditionalExpression":r.push(y(e,"SYNTAX","NOTSUPPORTED"));break;case"ArrayExpression":for(o=0;o<e.elements.length;o++)D(e.elements[o],t,n,r,i);return;case"TemplateLiteral":for(o=0;o<e.quasis.length;o++)D(e.quasis[o],t,n,r,i);for(o=0;o<e.expressions.length;o++)D(e.expressions[o],t,n,r,i);return;case"ObjectExpression":for(o=0;o<e.properties.length;o++)D(e.properties[o],t,n,r,i);return;case"Property":return"Literal"!==e.key.type&&"Identifier"!==e.key.type&&r.push(y(e,"SYNTAX","ONLYLITERAL")),"Literal"===e.key.type&&D(e.key,t,n,r,i),void D(e.value,t,n,r,i);default:r.push(y(e,"SYNTAX","UNRECOGNISED"))}return}catch(t){r.push({line:null===e?0:e.loc.start.line,character:null===e?0:e.loc.start.column,reason:"Unnexpected Syntax"})}}function v(e){var t=[];return s(e,(function(e){return"CallExpression"===e.type&&"Identifier"===e.callee.type&&t.push(e.callee.name.toLowerCase()),!0})),t}t.addFunctionDeclaration=function(e,n){var r=t.functionDecls[e.name.toLowerCase()];void 0===r?t.functionDecls[e.name.toLowerCase()]="sync"===n?{min:e.min,max:e.max}:{fmin:e.min,fmax:e.max}:"sync"===n?(r.min=e.min,r.max=e.max):(r.fmin=e.min,r.fmax=e.max)},t.checkFunctionSignature=a,t.findFunction=u,t.walk=s,t.validateLanguageNode=l,t.testValidityOfExpression=c,t.referencesMember=f,t.referencesFunction=function(e,t){var n=!1,r=t.toLowerCase();return s(e,(function(e){return!(n||"CallExpression"===e.type&&"Identifier"===e.callee.type&&e.callee.name&&e.callee.name.toLowerCase()===r&&(n=!0,1))})),n},t.findFieldLiterals=function(e){var t=[];return s(e,(function(e){return"MemberExpression"!==e.type||"Identifier"!==e.object.type||(!1===e.computed&&e.object&&e.object.name&&e.property&&"Identifier"===e.property.type&&e.property.name?t.push(e.object.name.toLowerCase()+"."+e.property.name.toLowerCase()):e.object&&e.object.name&&e.property&&"Literal"===e.property.type&&"string"==typeof e.property.value&&t.push(e.object.name.toLowerCase()+"."+e.property.value.toString().toLowerCase()),!1)})),t},t.extractFunctionDeclaration=p,t.validateFunction=m,t.constructGlobalScope=h,t.validateScript=function(e,n,r,i){void 0===r&&(r="async"),void 0===i&&(i=t.functionDecls);var a={globalScope:h(n.vars,i,n.customFunctions,r),localScope:null};return c(e.body[0].body,a)},t.validateLanguage=function(e){return"BlockStatement"!==e.body[0].body.type?"Invalid formula content.":l(e.body[0].body)},t.nodeErrorMessage=d,t.makeError=y,t.extractAllIssuesInFunction=g,t.extractAllIssues=D,t.checkScript=function(e,n,r,i,a){void 0===i&&(i="async"),void 0===a&&(a=t.functionDecls);var u=[];if("BlockStatement"!==e.body[0].body.type)return[{line:0,character:0,reason:"Invalid Body"}];null==n&&(n={vars:{},customFunctions:[]});var o={globalScope:h(n.vars,a,n.customFunctions,i),localScope:null};try{D(e.body[0].body,o,r,u)}catch(e){}return u},t.findFunctionCalls=v,t.findScriptDependencies=function(e,t){void 0===t&&(t=[]);var n=null;if(void 0===e.usesFeatureSet){null===n&&(n=v(e)),e.usesFeatureSet=!1;for(var a=0;a<n.length;a++)r.indexOf(n[a])>-1&&(e.usesFeatureSet=!0,e.isAsync=!0);if(!1===e.usesFeatureSet&&t&&t.length>0)for(var u=0,o=t;u<o.length;u++)if(f(e,o[u])){e.usesFeatureSet=!0,e.isAsync=!0;break}}if(void 0===e.usesGeometry)for(e.usesGeometry=!1,null===n&&(n=v(e)),a=0;a<n.length;a++)i.indexOf(n[a])>-1&&(e.usesGeometry=!0)},t.scriptUsesFeatureSet=function(e){for(var t=v(e),n=0;n<t.length;n++)if(r.indexOf(t[n])>-1)return!0;return!1}}.apply(null,r))||(e.exports=i)},713:function(e,t,n){var r,i;r=[n.dj.c(e.i),t,n(184)],void 0===(i=function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.convertSquareUnitsToCode=function(e){if(void 0===e)return null;if("number"==typeof e)return e;switch(e.toLowerCase()){case"meters":case"meter":case"m":case"squaremeters":case"squaremeter":case"square-meter":case"square-meters":return 109404;case"miles":case"mile":case"squaremile":case"squaremiles":case"square-miles":case"square-mile":return 109413;case"kilometers":case"kilometer":case"squarekilometers":case"squarekilometer":case"square-kilometers":case"square-kilometer":case"km":return 109414;case"acres":case"acre":case"ac":return 109402;case"hectares":case"hectare":case"ha":return 109401;case"yard":case"yd":case"yards":case"square-yards":case"square-yard":case"squareyards":case"squareyard":return 109442;case"feet":case"ft":case"foot":case"square-feet":case"square-foot":case"squarefeet":case"squarefoot":return 109405}return null},t.shapeExtent=function(e){if(null===e)return null;switch(e.type){case"polygon":case"multipoint":case"polyline":return e.extent;case"point":return new n({xmin:e.x,ymin:e.y,xmax:e.x,ymax:e.y,spatialReference:e.spatialReference});case"extent":return e}return null},t.convertLinearUnitsToCode=function(e){if(void 0===e)return null;if("number"==typeof e)return e;if("number"==typeof e)return e;switch(e.toLowerCase()){case"meters":case"meter":case"m":case"squaremeters":case"squaremeter":case"square-meter":case"square-meters":return 9001;case"miles":case"mile":case"squaremile":case"squaremiles":case"square-miles":case"square-mile":return 9035;case"kilometers":case"kilometer":case"squarekilometers":case"squarekilometer":case"square-kilometers":case"square-kilometer":case"km":return 9036;case"yard":case"yd":case"yards":case"square-yards":case"square-yard":case"squareyards":case"squareyard":return 9096;case"feet":case"ft":case"foot":case"square-feet":case"square-foot":case"squarefeet":case"squarefoot":return 9002}return null},t.sameGeomType=function(e,t){return e===t||"point"===e&&"esriGeometryPoint"===t||"polyline"===e&&"esriGeometryPolyline"===t||"polygon"===e&&"esriGeometryPolygon"===t||"extent"===e&&"esriGeometryEnvelope"===t||"multipoint"===e&&"esriGeometryMultipoint"===t||"point"===t&&"esriGeometryPoint"===e||"polyline"===t&&"esriGeometryPolyline"===e||"polygon"===t&&"esriGeometryPolygon"===e||"extent"===t&&"esriGeometryEnvelope"===e||"multipoint"===t&&"esriGeometryMultipoint"===e},t.cloneGeometry=function(e){if(null===e)return null;var t=e.clone();return void 0!==e.cache._geVersion&&(t.cache._geVersion=e.cache._geVersion),t}}.apply(null,r))||(e.exports=i)},831:function(e,t,n){var r,i;r=[n.dj.c(e.i),t,n(117),n(711),n(607)],void 0===(i=function(e,t,n,r,i){return function(e){function t(t,n,r,i,a){var u=e.call(this,t)||this;return u._lazyPath=[],u._hasZ=!1,u._hasM=!1,u._hasZ=r,u._hasM=i,u._spRef=n,u._cacheId=a,u}return n.__extends(t,e),t.prototype.get=function(e){if(void 0===this._lazyPath[e]){var t=this._elements[e];if(void 0===t)return;this._lazyPath[e]=new i(t,this._spRef,this._hasZ,this._hasM,this._cacheId,e)}return this._lazyPath[e]},t.prototype.equalityTest=function(e){return e===this||null!==e&&e instanceof t!=0&&e.getUniqueHash()===this.getUniqueHash()},t.prototype.getUniqueHash=function(){return this._cacheId.toString()},t}(r)}.apply(null,r))||(e.exports=i)},832:function(e,t,n){var r,i;r=[n.dj.c(e.i),t,n(117),n(229),n(517)],void 0===(i=function(e,t,n,r,i){Object.defineProperty(t,"__esModule",{value:!0});var a={ar:[".",","],bs:[",","."],ca:[",","."],cs:[","," "],da:[",","."],de:[",","."],"de-ch":[".","’"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[","," "],fi:[","," "],fr:[","," "],"fr-ch":[","," "],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[","," "],id:[",","."],it:[",","."],"it-ch":[".","’"],ja:[".",","],ko:[".",","],lt:[","," "],lv:[","," "],mk:[",","."],nb:[","," "],nl:[",","."],pl:[","," "],pt:[",","."],"pt-pt":[","," "],ro:[",","."],ru:[","," "],sk:[","," "],sl:[",","."],sr:[",","."],sv:[","," "],th:[".",","],tr:[",","."],uk:[","," "],vi:[",","."],zh:[".",","]};function u(e){e||(e=i.getLocale());var t=e in a;if(!t){var n=e.split("-");n.length>1&&n[0]in a&&(e=n[0],t=!0),t||(e="en")}var r=a[e],u=r[0],o=r[1],s=r[2];return{decimal:u,group:o,pattern:void 0===s?"#,##0.###":s}}t.getCustoms=u,t.format=function(e,t){var i=u((t=n.__assign({},t)).locale);t.customs=i;var a=t.pattern||i.pattern;return isNaN(e)||Math.abs(e)===1/0?null:function(e,t,n){var i=(n=n||{}).customs.group,a=n.customs.decimal,u=t.split(";"),s=u[0];if(-1!==(t=u[e<0?1:0]||"-"+s).indexOf("%"))e*=100;else if(-1!==t.indexOf("‰"))e*=1e3;else{if(-1!==t.indexOf("¤"))throw new Error("currency notation not supported");if(-1!==t.indexOf("E"))throw new Error("exponential notation not supported")}var l=o,c=s.match(l);if(!c)throw new Error("unable to find a number expression in pattern: "+t);return!1===n.fractional&&(n.places=0),t.replace(l,function(e,t,n){!0===(n=n||{}).places&&(n.places=0),n.places===1/0&&(n.places=6);var i=t.split("."),a="string"==typeof n.places&&n.places.indexOf(","),u=n.places;a?u=n.places.substring(a+1):u>=0||(u=(i[1]||[]).length),n.round<0||(e=Number(e.toFixed(Number(u))));var o=String(Math.abs(e)).split("."),s=o[1]||"";if(i[1]||n.places){a&&(n.places=n.places.substring(0,a));var l=void 0!==n.places?n.places:i[1]&&i[1].lastIndexOf("0")+1;l>s.length&&(o[1]=r.padEnd(s,Number(l),"0")),u<s.length&&(o[1]=s.substr(0,Number(u)))}else o[1]&&o.pop();var c=i[0].replace(",",""),f=c.indexOf("0");-1!==f&&((f=c.length-f)>o[0].length&&(o[0]=r.padStart(o[0],f,"0")),-1===c.indexOf("#")&&(o[0]=o[0].substr(o[0].length-f)));var p,m,h=i[0].lastIndexOf(",");if(-1!==h){p=i[0].length-h-1;var d=i[0].substr(0,h);-1!==(h=d.lastIndexOf(","))&&(m=d.length-h-1)}for(var y=[],g=o[0];g;){var D=g.length-p;y.push(D>0?g.substr(D):g),g=D>0?g.slice(0,D):"",m&&(p=m,m=void 0)}return o[0]=y.reverse().join(n.group||","),o.join(n.decimal||".")}(e,c[0],{decimal:a,group:i,places:n.places,round:n.round}))}(e,a,t)};var o=/[#0,]*[#0](?:\.0*#*)?/;function s(e){var t=u((e=e||{}).locale),n=e.pattern||t.pattern,i=t.group,a=t.decimal,s=1;if(-1!==n.indexOf("%"))s/=100;else if(-1!==n.indexOf("‰"))s/=1e3;else if(-1!==n.indexOf("¤"))throw new Error("currency notation not supported");var f=n.split(";");return 1===f.length&&f.push("-"+f[0]),{regexp:c(f,(function(t){return(t="(?:"+r.escapeRegExpString(t,".")+")").replace(o,(function(t){var n={signed:!1,separator:e.strict?i:[i,""],fractional:e.fractional,decimal:a,exponent:!1},r=t.split("."),u=e.places;1===r.length&&1!==s&&(r[1]="###"),1===r.length||0===u?n.fractional=!1:(void 0===u&&(u=e.pattern?r[1].lastIndexOf("0")+1:1/0),u&&null==e.fractional&&(n.fractional=!0),!e.places&&u<r[1].length&&(u+=","+r[1].length),n.places=u);var o=r[0].split(",");return o.length>1&&(n.groupSize=o.pop().length,o.length>1&&(n.groupSize2=o.pop().length)),"("+function(e){"places"in(e=e||{})||(e.places=1/0),"string"!=typeof e.decimal&&(e.decimal="."),"fractional"in e&&!/^0/.test(String(e.places))||(e.fractional=[!0,!1]),"exponent"in e||(e.exponent=[!0,!1]),"eSigned"in e||(e.eSigned=[!0,!1]);var t=l(e),n=c(e.fractional,(function(t){var n="";return t&&0!==e.places&&(n="\\"+e.decimal,e.places===1/0?n="(?:"+n+"\\d+)?":n+="\\d{"+e.places+"}"),n}),!0),r=t+n;return n&&(r="(?:(?:"+r+")|(?:"+n+"))"),r+c(e.exponent,(function(t){return t?"([eE]"+l({signed:e.eSigned})+")":""}))}(n)+")"}))}),!0).replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:i,decimal:a,factor:s}}function l(e){return"signed"in(e=e||{})||(e.signed=[!0,!1]),"separator"in e?"groupSize"in e||(e.groupSize=3):e.separator="",c(e.signed,(function(e){return e?"[-+]":""}),!0)+c(e.separator,(function(t){if(!t)return"(?:\\d+)";" "===(t=r.escapeRegExpString(t))?t="\\s":" "===t&&(t="\\s\\xa0");var n=e.groupSize,i=e.groupSize2;if(i){var a="(?:0|[1-9]\\d{0,"+(i-1)+"}(?:["+t+"]\\d{"+i+"})*["+t+"]\\d{"+n+"})";return n-i>0?"(?:"+a+"|(?:0|[1-9]\\d{0,"+(n-1)+"}))":a}return"(?:0|[1-9]\\d{0,"+(n-1)+"}(?:["+t+"]\\d{"+n+"})*)"}),!0)}t.regexp=function(e){return s(e).regexp},t._parseInfo=s,t.parse=function(e,t){var n=s(t),r=new RegExp("^"+n.regexp+"$").exec(e);if(!r)return NaN;var i=r[1];if(!r[1]){if(!r[2])return NaN;i=r[2],n.factor*=-1}return i=i.replace(new RegExp("["+n.group+"\\s\\xa0]","g"),"").replace(n.decimal,"."),Number(i)*n.factor};var c=function(e,t,n){if(!(e instanceof Array))return t(e);for(var r=[],i=0;i<e.length;i++)r.push(t(e[i]));return f(r.join("|"),n)},f=function(e,t){return"("+(t?"?:":"")+e+")"}}.apply(null,r))||(e.exports=i)},833:function(e,t,n){var r,i;r=[n.dj.c(e.i),t,n(117),n(379)],void 0===(i=function(e,t,n,r){return function(e){function t(t,n,r,i,a){var u=e.call(this)||this;return u.attachmentUrl=a,u.immutable=!1,u.setField("id",t),u.setField("name",n),u.setField("contenttype",r),u.setField("size",i),u.immutable=!0,u}return n.__extends(t,e),t}(r)}.apply(null,r))||(e.exports=i)},834:function(e,t,n){var r,i;r=[n.dj.c(e.i),t,n(202),n(479)],void 0===(i=function(e,t,n,r){function i(e,t,n){var r={x:0,y:0};t&&(r.z=0),n&&(r.m=0);for(var i=0,u=e[0],l=0;l<e.length;l++){var c=e[l];if(!1===s(c,u)){var f=o(u,c,t),p=a(u,c,t,n);p.x*=f,p.y*=f,r.x+=p.x,r.y+=p.y,t&&(p.z*=f,r.z+=p.z),n&&(p.m*=f,r.m+=p.m),i+=f,u=c}}return i>0?(r.x/=i,r.y/=i,t&&(r.z/=i),n&&(r.m/=i)):(r.x=e[0][0],r.y=e[0][1],t&&(r.z=e[0][2]),n&&t?r.m=e[0][3]:n&&(r.m=e[0][2])),r}function a(e,t,n,r){var i={x:(e[0]+t[0])/2,y:(e[1]+t[1])/2};return n&&(i.z=(e[2]+t[2])/2),n&&r?i.m=(e[3]+t[3])/2:r&&(i.m=(e[2]+t[2])/2),i}function u(e,t){if(e.length<=1)return 0;for(var n=0,r=1;r<e.length;r++)n+=o(e[r-1],e[r],t);return n}function o(e,t,n){var r=t[0]-e[0],i=t[1]-e[1];if(n){var a=t[2]-t[2];return Math.sqrt(r*r+i*i+a*a)}return Math.sqrt(r*r+i*i)}function s(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function l(e,t,n){for(void 0===n&&(n=0);e<n;)e+=t;for(var r=n+t;e>=r;)e-=t;return e}function c(e,t){return Math.atan2(t.y-e.y,t.x-e.x)}function f(e,t,n){var r,i,a={x:e.x-t.x,y:e.y-t.y},u={x:n.x-t.x,y:n.y-t.y};return Math.atan2((r=u).x*(i=a).y-i.x*r.y,function(e,t){return e.x*t.x+e.y*t.y}(u,a))}Object.defineProperty(t,"__esModule",{value:!0}),t.centroidPolyline=function(e){for(var t={x:0,y:0,spatialReference:e.spatialReference.toJSON()},r={x:0,y:0,spatialReference:e.spatialReference.toJSON()},a=0,o=0,s=0;s<e.paths.length;s++)if(0!==e.paths[s].length){var l=u(e.paths[s],!0===e.hasZ);if(0===l){var c=i(e.paths[s],!0===e.hasZ,!0===e.hasM);t.x+=c.x,t.y+=c.y,!0===e.hasZ&&(t.z+=c.z),!0===e.hasM&&(t.m+=c.m),++a}else c=i(e.paths[s],!0===e.hasZ,!0===e.hasM),r.x+=c.x*l,r.y+=c.y*l,!0===e.hasZ&&(r.z+=c.z*l),!0===e.hasM&&(r.m+=c.m*l),o+=l}return o>0?(r.x/=o,r.y/=o,!0===e.hasZ&&(r.z/=o),!0===e.hasM&&(r.m/=o),new n(r)):a>0?(t.x/=a,t.y/=a,!0===e.hasZ&&(r.z/=a),!0===e.hasM&&(t.m/=a),new n(t)):null},t.centroidMultiPoint=function(e){if(0===e.points.length)return null;for(var t=0,r=0,i=0,a=0,u=0;u<e.points.length;u++){var o=e.getPoint(u);!0===o.hasZ&&(i+=o.z),!0===o.hasM&&(a+=o.m),t+=o.x,r+=o.y,a+=o.m}var s={x:t/e.points.length,y:r/e.points.length,spatialReference:null};return s.spatialReference=e.spatialReference.toJSON(),!0===e.hasZ&&(s.z=i/e.points.length),!0===e.hasM&&(s.m=a/e.points.length),new n(s)},t.angleRad=c,t.angle2D=function(e,t){return l(c(e,t),2*Math.PI)*(180/Math.PI)},t.bearing2D=function(e,t){return l(Math.PI/2-c(e,t),2*Math.PI)*(180/Math.PI)},t.angleBetweenRad=f,t.angleBetween2D=function(e,t,n){return l(f(e,t,n),2*Math.PI)*(180/Math.PI)},t.bearingBetween2D=function(e,t,n){return l(-1*f(e,t,n),2*Math.PI)*(180/Math.PI)};var p=[0,0];t.pathsSelfIntersecting=function(e){for(var t=0;t<e.length;t++){for(var n=e[t],i=0;i<n.length-1;i++)for(var a=n[i],u=n[i+1],o=t+1;o<e.length;o++)for(var s=0;s<e[o].length-1;s++){var l=e[o][s],c=e[o][s+1];if(r.segmentIntersects(a,u,l,c,p)&&!(p[0]===a[0]&&p[1]===a[1]||p[0]===l[0]&&p[1]===l[1]||p[0]===u[0]&&p[1]===u[1]||p[0]===c[0]&&p[1]===c[1]))return!0}var f=n.length;if(!(f<3))for(i=0;i<=f-2;i++)for(a=n[i],u=n[i+1],o=i+2;o<=f-2;o++)if(l=n[o],c=n[o+1],r.segmentIntersects(a,u,l,c,p)&&!(p[0]===a[0]&&p[1]===a[1]||p[0]===l[0]&&p[1]===l[1]||p[0]===u[0]&&p[1]===u[1]||p[0]===c[0]&&p[1]===c[1]))return!0}return!1}}.apply(null,r))||(e.exports=i)}}]);
//# sourceMappingURL=17.js.map