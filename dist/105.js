(function(){var e={},t=this||window,n=t.webpackJsonp=t.webpackJsonp||[];n.registerAbsMids?n.registerAbsMids(e):(n.absMidsWaiting=n.absMidsWaiting||[]).push(e)})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[105],{1008:function(e,t,n){"use strict";n.r(t);var o=n(10),a=n.n(o)()(!0);a.push([e.i,".japan-popup .header{display:flex;justify-content:space-between}.japan-popup .header h3{display:inline}\n","",{version:3,sources:["webpack://src/components/chapters/japan_olympics/popupTemplate.scss"],names:[],mappings:"AAAA,qBAEM,YAAa,CACb,6BAA8B,CAHpC,wBAMS,cAAe",sourcesContent:[".japan-popup {\n   .header {\n      display: flex;\n      justify-content: space-between;\n\n      h3 {\n         display: inline;\n      }\n      \n   }\n}"],sourceRoot:""}]),t.default=a},181:function(e,t,n){"use strict";n.r(t);var o=n(10),a=n.n(o)()(!0);a.push([e.i,".esri-scroll-zoom-toggle{padding:0.7em 1.5em}.esri-scroll-zoom-toggle--inner-wrapper{display:flex;flex-direction:row;align-items:center;cursor:pointer}.esri-scroll-zoom-toggle--input-checkbox{margin-left:1em;margin-bottom:6px;cursor:pointer}\n","",{version:3,sources:["webpack://src/components/mapcomponents/ScrollZoom.scss"],names:[],mappings:"AAAA,yBACC,mBAAoB,CACpB,wCAGA,YAAa,CACb,kBAAmB,CACnB,kBAAmB,CACnB,cAAe,CACf,yCAGA,eAAgB,CAChB,iBAAkB,CAClB,cAAe",sourcesContent:[".esri-scroll-zoom-toggle {\n\tpadding: 0.7em 1.5em;\n}\n\n.esri-scroll-zoom-toggle--inner-wrapper {\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: center;\n\tcursor: pointer;\n}\n\n.esri-scroll-zoom-toggle--input-checkbox {\n\tmargin-left: 1em;\n\tmargin-bottom: 6px;\n\tcursor: pointer;\n}\n"],sourceRoot:""}]),t.default=a},1987:function(e,t,n){var o=n(99),a=n(1008);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1},i=o(a,r);if(!a.locals||e.hot.invalidate){var l=a.locals;e.hot.accept(1008,(function(){"string"==typeof(a=(a=n(1008)).__esModule?a.default:a)&&(a=[[e.i,a,""]]),function(e,t,n){if(!e&&t||e&&!t)return!1;var o;for(o in e)if((!n||"default"!==o)&&e[o]!==t[o])return!1;for(o in t)if(!(n&&"default"===o||e[o]))return!1;return!0}(l,a.locals)?(l=a.locals,i(a)):e.hot.invalidate()}))}e.hot.dispose((function(){i()})),e.exports=a.locals||{}},212:function(e,t,n){var o=n(99),a=n(181);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1},i=o(a,r);if(!a.locals||e.hot.invalidate){var l=a.locals;e.hot.accept(181,(function(){"string"==typeof(a=(a=n(181)).__esModule?a.default:a)&&(a=[[e.i,a,""]]),function(e,t,n){if(!e&&t||e&&!t)return!1;var o;for(o in e)if((!n||"default"!==o)&&e[o]!==t[o])return!1;for(o in t)if(!(n&&"default"===o||e[o]))return!1;return!0}(l,a.locals)?(l=a.locals,i(a)):e.hot.invalidate()}))}e.hot.dispose((function(){i()})),e.exports=a.locals||{}},213:function(e,t,n){"use strict";var o=n(2),a=n.n(o),r=n(3),i=n(108),l=n.n(i),s=n(6),c=n(5),p=n(284),u=n.n(p),m=n(275),d=n.n(m),f=n(266),h=n.n(f),y=n(287),g=n.n(y),b=n(278),v=n.n(b),w=n(157),A=n(188),O=n.n(A),k=n(151),x=n(183);n(212);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var T,C,j,_=(T=function(e,t){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}T(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),S=function(e,t,n,o){var a,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":E(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(r<3?a(i):r>3?a(t,n,i):a(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i},M="esri-widget esri-scroll-zoom-toggle",B="esri-scroll-zoom-toggle--inner-wrapper",R="esri-scroll-zoom-toggle--input-checkbox",P=function(e){function t(t){var n=e.call(this,t)||this;return n.enabled=!1,n._toggleZoomOnScroll=function(){n.enabled=!n.enabled,n.enabled?(n.view.navigation.mouseWheelZoomEnabled=!0,n.view.navigation.browserTouchPanEnabled=!0):(n.view.navigation.mouseWheelZoomEnabled=!1,n.view.navigation.browserTouchPanEnabled=!1),console.log(n)},n}return _(t,e),t.prototype.render=function(){return Object(x.tsx)("div",{class:M},Object(x.tsx)("div",{class:B,onclick:this._toggleZoomOnScroll},Object(x.tsx)("div",null,"Enable Scroll Zoom"),Object(x.tsx)("input",{type:"checkbox",class:R,checked:this.enabled})))},S([Object(k.property)(),Object(x.renderable)()],t.prototype,"enabled",void 0),t=S([Object(k.subclass)("esri.widgets.ScrollZoom")],t)}(O.a),F=function(){return(F=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},W=function(e){var t=e.metadata,n=e.sources,r=e.customFeatures,i=e.customFeaturesPerPage,l=e.customMapDOM,s=e.pageRefs,p=e.currentPage,m=e.mapState,f=m.basemap,y=m.layers,b=m.position,A=m.customBehavior,O=Object(o.useRef)(null),k=Object(o.useState)(null),x=k[0],E=k[1],T=Object(o.useState)(!0),C=T[0],j=T[1],_=Object(o.useState)(null),S=_[0],M=_[1];return Object(o.useEffect)((function(){var e=new d.a({basemap:f||null,layers:y}),o=F(F({container:O.current,map:e},b),{navigation:{mouseWheelZoomEnabled:!1,browserTouchPanEnabled:!1}}),i=t.sceneview?new g.a(o):new h.a(o);(i.on("click",(function(e){console.log("view",i),console.log("extent",i.extent),console.log("mappoint",e.mapPoint)})),E({map:e,view:i}),t.fullWidthMap&&!t.sceneview)&&(document.querySelector("#"+t.name+" .esri-ui-top-left").style.left="calc(30% - 10px)");if(t.fullWidthMap&&t.sceneview){var l=document.querySelector("#"+t.name+' div[class^="SideCar"]');l.style.left="40px",l.style.width="500px",l.style.transition="all 0.5s";var s=new v.a({view:i,expandIconClass:"esri-icon-question",expandTooltip:"Information",expanded:!0});i.ui.add([{component:s,position:"top-left",index:0}]),s.container.addEventListener("click",(function(){s.expanded?(l.style.left="40px",l.style.opacity="1",l.style.pointerEvents="auto",l.style.transition="all 0.5s"):(l.style.left="35px",l.style.opacity="0",l.style.pointerEvents="none",l.style.transition="none")}));var p=new P({view:i});i.ui.add(p,"top-right")}document.createElement("div").innerHTML="Data sources here";var m=new v.a({view:i,expandIconClass:"clipboard-icon",expandTooltip:"Data Sources",collapseTooltip:"Close",content:u.a.renderToStaticMarkup(a.a.createElement(c.a,{sources:n,theme:t.theme}))});i.ui.add(m,"bottom-right"),t.disableSpinnerAfterInitialLoad?w.whenTrueOnce(i,"updating",(function(){j(!0)})):w.whenTrue(i,"updating",(function(){j(!0)})),w.whenFalse(i,"updating",(function(){j(!1)})),r&&r({map:e,view:i,layers:y})}),[]),Object(o.useEffect)((function(){x&&(x.map.layers=y)}),[y]),Object(o.useEffect)((function(){x&&(x.map.basemap=f)}),[f,x]),Object(o.useEffect)((function(){x&&b&&x.view.goTo({target:b.center,zoom:b.zoom},{duration:1e3})}),[b]),Object(o.useEffect)((function(){if(x)if(A){var e=x.map,t=x.view;S&&S();var n=A({map:e,view:t});M((function(){return n}))}else S&&S()}),[A,x]),Object(o.useEffect)((function(){if(x&&i){var e=x.view,t=x.map,n=i({map:t,view:e,layers:y,pageRefs:s,currentPage:p});if(n)return n}}),[x,p,i]),a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"arcgis-map "+t.name,ref:O}),l&&x&&l(x),C&&a.a.createElement(c.c,null))},N=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},z=r.b.section.withConfig({displayName:"ChapterTemplate__Wrapper",componentId:"sc-1cxnsi8-0"})(C||(C=N(["\n\twidth: 100%;\n\theight: ",";\n\tmin-height: 500px;\n\tposition: relative;\n\tdisplay: flex;\n\tflex-direction: row;\n\tbackground-color: ",";\n\t/* scroll-snap-stop: always;\n\tscroll-snap-align: start; */\n"],["\n\twidth: 100%;\n\theight: ",";\n\tmin-height: 500px;\n\tposition: relative;\n\tdisplay: flex;\n\tflex-direction: row;\n\tbackground-color: ",";\n\t/* scroll-snap-stop: always;\n\tscroll-snap-align: start; */\n"])),(function(e){return e.height||100*e.screensTall+"vh"||"auto"}),(function(e){return"light"===e.maptheme?"":"#242424"})),D=r.b.div.withConfig({displayName:"ChapterTemplate__Trigger",componentId:"sc-1cxnsi8-1"})(j||(j=N(["\n\tposition: absolute;\n\ttop: 0px;\n\tleft: 0px;\n\theight: 3px;\n\twidth: 3px;\n\tpointer-events: none;\n"],["\n\tposition: absolute;\n\ttop: 0px;\n\tleft: 0px;\n\theight: 3px;\n\twidth: 3px;\n\tpointer-events: none;\n"])));t.a=function(e){e.customMap;var t=e.data,n=t.metadata,r=t.sources,i=t.customFeatures,p=t.customFeaturesPerPage,u=t.customMapDOM,m=t.customChapterDOM,d=t.pages,f=Object(o.useState)(0),h=f[0],y=f[1],g=Object(o.useContext)(s.a).dispatch,b={};return Object(o.useMemo)((function(){return a.a.createElement(z,{maptheme:n.theme,id:n.name,screensTall:d.length>1?d.length:1},a.a.createElement(c.i,{floating:n.fullWidthMap},d.map((function(e,t){return a.a.createElement(c.d,{floating:n.fullWidthMap,ref:function(e){return b[t]=e},key:n.name+"-page-"+t},a.a.createElement(c.e,{theme:n.theme,floating:n.fullWidthMap},a.a.createElement(c.g,null,e.title),a.a.createElement(c.f,{floating:n.fullWidthMap},e.content)),a.a.createElement(l.a,{onChange:function(e){e&&(g({type:"SET_NAV",payload:n.name}),y(t))}},(function(e){e.isVisible;return a.a.createElement(D,null)})))}))),a.a.createElement(l.a,{partialVisibility:!0},(function(e){var t=e.isVisible;return a.a.createElement(c.b,{fullWidth:n.fullWidthMap,className:"arcgis-map-"+n.theme},t&&a.a.createElement(W,{mapState:d[h].mapState,customFeatures:i,customFeaturesPerPage:p,customMapDOM:u,metadata:n,sources:r,pageRefs:b,currentPage:h}))})),m&&m)}),[h])}},2298:function(e,t,n){"use strict";n.r(t);var o=n(2),a=n.n(o),r=n(5),i=n(222),l=n.n(i),s=n(757),c=n.n(s),p={symbol:{angle:0,contentType:"image/png",height:18.75,width:18.75,type:"picture-marker",url:"https://static.arcgis.com/images/Symbols/Firefly/FireflyC20.png",xoffset:0,yoffset:0},type:"simple"},u=(n(1987),{content:'\n      <div class="japan-popup">\n         <div class="header">\n            <h3>Stop {Order_of_torch_arrival}: {Prefectures_or_other_location}</h3>\n            <h3>{Date}</h3>\n         </div>\n         <img src="{Flag}" />\n      </div>\n   '}),m=new l.a({url:"https://services6.arcgis.com/VqchQRhgtql2vsmO/arcgis/rest/services/Tokyo_Olympics_Torch_Relay_Schedule_2021/FeatureServer",renderer:p,outFields:["*"],popupTemplate:u}),d={metadata:{name:"japan_olympics",theme:"dark",fullWidthMap:!1},sources:[{name:"Tokyo 2020 Torch Relay",url:"https://www.arcgis.com/home/item.html?id=efbb7d441be4424abb8a2aacd57bc11e"},{name:"Tokyo 2020 Torch Relay Animation Web App",url:"https://www.arcgis.com/home/item.html?id=b8b328c72ce643f7a4a9ccb352713e44"}],pages:[{title:"Olympics 2020: Japan Torch Relay",content:a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,"It's been a bad year, but hope springs eternal. There is no display of human spirit and global camaraderie quite like the Olympics. That was disrupted this year, but only temporarily."),a.a.createElement("p",null,"Aside from during wartime, the Olympics have never been cancelled or postponed - until 2020. Japan's Prime Minister"," ",a.a.createElement(r.h,{theme:"dark",link:"https://www.espn.com/olympics/story/_/id/28946033/tokyo-olympics-officially-postponed-2021",linkTitle:'"Tokyo 2020 Olympics officially postponed until 2021", Cohen K., ESPN News, March 24, 2020, Retrieved November 25, 2020'},"announced in March")," ","that the legendary games would be postponed. Likewise, the traditional"," ",a.a.createElement(r.h,{theme:"dark",link:"https://www.olympic.org/olympic-torch-relay",linkTitle:'"THE OLYMPIC TORCH RELAY", olympic.org, Retrieved NOvember 25, 2020'},"torch relay")," ","would also be delayed. The"," ",a.a.createElement(r.h,{theme:"dark",link:"https://tokyo2020.org/en/torch/route/",linkTitle:'"Route of the Tokyo 2020 Olympic Torch Relay", tokyo2020.com, Retrieved November 25, 2020'},"new schedule")," ","was"," ",a.a.createElement(r.h,{theme:"dark",link:"https://tokyo2020.org/en/torch/news/news-20200326-01-en",linkTitle:'"Revised Outline of Tokyo 2020 Olympic Torch Relay Announced", tokyo2020.com, September 28, 2020, Retrieved November 25, 2020'},"announced")," ","in September, spanning 121 days."),a.a.createElement("p",null,a.a.createElement("em",{className:"action"},"Click the play button")," below to watch the torch travel its prospective path."," ",a.a.createElement("em",{className:"action"},"Click a checkpoint")," for more details.")),mapState:{position:{center:[138,36],zoom:4},basemap:"dark-gray-vector",layers:[m]}}],customFeatures:function(e){var t,n=e.view,o=(e.layers,e.map);n.whenLayerView(m).then((function(e){m.queryFeatures().then((function(e){console.log("results before filter",e),t=e.features.map((function(t){var n=new l.a({objectIdField:"OBJECTID",source:[t],fields:e.fields,popupTemplate:u,outFields:["*"],opacity:0,renderer:p});return o.add(n),{time:t.attributes.Time,onmap:!1,shouldBeAdded:!1,layer:n}}))})),e.filter={where:"Time <= 'nope'"}}));var a=new c.a({container:"timeSlider",playRate:250,mode:"cumulative-from-start",loop:!1,fullTimeExtent:{start:new Date(2021,2,24),end:new Date(2021,6,25)},stops:{interval:{value:1,unit:"days"}},tickConfigs:[{mode:"count",values:5,labelsVisible:!0,labelFormatFunction:function(e){return new Date(e).toLocaleString("default",{month:"short"})}}]});n.ui.add(a,"bottom-right"),a.watch("timeExtent",(function(e){var n=e.end.getTime();t.forEach((function(e){var t,o,a;e.time<=n?e.shouldBeAdded=!0:e.shouldBeAdded=!1,!e.onmap&&e.shouldBeAdded&&(t=e.layer,o=!0,a=0,t.opacity=a,requestAnimationFrame((function e(){a>=1&&o?o=!1:(a+=.05,t.opacity=a,requestAnimationFrame(e))})),e.onmap=!0),e.onmap&&!e.shouldBeAdded&&(e.layer.opacity=0,e.onmap=!1)}))}))}},f=n(213);t.default=function(){return a.a.createElement(f.a,{data:d})}}}]);
//# sourceMappingURL=105.js.map