(function(){var e={"esri/tasks/support/FeatureSet":187,"esri/core/pbf":268,"esri/widgets/Feature/support/featureUtils":332,"esri/widgets/Attachments/AttachmentsViewModel":699,"esri/widgets/Feature/FeatureContent/FeatureContentViewModel":700,"esri/widgets/Feature/FeatureFields/FeatureFieldsViewModel":701,"esri/widgets/Feature":996,"esri/widgets/Attachments":997,"esri/core/unitFormatUtils":998,"esri/widgets/Attachments/support/attachmentUtils":999,"esri/widgets/Feature/FeatureContent":1e3,"esri/widgets/Feature/FeatureFields":1001,"esri/widgets/support/uriUtils":1002,"esri/widgets/Feature/FeatureViewModel":1003,"esri/widgets/Feature/support/RelatedFeatures":1004,"esri/widgets/support/chartUtils":1005},t=this||window,r=t.webpackJsonp=t.webpackJsonp||[];r.registerAbsMids?r.registerAbsMids(e):(r.absMidsWaiting=r.absMidsWaiting||[]).push(e)})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[46,32,52,188],{1e3:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(117),r(180),r(151),r(188),r(700),r(332),r(183)],void 0===(i=function(e,t,r,n,i,a,o,s,l){return function(e){function t(t,r){var i=e.call(this,t,r)||this;return i.creator=null,i.graphic=null,i.viewModel=null,i._addTargetToAnchors=function(e){n.from(e.querySelectorAll("a")).forEach((function(e){s.shouldOpenInNewTab(e.href)&&!e.hasAttribute("target")&&e.setAttribute("target","_blank")}))},i}return r.__extends(t,e),t.prototype.renderLoading=function(){return l.tsx("div",{class:"esri-feature-content__loader-container",key:"loader"},l.tsx("div",{class:"esri-feature-content__loader"}))},t.prototype.renderCreated=function(){var e,t=null===(e=this.viewModel)||void 0===e?void 0:e.created;return t?t instanceof HTMLElement?l.tsx("div",{key:t,bind:t,afterCreate:this._attachToNode}):l.isWidget(t)?l.tsx("div",{key:t},!t.destroyed&&t.render()):l.tsx("div",{key:t,innerHTML:t,afterCreate:this._addTargetToAnchors}):null},t.prototype.render=function(){var e,t=null===(e=this.viewModel)||void 0===e?void 0:e.state;return l.tsx("div",{class:"esri-feature-content"},"loading"===t?this.renderLoading():this.renderCreated())},t.prototype._attachToNode=function(e){e.appendChild(this)},r.__decorate([i.aliasOf("viewModel.creator")],t.prototype,"creator",void 0),r.__decorate([i.aliasOf("viewModel.graphic")],t.prototype,"graphic",void 0),r.__decorate([l.renderable(["viewModel.created","viewModel.state"]),i.property({type:o})],t.prototype,"viewModel",void 0),r.__decorate([i.subclass("esri.widgets.Feature.FeatureContent")],t)}(a)}.apply(null,n))||(e.exports=i)},1001:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(117),r(151),r(188),r(701),r(1002),r(183)],void 0===(i=function(e,t,r,n,i,a,o,s){return function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.attributes=null,n.expressionInfos=null,n.fieldInfos=null,n.viewModel=new a,n.messages=null,n.messagesURIUtils=null,n}return r.__extends(t,e),t.prototype.renderFieldInfo=function(e,t){var r,n=this.viewModel.attributes,i=e.fieldName,a=e.label||i,l=n?null==n[i]?"":n[i]:"",u=!(!e.format||!e.format.dateFormat),c="number"!=typeof l||u?o.autoLink(this.messagesURIUtils,l):this._forceLTR(l),d=((r={})["esri-feature-fields__field-data--date"]=u,r);return s.tsx("tr",{key:"fields-element-info-row-"+i+"-"+t},s.tsx("th",{key:"fields-element-info-row-header-"+i+"-"+t,class:"esri-feature-fields__field-header",innerHTML:a}),s.tsx("td",{key:"fields-element-info-row-data-"+i+"-"+t,class:this.classes("esri-feature-fields__field-data",d),innerHTML:c}))},t.prototype.renderFields=function(){var e=this,t=this.viewModel.formattedFieldInfos;return t.length?s.tsx("table",{class:"esri-widget__table",summary:this.messages.fieldsSummary},s.tsx("tbody",null,t.map((function(t,r){return e.renderFieldInfo(t,r)})))):null},t.prototype.render=function(){return s.tsx("div",{class:"esri-feature-fields"},this.renderFields())},t.prototype._forceLTR=function(e){return"&lrm;"+e},r.__decorate([n.aliasOf("viewModel.attributes")],t.prototype,"attributes",void 0),r.__decorate([n.aliasOf("viewModel.expressionInfos")],t.prototype,"expressionInfos",void 0),r.__decorate([n.aliasOf("viewModel.fieldInfos")],t.prototype,"fieldInfos",void 0),r.__decorate([n.property({type:a}),s.renderable(["viewModel.attributes","viewModel.formattedFieldInfos"])],t.prototype,"viewModel",void 0),r.__decorate([n.property(),s.renderable(),s.messageBundle("esri/widgets/Feature/t9n/Feature")],t.prototype,"messages",void 0),r.__decorate([n.property(),s.renderable(),s.messageBundle("esri/widgets/support/t9n/uriUtils")],t.prototype,"messagesURIUtils",void 0),r.__decorate([n.subclass("esri.widgets.Feature.FeatureFields")],t)}(i)}.apply(null,n))||(e.exports=i)},1002:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(229)],void 0===(i=function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=[{pattern:/^\s*(https?:\/\/([^\s]+))\s*$/i,target:"_blank",label:"{messages.view}"},{pattern:/^\s*(tel:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(mailto:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(arcgis-appstudio-player:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"App Studio Player"},{pattern:/^\s*(arcgis-collector:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Collector"},{pattern:/^\s*(arcgis-explorer:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Explorer"},{pattern:/^\s*(arcgis-navigator:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Navigator"},{pattern:/^\s*(arcgis-survey123:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Survey123"},{pattern:/^\s*(arcgis-trek2there:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Trek2There"},{pattern:/^\s*(arcgis-workforce:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Workforce"},{pattern:/^\s*(iform:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"iForm"},{pattern:/^\s*(flow:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"FlowFinity"},{pattern:/^\s*(lfmobile:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Laserfische"},{pattern:/^\s*(mspbi:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Microsoft Power Bi"}];t.autoLink=function(e,t){if("string"!=typeof t||!t)return t;var i=function(e){var t=null;return n.some((function(r){return r.pattern.test(e)&&(t=r),!!t})),t}(t);if(!i)return t;var a=t.match(i.pattern),o=a&&a[2],s=r.replace(r.replace(i.label,{messages:e,hierPart:o}),{appName:i.appName}),l=i.target?' target="'+i.target+'"':"",u="_blank"===i.target?' rel="noreferrer"':"";return t.replace(i.pattern,"<a"+l+' href="$1"'+u+">"+s+"</a>")}}.apply(null,n))||(e.exports=i)},1003:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(117),r(174),r(258),r(154),r(167),r(118),r(156),r(153),r(229),r(516),r(157),r(151),r(366),r(477),r(191),r(519),r(768),r(865),r(763),r(699),r(700),r(701),r(332),r(1004),r(161)],void 0===(i=function(e,t,n,i,a,o,s,l,u,c,d,p,h,f,m,y,_,v,g,b,w,x,A,I,F,M){var T=["$datastore","$map","$layer"];function C(e){return"string"==typeof e?e.replace(/(\n)/gi,'<br class="esri-text-new-line" />'):e}function k(e,t){return e&&"function"==typeof e.getField?e.getField(t):null}function E(e){return(""+e).trim()}function P(e){return e.replace(/[\u00A0-\u9999<>\&]/gim,(function(e){return"&#"+e.charCodeAt(0)+";"}))}var S=u.getLogger("esri.widgets.FeatureViewModel"),R=m.convertDateFormatToIntlOptions("short-date-short-time");return function(e){function t(t){var r=e.call(this,t)||this;return r._handles=new s,r._featureAbortController=null,r._graphicChangedThrottled=p.throttle(r._graphicChanged,1,r),r._effectivePopupTemplate=null,r._graphic=null,r._fieldInfoMap=null,r.content=null,r.contentVMs=[],r.defaultPopupTemplateEnabled=!1,r.formattedAttributes=null,r.graphic=null,r.lastEditInfo=null,r.title="",r.view=null,r._handles.add(h.init(r,["graphic","graphic.sourceLayer.popupTemplate.title","graphic.sourceLayer.popupTemplate.content","graphic.sourceLayer.popupTemplate.expressionInfos","graphic.sourceLayer.popupTemplate.fieldInfos","graphic.sourceLayer.popupTemplate.lastEditInfoEnabled","graphic.sourceLayer.popupTemplate.outFields","graphic.sourceLayer.popupTemplate.relatedRecordsInfo","graphic.popupTemplate.title","graphic.popupTemplate.content","graphic.popupTemplate.expressionInfos","graphic.popupTemplate.fieldInfos","graphic.popupTemplate.lastEditInfoEnabled","graphic.popupTemplate.outFields","graphic.popupTemplate.relatedRecordsInfo"],(function(){return r._graphicChangedThrottled()}))),r}return n.__extends(t,e),t.prototype.destroy=function(){this._clear(),this._cancelFeatureQuery(),this._handles.destroy(),this._handles=null,this.graphic=null,this._graphic=null,this._destroyContentViewModels()},Object.defineProperty(t.prototype,"spatialReference",{get:function(){return this.get("view.spatialReference")||null},set:function(e){void 0!==e?this._override("spatialReference",e):this._clearOverride("spatialReference")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"map",{get:function(){return this.get("view.map")||null},set:function(e){void 0!==e?this._override("map",e):this._clearOverride("map")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"waitingForContent",{get:function(){return!!this._featureAbortController},enumerable:!0,configurable:!0}),t.prototype._clear=function(){this._set("title",""),this._set("content",null),this._set("formattedAttributes",null)},t.prototype._graphicChanged=function(){return n.__awaiter(this,void 0,void 0,(function(){var e,t,r,i;return n.__generator(this,(function(n){switch(n.label){case 0:if(this._cancelFeatureQuery(),this._clear(),e=this.graphic,t=e?e.clone():null,this._graphic=t,!t)return[2];r=c.createAbortController(),this._featureAbortController=r,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this._queryFeature({signal:r.signal})];case 2:return n.sent(),[3,4];case 3:return i=n.sent(),S.error("error","error loading template",i),[3,4];case 4:return this._featureAbortController=null,[2]}}))}))},t.prototype._cancelFeatureQuery=function(){var e=this._featureAbortController;e&&e.abort(),this._featureAbortController=null},t.prototype._compileContent=function(e){var t=this;if(this._destroyContentViewModels(),this._graphic)return Array.isArray(e)?e.map((function(e,r){return"attachments"===e.type?t._compileAttachments(e,r):"custom"===e.type?t._compileCustom(e,r):"fields"===e.type?t._compileFields(e,r):"media"===e.type?t._compileMedia(e):"text"===e.type?t._compileText(e,r):void 0})):"string"==typeof e?this._compileText(new g({text:e}),0).text:e},t.prototype._destroyContentViewModels=function(){this.contentVMs.forEach((function(e){return e&&!e.destroyed&&e.destroy()})),this._set("contentVMs",[])},t.prototype._compileAttachments=function(e,t){var r=this.graphic;return this.contentVMs[t]=new x({graphic:r}),e},t.prototype._compileCustom=function(e,t){var r=this.graphic,n=e.creator,i=e.destroyer;return this.contentVMs[t]=new A({graphic:r,creator:n,destroyer:i}),e},t.prototype._compileFields=function(e,t){var r=this._effectivePopupTemplate,i=this.formattedAttributes,a=e.clone(),o=(null==e?void 0:e.fieldInfos)||(null==r?void 0:r.fieldInfos),s=null==r?void 0:r.expressionInfos,u=n.__assign(n.__assign({},i.global),i.content[t]),c=new I({attributes:u,expressionInfos:s,fieldInfos:o});return this.contentVMs[t]=c,a.fieldInfos=l.clone(c.formattedFieldInfos),a},t.prototype._setImageValue=function(e){var t=e.value,r=e.formattedAttributes,n=e.layer,i=t.linkURL,a=t.sourceURL;if(a){var o=this._fixTokens(a,n);t.sourceURL=this._substituteAttributes(r,o)}if(i){var s=this._fixTokens(i,n);t.linkURL=this._substituteAttributes(r,s)}},t.prototype._compileMedia=function(e){var t=this,r=this._graphic,i=l.clone(e),a=i.mediaInfos,o=r.attributes,s=F.getSourceLayer(r),u=this.formattedAttributes.global,c=n.__assign(n.__assign({},u),o);return i.mediaInfos=a&&a.map((function(e){var r=l.clone(e);if(r){var n=r.title?t._processFieldsInLinks(r.title,c):"";r.title=n?t._substituteAttributes(u,n):"";var i=r.caption?t._processFieldsInLinks(r.caption,c):"";r.caption=i?t._substituteAttributes(u,i):"";var a=r.altText?t._processFieldsInLinks(r.altText,c):"";if(r.altText=a?t._substituteAttributes(u,a):"","image"===r.type){var d=r.value;return t._setImageValue({value:d,formattedAttributes:u,layer:s}),r.value.sourceURL?r:void 0}if("pie-chart"===r.type||"line-chart"===r.type||"column-chart"===r.type||"bar-chart"===r.type)return d=r.value,t._setChartValue({value:d,chartType:r.type,attributes:o,formattedAttributes:u,layer:s}),r}})).filter(Boolean),i},t.prototype._normalizeTemplateFields=function(e){var t=this._fieldInfoMap.get(e.toLowerCase());return"{"+(t&&t.fieldName||e)+"}"},t.prototype._substituteAttributes=function(e,t){var r=this;return E(this._removeEmptyHref(d.replace(d.replace(t,(function(e){return r._normalizeTemplateFields(e)})),e)))},t.prototype._compileText=function(e,t){var r=l.clone(e),i=this._graphic;if(r&&r.text){var a=i.attributes,o=this.formattedAttributes.global,s=this._processFieldsInLinks(r.text,n.__assign(n.__assign({},o),a));r.text=this._substituteAttributes(o,s)}return this.contentVMs[t]=new A({graphic:i,creator:r.text}),r},t.prototype._formatEditInfo=function(e,t){var r=e.creatorField,n=e.creationDateField,i=e.editorField,o=e.editDateField;if(t){var s=t[o];if("number"==typeof s){var l=t[i];return{type:"edit",date:a.formatDate(s,R),user:l}}var u=t[n];if("number"==typeof u){var c=t[r];return{type:"create",date:a.formatDate(u,R),user:c}}}},t.prototype._compileLastEditInfo=function(){var e=this._effectivePopupTemplate,t=this._graphic;if(e){var r=e.lastEditInfoEnabled,n=t.get("sourceLayer.editFieldsInfo");if(r&&n)return this._formatEditInfo(n,t.attributes)}},t.prototype._compileTitle=function(e){var t=this._graphic.attributes,r=this.formattedAttributes.global;if(e){var i=this._processFieldsInLinks(e,n.__assign(n.__assign({},r),t));return this._substituteAttributes(r,i)}return""},t.prototype._fixTokens=function(e,t){return e.replace(/(\{([^\{\r\n]+)\})/g,(function(e,r,n){var i=k(t,n);return i?"{"+i.name+"}":r}))},t.prototype._encodeAttributes=function(e){var t=e?l.clone(e):{};return Object.keys(t).forEach((function(e){return function(e,t){var r=t[e];if("string"==typeof r){var n=encodeURIComponent(r).replace(/\'/g,"&apos;");t[e]=n}}(e,t)})),t},t.prototype._createfieldInfoMap=function(e,t){var r=this,n=new Map;return e&&e.forEach((function(e){var i=r._getFixedFieldName(e.fieldName,t);e.fieldName=i,n.set(i.toLowerCase(),e)})),n},t.prototype._formatAttributeValue=function(e){var t=e.value,r=e.fieldName,n=e.fieldInfos,i=e.fieldInfoMap,o=e.layer;if(null==t)return"";var s=this._getDomainName(r,t);if(s)return s;var l=this._getTypeName(r);if(l)return l;if(i.get(r.toLowerCase()))return this._formatValueToFieldInfo(t,{fieldInfos:n,fieldName:r,layer:o});var u=o&&o.fieldsIndex;return u&&u.isDateField(r)?a.formatDate(t,R):C(t)},t.prototype._formatAttributes=function(e){var t=this,r=this._graphic,n=F.getSourceLayer(r),i=l.clone(r.attributes);this.addRelatedFeatureAttributes(i);var a=this._createfieldInfoMap(e,n);return this._fieldInfoMap=a,Object.keys(i).forEach((function(r){var o=i[r];i[r]=t._formatAttributeValue({fieldName:r,fieldInfos:e,fieldInfoMap:a,layer:n,value:o})})),i},t.prototype._parseNumberFromString=function(e,t){if("string"==typeof e&&t&&null==t.dateFormat&&(null!=t.places||null!=t.digitSeparator)){var r=Number(e);if(!isNaN(r))return r}return e},t.prototype._formatValueToFieldInfo=function(e,t){var r=t.fieldInfos,i=t.fieldName,a=this._getFieldInfo(r,i),o=l.clone(a),s=t.preventPlacesFormatting,u=k(t.layer,i);if(u&&"date"===u.type){var c=o.format||new w;c.dateFormat=c.dateFormat||"short-date-short-time",o.format=c}var d=o&&o.format;return"string"==typeof(e=this._parseNumberFromString(e,d))||null==e||null==d?e:s?y.formatNumber(e,n.__assign(n.__assign({},y.convertNumberFormatToIntlOptions(d)),{minimumFractionDigits:0,maximumFractionDigits:20})):d.format(e)},t.prototype._getDomainName=function(e,t){if(this.isRelatedField(e))return null;var r=this._graphic,n=F.getSourceLayer(r);if(!n||"function"!=typeof n.getFieldDomain)return null;var i=n.getFieldDomain(e,{feature:r});return i&&"coded-value"===i.type?i.getName(t):null},t.prototype._getFieldInfo=function(e,t){if(e&&e.length&&t){var r=t.toLowerCase(),n=void 0;return e.some((function(e){return!(!e.fieldName||e.fieldName.toLowerCase()!==r||(n=e,0))})),n}},t.prototype._getTypeName=function(e){if(this.isRelatedField(e))return null;var t=this._graphic,r=F.getSourceLayer(t);if(!r||"function"!=typeof r.getFeatureType)return null;var n=r.typeIdField;if(!n||e!==n)return null;var i=r.getFeatureType(t);return i?i.name:null},t.prototype._removeEmptyHref=function(e){return e.replace(/href=(""|'')/gi,"")},t.prototype._processFieldsInLinks=function(e,t){var r=this.get("_graphic.layer"),n=this._fixTokens(e,r),i=this._encodeAttributes(t);return n?n.replace(/href\s*=\s*(?:\"([^\"]+)\"|\'([^\']+)\')/gi,(function(e,r,n){return function(e,t,r,n){return t=E(t),d.replace(e,t&&"{"===t[0]?r:n)}(e,r||n,t,i)})):n},t.prototype._getTitle=function(){return n.__awaiter(this,void 0,void 0,(function(){var e,t,r,i;return n.__generator(this,(function(n){return t=(e=this)._effectivePopupTemplate,r=e._graphic,i=t&&t.title,[2,F.graphicCallback(i,{graphic:r})]}))}))},t.prototype._getContent=function(){return n.__awaiter(this,void 0,void 0,(function(){var e,t,r,i;return n.__generator(this,(function(n){return t=(e=this)._effectivePopupTemplate,r=e._graphic,i=t&&t.content,[2,F.graphicCallback(i,{graphic:r})]}))}))},t.prototype._querySourceLayer=function(e,t){var r,n,i=e.layer,a=e.graphic,s=e.outFields,l=e.objectIds,u=l[0];if("number"!=typeof u){var d=new o("layer-query-features-invalid-objectid",r="Could not query required fields for the specified feature. The feature's ID is invalid.",n={layer:i,graphic:a,objectId:u,requiredFields:s});return S.warn(r,n),c.reject(d)}if("function"!=typeof i.queryFeatures)return d=new o("layer-query-features-unsupported",r="The specified layer does not support the method 'queryFeatures'. The following fields will not be available.",n={layer:i,graphic:a,requiredFields:s}),S.warn(r,n),c.reject(d);var p=i.createQuery();return p.objectIds=l,p.outFields=s,p.returnGeometry=!0,i.queryFeatures(p,t).then((function(e){return e.features[0]}))},t.prototype._queryRequiredFieldsFeature=function(e){var t=this,r=this._graphic,n=this._effectivePopupTemplate,i=r.sourceLayer;return i&&n?("function"==typeof i.load?i.load(e):c.resolve()).then((function(){var a=[r.attributes[i.objectIdField]];return n.getRequiredFields(i.fields).then((function(n){return _.featureHasFields(n,r)?null:t._querySourceLayer({layer:i,graphic:r,outFields:n,objectIds:a},e)}))})):c.resolve(null)},t.prototype._queryFeature=function(e){var t=this,r=this._featureAbortController,i=this._graphic;return this._effectivePopupTemplate=i&&i.getEffectivePopupTemplate(this.defaultPopupTemplateEnabled),c.eachAlways({content:this._getContent(),title:this._getTitle()}).then((function(a){var o=a.content.value,s=a.title.value;if(r===t._featureAbortController&&i){var l=t._checkForRelatedFeatures(o,e),u=t._createFormattedExpressions().then((function(e){i.attributes=n.__assign(n.__assign({},i.attributes),e)})),d=t._queryRequiredFieldsFeature(e).then((function(e){e&&(i.geometry=e.geometry,i.attributes=n.__assign(n.__assign({},i.attributes),e.attributes))}));return c.eachAlways([l,u,d]).then((function(){if(r===t._featureAbortController&&i){t._set("formattedAttributes",t._createFormattedAttributes(o)),t._set("title",t._compileTitle(s));var e=t._compileLastEditInfo();t._set("lastEditInfo",e||null);var n=t._compileContent(o);return t._set("content",n||null),n}}))}}))},t.prototype._formatArcadeArray=function(e){return'<ul class="esri-widget__list">'+e.map((function(e){return"<li>"+("string"==typeof e?C(P(e)):e)+"</li>"})).join("")+"</ul>"},t.prototype._formatArcadeDictionary=function(e){return'<table class="esri-widget__table">'+e.keys().map((function(t){var r=e.field(t);return"<tr><th>"+t+"</th><td>"+("string"==typeof r?C(P(r)):r)+"</td></tr>"})).join("")+"</table>"},t.prototype._createFormattedExpressions=function(){return n.__awaiter(this,void 0,void 0,(function(){var e,t,i,a,o,s,l,u,d,p,h,f=this;return n.__generator(this,(function(m){switch(m.label){case 0:return t=(e=this)._effectivePopupTemplate,i=e._graphic,a=t&&t.expressionInfos,o=[],s={},a&&a.length?[4,new Promise((function(e,t){r.e(17).then(function(){var t=[r(1017)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))]:[2,s];case 1:for(l=m.sent(),u=function(e){var t="expression/"+e.name,r=l.createSyntaxTree(e.expression),a=T.filter((function(e){return l.hasVariable(r,e)})),u=l.loadScriptDependencies(r,!0,a).then((function(){return n.__awaiter(f,void 0,void 0,(function(){var e,o,u,c,d=this;return n.__generator(this,(function(n){return e=this.spatialReference,o=l.getViewInfo({spatialReference:e}),(u=l.createExecContext(i,o)).useAsync=!0,this._addVarsToContext(l,a,u,o),c=l.createFunction(r,u),[2,l.executeAsyncFunction(c,u).then((function(e){s[t]="string"==typeof e?C(P(e)):Array.isArray(e)?d._formatArcadeArray(e):e&&"esri.arcade.Dictionary"===e.declaredClass?d._formatArcadeDictionary(e):e}),(function(e){return S.error("arcade-execution-error",e)}))]}))}))}));o.push(u)},d=0,p=a;d<p.length;d++)h=p[d],u(h);return[2,c.eachAlways(o).then((function(){return s}))]}}))}))},t.prototype._addVarsToContext=function(e,t,r,n){var i=this.graphic,a=this.map;t.forEach((function(t){var o=t.toLowerCase(),s={map:a,spatialReference:n.sr};"$map"===o&&(r.vars[o]=e.convertMapToFeatureSetCollection(s)),"$layer"===o&&(r.vars[o]=e.convertFeatureLayerToFeatureSet(i.sourceLayer,n.sr)),"$datastore"===o&&(r.vars[o]=e.convertServiceUrlToWorkspace(i.sourceLayer.url,n.sr))}))},t.prototype._createFormattedAttributes=function(e){var t=this,r=this._effectivePopupTemplate,n=r&&r.fieldInfos,i={global:this._formatAttributes(n),content:[]};return Array.isArray(e)&&e.forEach((function(e,r){"fields"===e.type&&e.fieldInfos&&(i.content[r]=t._formatAttributes(e.fieldInfos))})),i},t.prototype._getAllFieldInfos=function(e){var t=this._effectivePopupTemplate,r=[],n=t&&t.fieldInfos;return n&&r.push.apply(r,n),e&&Array.isArray(e)?(e.forEach((function(e){if("fields"===e.type){var t=e&&e.fieldInfos;r.push.apply(r,t)}})),r):r},t.prototype._checkForRelatedFeatures=function(e,t){var r=this._graphic,n=this._getAllFieldInfos(e);return this.queryRelatedInfos(r,n,t)},t.prototype._getTooltip=function(e){var t=e.label,r=e.value;return"pie-chart"===e.chartType?t:t+": "+r},t.prototype._getChartOption=function(e){var t,r=e.value,n=e.attributes,i=e.formattedAttributes,a=e.fieldName,o=e.relatedFieldName,s=e.fieldInfos,l=e.index,u=e.chartType,c=this._graphic,d=F.getSourceLayer(c),p=r.normalizeField,h=r.tooltipField,f=p?this.isRelatedField(p)?n[this.getRelatedFieldInfo(p).fieldName]:n[p]:null,m=o&&void 0!==n[o]?n[o]:void 0!==n[a]?n[a]:i[a],y=void 0===m?null:m&&f?m/f:m,_=new b({x:l,y:y});if(this.isRelatedField(a)){var g=this.getRelatedFieldInfo(a),w=this.getRelatedFieldInfo(h),x=w?w.fieldName:null,A=this._formatValueToFieldInfo(y,{fieldInfos:s,fieldName:o,layer:d,preventPlacesFormatting:!!f}),I=g?g.label||g.fieldName:o,M=x&&void 0!==n[x]?n[x]:I;return _.tooltip=this._getTooltip({label:M,value:A,chartType:u}),_}var T=this._getFieldInfo(s,a),C=this._getFixedFieldName(a,d),k=h&&void 0!==i[h]?i[h]:F.getFieldInfoLabel(T||new v({fieldName:C}),null===(t=this._effectivePopupTemplate)||void 0===t?void 0:t.expressionInfos),E=i[C];return _.tooltip=this._getTooltip({label:k,value:E,chartType:u}),_},t.prototype._getFixedFieldName=function(e,t){var r=k(t,e);return r?r.name:e},t.prototype._getFixedFieldNames=function(e,t){var r=this;return e&&e.map((function(e){return r._getFixedFieldName(e,t)}))},t.prototype._setChartValue=function(e){var t=this,r=e.value,i=e.attributes,a=e.formattedAttributes,o=e.chartType,s=e.layer,l=this._effectivePopupTemplate,u=this.relatedInfoCount,c=r.fields,d=r.normalizeField;if(r.fields=this._getFixedFieldNames(c,s),d&&(r.normalizeField=this._getFixedFieldName(d,s)),c.some((function(e){return!!(null!=a[e]||t.isRelatedField(e)&&u)}))){var p=l&&l.fieldInfos;c.forEach((function(e,s){if(t.isRelatedField(e))r.series=n.__spreadArrays(r.series,t._getRelatedChartInfos({fieldInfos:p,fieldName:e,formattedAttributes:a,chartType:o,value:r}));else{var l=t._getChartOption({value:r,index:s,attributes:i,chartType:o,formattedAttributes:a,fieldName:e,fieldInfos:p});r.series.push(l)}}))}},t.prototype._getRelatedChartInfos=function(e){var t=this,r=e.fieldInfos,n=e.fieldName,i=e.formattedAttributes,a=e.chartType,o=e.value,s=[],l=this.getRelatedFieldInfo(n),u=l.layerId,c=l.fieldName,d=this.getRelatedInfo(u);if(!d)return s;var p=d.relatedFeatures,h=d.relation;if(!h||!p)return s;var f=h.cardinality;return p.forEach((function(e,l){var u=e.attributes;u&&Object.keys(u).forEach((function(e){e===c&&s.push(t._getChartOption({value:o,index:l,attributes:u,formattedAttributes:i,fieldName:n,chartType:a,relatedFieldName:e,fieldInfos:r}))}))})),"one-to-many"===f||"many-to-many"===f?s:[s[0]]},n.__decorate([f.property()],t.prototype,"_featureAbortController",void 0),n.__decorate([f.property({readOnly:!0})],t.prototype,"content",void 0),n.__decorate([f.property({readOnly:!0})],t.prototype,"contentVMs",void 0),n.__decorate([f.property({type:Boolean})],t.prototype,"defaultPopupTemplateEnabled",void 0),n.__decorate([f.property({readOnly:!0})],t.prototype,"formattedAttributes",void 0),n.__decorate([f.property({type:i})],t.prototype,"graphic",void 0),n.__decorate([f.property({readOnly:!0})],t.prototype,"lastEditInfo",void 0),n.__decorate([f.property({dependsOn:["view"]})],t.prototype,"spatialReference",null),n.__decorate([f.property({readOnly:!0})],t.prototype,"title",void 0),n.__decorate([f.property({dependsOn:["view"]})],t.prototype,"map",null),n.__decorate([f.property({readOnly:!0,dependsOn:["_featureAbortController"]})],t.prototype,"waitingForContent",null),n.__decorate([f.property()],t.prototype,"view",void 0),n.__decorate([f.subclass("esri.widgets.FeatureViewModel")],t)}(M)}.apply(null,n))||(e.exports=i)},1004:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(117),r(165),r(158),r(154),r(156),r(153),r(151),r(463),r(199),r(485),r(332)],void 0===(i=function(e,t,r,n,i,a,o,s,l,u,c,d,p){var h=new Map,f="esri.widgets.Popup.support.RelatedFeatures",m=o.getLogger(f);return function(e){function t(t){var r=e.call(this,t)||this;return r.relatedInfoCount=null,r.relatedInfos=new Map,r}return r.__extends(t,e),t.prototype.destroy=function(){this.relatedInfos.clear()},t.prototype.addRelatedFeatureAttributes=function(e){var t=this;this.relatedInfos.forEach((function(r){return t._addRelatedFeatureAttribute(e,r)}))},t.prototype.getRelatedFieldInfo=function(e){if(-1===e.indexOf("relationships/"))return null;var t=e.split("/").slice(1);return{layerId:t[0],fieldName:t[1]}},t.prototype.getRelatedInfo=function(e){return this.relatedInfos.get(e.toString())},t.prototype.isRelatedField=function(e){return void 0===e&&(e=""),!!e&&-1!==e.indexOf("relationships/")},t.prototype.queryRelatedInfos=function(e,t,r){var n=this;this.relatedInfos.clear();var i=p.getSourceLayer(e);if(!i)return s.resolve();var a=t.filter((function(e){return e&&n.isRelatedField(e.fieldName)}));return a&&a.length?(this._createRelatedInfos(t,i),this._queryLayerInfos(i,r).then((function(t){return n._updateRelatedInfoLayerInfos(t),n._queryRelatedFeatureMap(e,r).then((function(e){return Object.keys(e).forEach((function(t){n._setRelatedFeatures(e[t],t.toString())})),e}))}))):s.resolve()},t.prototype._addRelatedFeatureAttribute=function(e,t){var r=this;e&&t&&(t.relatedFeatures&&t.relatedFeatures&&t.relatedFeatures.forEach((function(n){return r._addAttributesFromFeature(e,n,t)})),t.relatedStatsFeatures&&t.relatedStatsFeatures&&t.relatedStatsFeatures.forEach((function(n){return r._addAttributesFromFeature(e,n,t)})))},t.prototype._updateRelatedInfoLayerInfo=function(e,t){var r=e.value;r&&(this.getRelatedInfo(t).layerInfo=r.data)},t.prototype._updateRelatedInfoLayerInfos=function(e){var t=this;Object.keys(e).forEach((function(r){return t._updateRelatedInfoLayerInfo(e[r],r.toString())}))},t.prototype._addAttributesFromFeature=function(e,t,r){var n=this;e&&t&&r&&Object.keys(t.attributes).forEach((function(i){var a=n._relatedFieldInfoToString({layerId:r.relation.id.toString(),fieldName:i});e[a]=t.attributes[i]}))},t.prototype._relatedFieldInfoToString=function(e){return e?"relationships/"+e.layerId+"/"+e.fieldName:""},t.prototype._createRelatedInfoForFieldInfo=function(e,t){var r=this.getRelatedFieldInfo(e.fieldName);if(r){var n=r.layerId,i=r.fieldName;if(n){var a=this.getRelatedInfo(n)||this._createRelatedInfo(n,t);if(a&&(a.relatedFields.push(i),e.statisticType)){var o=new d({statisticType:e.statisticType,onStatisticField:i,outStatisticFieldName:i});a.outStatistics.push(o)}}}},t.prototype._createRelatedInfos=function(e,t){var r=this;e.forEach((function(e){return r._createRelatedInfoForFieldInfo(e,t)}))},t.prototype._queryRelatedFeatureMap=function(e,t){var r=this,n={};return this.relatedInfos.forEach((function(i,a){i.layerInfo&&(n[a]=r._queryRelatedLayerFeatures(e,i,t))})),s.eachAlways(n)},t.prototype._queryLayerInfos=function(e,t){var r=this,n={};return this.relatedInfos.forEach((function(i,o){var s=i.relation;if(!s){var l=new a("relation-required","A relation is required on a layer to retrieve related records.");throw m.error(l),l}var u=s.relatedTableId;if("number"!=typeof u)throw l=new a("A related table ID is required on a layer to retrieve related records."),m.error(l),l;var c=e.url+"/"+u,d=h.get(c),p=d||r._queryLayerInfo(c,t);d||h.set(c,p),n[o]=p})),s.eachAlways(n)},t.prototype._queryLayerInfo=function(e,t){return n(e,{query:{f:"json"},signal:t&&t.signal})},t.prototype._queryRelatedLayerFeatures=function(e,t,r){var n=p.getSourceLayer(e).layerId.toString(),i=t.layerInfo,a=t.queryTask,o=t.relation,l=this._getDestinationRelation(i,n);if(l){var u=o.keyField,d=l.keyField,h="string"===this._getDestinationFieldType(i,l)?d+"='"+e.attributes[u]+"'":d+"="+e.attributes[u],f=a.execute(new c({where:h,outFields:t.relatedFields}),r),m=t.outStatistics&&t.outStatistics.length>0&&i.supportsStatistics?a.execute(new c({where:h,outFields:t.relatedFields,outStatistics:t.outStatistics}),r):null;return s.eachAlways({features:f,statsFeatures:m||s.resolve()})}return s.resolve()},t.prototype._setRelatedFeatures=function(e,t){var r=this.getRelatedInfo(t);if(r){var n=e.value;if(n){var i=n.features,a=n.statsFeatures,o=i&&i.value;r.relatedFeatures=o?o.features:[];var s=a&&a.value;r.relatedStatsFeatures=s?s.features:[]}}},t.prototype._getRelation=function(e,t){if(!t.relationships)return null;var r=null;return t.relationships.some((function(t){return t.id===parseInt(e,10)&&(r=t,!0)})),r},t.prototype._createRelatedInfo=function(e,t){var r=this._getRelation(e,t);if(r){var n=t.url+"/"+r.relatedTableId,i={url:n,queryTask:new u({url:n,sourceSpatialReference:t.spatialReference}),relation:r,relatedFields:[],outStatistics:[]};return this.relatedInfos.set(e,i),i}},t.prototype._getDestinationRelation=function(e,t){var r;return e&&e.relationships&&e.relationships.some((function(e){return""+e.relatedTableId===t&&(r=e,!0)})),r},t.prototype._getDestinationFieldType=function(e,t){var r=void 0;return e.fields.some((function(e){return e.name===t.keyField&&(r=-1!==["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble"].indexOf(e.type)?"number":"string",!0)})),r},r.__decorate([l.aliasOf("relatedInfos.size")],t.prototype,"relatedInfoCount",void 0),r.__decorate([l.property()],t.prototype,"relatedInfos",void 0),r.__decorate([l.subclass(f)],t)}(i)}.apply(null,n))||(e.exports=i)},1005:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(117),r(258),r(210),r(153),r(229),r(161)],void 0===(i=function(e,t,n,i,a,o,s){Object.defineProperty(t,"__esModule",{value:!0});var l,u,c=a.MapFromValues([["ar",function(){return new Promise((function(e,t){r.e(146).then(function(){var t=[r(1353)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["bs-ba",function(){return new Promise((function(e,t){r.e(147).then(function(){var t=[r(1354)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["ca-es",function(){return new Promise((function(e,t){r.e(148).then(function(){var t=[r(1355)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["cs-cz",function(){return new Promise((function(e,t){r.e(149).then(function(){var t=[r(1356)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["da-dk",function(){return new Promise((function(e,t){r.e(150).then(function(){var t=[r(1357)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["de-de",function(){return new Promise((function(e,t){r.e(152).then(function(){var t=[r(1358)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["de-ch",function(){return new Promise((function(e,t){r.e(151).then(function(){var t=[r(1359)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["el-gr",function(){return new Promise((function(e,t){r.e(153).then(function(){var t=[r(1360)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["en-us",function(){return new Promise((function(e,t){r.e(155).then(function(){var t=[r(1361)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["en-ca",function(){return new Promise((function(e,t){r.e(154).then(function(){var t=[r(1362)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["es-es",function(){return new Promise((function(e,t){r.e(156).then(function(){var t=[r(1363)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["et-ee",function(){return new Promise((function(e,t){r.e(157).then(function(){var t=[r(1364)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["fi-fi",function(){return new Promise((function(e,t){r.e(158).then(function(){var t=[r(1365)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["fr-fr",function(){return new Promise((function(e,t){r.e(159).then(function(){var t=[r(1366)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["he-il",function(){return new Promise((function(e,t){r.e(160).then(function(){var t=[r(1367)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["hr-hr",function(){return new Promise((function(e,t){r.e(161).then(function(){var t=[r(1368)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["hu-hu",function(){return new Promise((function(e,t){r.e(162).then(function(){var t=[r(1369)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["id-id",function(){return new Promise((function(e,t){r.e(163).then(function(){var t=[r(1370)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["it-it",function(){return new Promise((function(e,t){r.e(164).then(function(){var t=[r(1371)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["ja-jp",function(){return new Promise((function(e,t){r.e(165).then(function(){var t=[r(1372)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["ko-kr",function(){return new Promise((function(e,t){r.e(166).then(function(){var t=[r(1373)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["lt-lt",function(){return new Promise((function(e,t){r.e(167).then(function(){var t=[r(1374)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["lv-lv",function(){return new Promise((function(e,t){r.e(168).then(function(){var t=[r(1375)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["nb-no",function(){return new Promise((function(e,t){r.e(169).then(function(){var t=[r(1376)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["nl-nl",function(){return new Promise((function(e,t){r.e(170).then(function(){var t=[r(1377)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["pl-pl",function(){return new Promise((function(e,t){r.e(171).then(function(){var t=[r(1378)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["pt-br",function(){return new Promise((function(e,t){r.e(172).then(function(){var t=[r(1379)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["pt-pt",function(){return new Promise((function(e,t){r.e(173).then(function(){var t=[r(1380)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["ro-ro",function(){return new Promise((function(e,t){r.e(174).then(function(){var t=[r(1381)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["ru-ru",function(){return new Promise((function(e,t){r.e(175).then(function(){var t=[r(1382)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["sl-sl",function(){return new Promise((function(e,t){r.e(176).then(function(){var t=[r(1383)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["sr-rs",function(){return new Promise((function(e,t){r.e(177).then(function(){var t=[r(1384)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["sv-se",function(){return new Promise((function(e,t){r.e(178).then(function(){var t=[r(1385)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["th-th",function(){return new Promise((function(e,t){r.e(179).then(function(){var t=[r(1386)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["tr-tr",function(){return new Promise((function(e,t){r.e(180).then(function(){var t=[r(1387)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["uk-ua",function(){return new Promise((function(e,t){r.e(181).then(function(){var t=[r(1388)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["vi-vn",function(){return new Promise((function(e,t){r.e(182).then(function(){var t=[r(1389)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["zh-cn",function(){return new Promise((function(e,t){r.e(183).then(function(){var t=[r(1390)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["zh-hk",function(){return new Promise((function(e,t){r.e(31).then(function(){var t=[r(843)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["zh-tw",function(){return new Promise((function(e,t){r.e(31).then(function(){var t=[r(843)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}]]);function d(e){return e?c.has(e.toLowerCase())?e.toLowerCase():function(e){for(var t=e.split("-")[0].toLowerCase(),r=null,n=0,i=a.keysOfMap(c);n<i.length;n++){var o=i[n];if(s.startsWith(o,t)){r=o;break}}return r}(e)||"en-us":"en-us"}t.getChartLocale=d,t.loadChartsModule=function(e){return void 0===e&&(e=i.getLocale()),n.__awaiter(this,void 0,void 0,(function(){var t,i,a,s;return n.__generator(this,(function(n){switch(n.label){case 0:if(e=d(e),l&&e===u)return[2,l];l=new Promise((function(e,t){r.e(145).then(function(){var t=[r(1391)];e.apply(null,t)}.bind(this)).catch(t.bind(this))})),u=e,n.label=1;case 1:return n.trys.push([1,5,,6]),[4,o.all([l,c.get(u)()])];case 2:return t=n.sent(),i=t[0],a=t[1],u===e&&(i.am4core.options.defaultLocale=a.default),"function"==typeof Object.assign?[3,4]:[4,new Promise((function(e,t){r.e(256).then(function(){var t=[r(1392)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))];case 3:s=n.sent(),Object.defineProperty(Object,"assign",{value:s.assign,writable:!0,configurable:!0}),n.label=4;case 4:return[3,6];case 5:return n.sent(),l=null,u=null,[2,null];case 6:return[2,l]}}))}))}}.apply(null,n))||(e.exports=i)},1006:function(e,t,r){"use strict";r.r(t);var n=r(10),i=r.n(n)()(!0);i.push([e.i,"#voter-turnout-info-div{display:none;border:1px solid lightgray;padding:1em}#voter-turnout-info-div .esri-feature__title{margin:0;margin-bottom:10px;text-transform:uppercase}#voter-turnout-info-div table{width:100%}#voter-turnout-info-div table tr:nth-child(2n){background-color:lightgray}#voter-turnout-info-div table td{border-collapse:collapse;border-spacing:0px}#voter-turnout-info-div h3{margin:0.75em;font-size:1.2em !important;text-align:center;color:darkblue}\n","",{version:3,sources:["webpack://src/components/chapters/voter_turnout_us/popupTemplate.scss"],names:[],mappings:"AACA,wBAOC,YAAa,CACb,0BAA2B,CAC3B,WAAY,CATb,6CAEE,QAAS,CACT,kBAAmB,CACnB,wBAAyB,CAJ3B,8BAYE,UAAW,CAZb,+CAeG,0BAA2B,CAf9B,iCAmBG,wBAAyB,CACzB,kBAAmB,CApBtB,2BAyBE,aAAc,CACd,0BAA2B,CAC3B,iBAAkB,CAClB,cAAe",sourcesContent:["// ..voter-turnout-popup,\n#voter-turnout-info-div {\n\t.esri-feature__title {\n\t\tmargin: 0;\n\t\tmargin-bottom: 10px;\n\t\ttext-transform: uppercase;\n\t}\n\n\tdisplay: none;\n\tborder: 1px solid lightgray;\n\tpadding: 1em;\n\n\ttable {\n\t\twidth: 100%;\n\n\t\ttr:nth-child(2n) {\n\t\t\tbackground-color: lightgray;\n\t\t}\n\n\t\ttd {\n\t\t\tborder-collapse: collapse;\n\t\t\tborder-spacing: 0px;\n\t\t}\n\t}\n\n\th3 {\n\t\tmargin: 0.75em;\n\t\tfont-size: 1.2em !important;\n\t\ttext-align: center;\n\t\tcolor: darkblue;\n\t}\n}\n"],sourceRoot:""}]),t.default=i},181:function(e,t,r){"use strict";r.r(t);var n=r(10),i=r.n(n)()(!0);i.push([e.i,".esri-scroll-zoom-toggle{padding:0.7em 1.5em}.esri-scroll-zoom-toggle--inner-wrapper{display:flex;flex-direction:row;align-items:center;cursor:pointer}.esri-scroll-zoom-toggle--input-checkbox{margin-left:1em;margin-bottom:6px;cursor:pointer}\n","",{version:3,sources:["webpack://src/components/mapcomponents/ScrollZoom.scss"],names:[],mappings:"AAAA,yBACC,mBAAoB,CACpB,wCAGA,YAAa,CACb,kBAAmB,CACnB,kBAAmB,CACnB,cAAe,CACf,yCAGA,eAAgB,CAChB,iBAAkB,CAClB,cAAe",sourcesContent:[".esri-scroll-zoom-toggle {\n\tpadding: 0.7em 1.5em;\n}\n\n.esri-scroll-zoom-toggle--inner-wrapper {\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: center;\n\tcursor: pointer;\n}\n\n.esri-scroll-zoom-toggle--input-checkbox {\n\tmargin-left: 1em;\n\tmargin-bottom: 6px;\n\tcursor: pointer;\n}\n"],sourceRoot:""}]),t.default=i},187:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(117),r(159),r(174),r(166),r(155),r(152),r(151),r(170),r(163),r(194)],void 0===(i=function(e,t,r,n,i,a,o,s,l,u,c,d){var p=new a.default({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),h=function(e){function t(t){var r=e.call(this,t)||this;return r.displayFieldName=null,r.exceededTransferLimit=!1,r.features=[],r.fields=null,r.geometryType=null,r.hasM=!1,r.hasZ=!1,r.queryGeometry=null,r.spatialReference=null,r}return r.__extends(t,e),t.prototype.readFeatures=function(e,t){for(var r=u.fromJSON(t.spatialReference),n=[],a=0;a<e.length;a++){var o=e[a],l=i.fromJSON(o),c=o.geometry&&o.geometry.spatialReference;s.isSome(l.geometry)&&!c&&(l.geometry.spatialReference=r),n.push(l)}return n},t.prototype.writeGeometryType=function(e,t,r,n){if(e)p.write(e,t,r,n);else{var i=this.features;if(i)for(var a=0,o=i;a<o.length;a++){var l=o[a];if(l&&s.isSome(l.geometry))return void p.write(l.geometry.type,t,r,n)}}},t.prototype.writeSpatialReference=function(e,t){if(e)t.spatialReference=e.toJSON();else{var r=this.features;if(r)for(var n=0,i=r;n<i.length;n++){var a=i[n];a&&s.isSome(a.geometry)&&a.geometry.spatialReference&&(t.spatialReference=a.geometry.spatialReference.toJSON())}}},t.prototype.toJSON=function(e){var t=this.write(null);if(t.features&&Array.isArray(e)&&e.length>0)for(var r=0;r<t.features.length;r++){var n=t.features[r];if(n.geometry){var i=e&&e[r];n.geometry=i&&i.toJSON()||n.geometry}}return t},t.prototype.quantize=function(e){for(var t=e.scale,r=t[0],n=t[1],i=e.translate,a=i[0],o=i[1],l=this.features,u=this._getQuantizationFunction(this.geometryType,(function(e){return Math.round((e-a)/r)}),(function(e){return Math.round((o-e)/n)})),c=0,d=l.length;c<d;c++)u(s.unwrap(l[c].geometry))||(l.splice(c,1),c--,d--);return this.transform=e,this},t.prototype.unquantize=function(){var e=this.geometryType,t=this.features,r=this.transform;if(!r)return this;for(var n=r.translate,i=n[0],a=n[1],o=r.scale,l=o[0],u=o[1],c=this._getHydrationFunction(e,(function(e){return e*l+i}),(function(e){return a-e*u})),d=0,p=t;d<p.length;d++){var h=p[d].geometry;s.isSome(h)&&c(h)}return this},t.prototype._quantizePoints=function(e,t,r){for(var n,i,a=[],o=0,s=e.length;o<s;o++){var l=e[o];if(o>0){var u=t(l[0]),c=r(l[1]);u===n&&c===i||(a.push([u-n,c-i]),n=u,i=c)}else n=t(l[0]),i=r(l[1]),a.push([n,i])}return a.length>0?a:null},t.prototype._getQuantizationFunction=function(e,t,r){var n=this;return"point"===e?function(e){return e.x=t(e.x),e.y=r(e.y),e}:"polyline"===e||"polygon"===e?function(e){for(var i=c.isPolygon(e)?e.rings:e.paths,a=[],o=0,s=i.length;o<s;o++){var l=i[o],u=n._quantizePoints(l,t,r);u&&a.push(u)}return a.length>0?(c.isPolygon(e)?e.rings=a:e.paths=a,e):null}:"multipoint"===e?function(e){var i;return(i=n._quantizePoints(e.points,t,r)).length>0?(e.points=i,e):null}:"extent"===e?function(e){return e}:null},t.prototype._getHydrationFunction=function(e,t,r){return"point"===e?function(e){e.x=t(e.x),e.y=r(e.y)}:"polyline"===e||"polygon"===e?function(e){for(var n,i,a=c.isPolygon(e)?e.rings:e.paths,o=0,s=a.length;o<s;o++)for(var l=a[o],u=0,d=l.length;u<d;u++){var p=l[u];u>0?(n+=p[0],i+=p[1]):(n=p[0],i=p[1]),p[0]=t(n),p[1]=r(i)}}:"extent"===e?function(e){e.xmin=t(e.xmin),e.ymin=r(e.ymin),e.xmax=t(e.xmax),e.ymax=r(e.ymax)}:"multipoint"===e?function(e){for(var n,i,a=e.points,o=0,s=a.length;o<s;o++){var l=a[o];o>0?(n+=l[0],i+=l[1]):(n=l[0],i=l[1]),l[0]=t(n),l[1]=r(i)}}:void 0},r.__decorate([l.property({type:String,json:{write:!0}})],t.prototype,"displayFieldName",void 0),r.__decorate([l.property({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],t.prototype,"exceededTransferLimit",void 0),r.__decorate([l.property({type:[i],json:{write:!0}})],t.prototype,"features",void 0),r.__decorate([l.reader("features")],t.prototype,"readFeatures",null),r.__decorate([l.property({type:[d],json:{write:!0}})],t.prototype,"fields",void 0),r.__decorate([l.property({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:p.read}}})],t.prototype,"geometryType",void 0),r.__decorate([l.writer("geometryType")],t.prototype,"writeGeometryType",null),r.__decorate([l.property({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],t.prototype,"hasM",void 0),r.__decorate([l.property({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],t.prototype,"hasZ",void 0),r.__decorate([l.property({types:n.geometryTypes,json:{read:c.fromJSON,write:!0}})],t.prototype,"queryGeometry",void 0),r.__decorate([l.property({type:u,json:{write:!0}})],t.prototype,"spatialReference",void 0),r.__decorate([l.writer("spatialReference")],t.prototype,"writeSpatialReference",null),r.__decorate([l.property({json:{write:!0}})],t.prototype,"transform",void 0),r.__decorate([l.subclass("esri.tasks.support.FeatureSet")],t)}(o.JSONSupport);return h.prototype.toJSON.isDefaultToJSON=!0,h||(h={}),h}.apply(null,n))||(e.exports=i)},1985:function(e,t,r){var n=r(99),i=r(1006);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1},o=n(i,a);if(!i.locals||e.hot.invalidate){var s=i.locals;e.hot.accept(1006,(function(){"string"==typeof(i=(i=r(1006)).__esModule?i.default:i)&&(i=[[e.i,i,""]]),function(e,t,r){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!r||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(r&&"default"===n||e[n]))return!1;return!0}(s,i.locals)?(s=i.locals,o(i)):e.hot.invalidate()}))}e.hot.dispose((function(){o()})),e.exports=i.locals||{}},212:function(e,t,r){var n=r(99),i=r(181);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1},o=n(i,a);if(!i.locals||e.hot.invalidate){var s=i.locals;e.hot.accept(181,(function(){"string"==typeof(i=(i=r(181)).__esModule?i.default:i)&&(i=[[e.i,i,""]]),function(e,t,r){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!r||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(r&&"default"===n||e[n]))return!1;return!0}(s,i.locals)?(s=i.locals,o(i)):e.hot.invalidate()}))}e.hot.dispose((function(){o()})),e.exports=i.locals||{}},213:function(e,t,r){"use strict";var n=r(2),i=r.n(n),a=r(3),o=r(108),s=r.n(o),l=r(6),u=r(5),c=r(284),d=r.n(c),p=r(275),h=r.n(p),f=r(266),m=r.n(f),y=r(287),_=r.n(y),v=r(278),g=r.n(v),b=r(157),w=r(188),x=r.n(w),A=r(151),I=r(183);r(212);function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var M,T,C,k=(M=function(e,t){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}M(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),E=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":F(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},P="esri-widget esri-scroll-zoom-toggle",S="esri-scroll-zoom-toggle--inner-wrapper",R="esri-scroll-zoom-toggle--input-checkbox",O=function(e){function t(t){var r=e.call(this,t)||this;return r.enabled=!1,r._toggleZoomOnScroll=function(){r.enabled=!r.enabled,r.enabled?(r.view.navigation.mouseWheelZoomEnabled=!0,r.view.navigation.browserTouchPanEnabled=!0):(r.view.navigation.mouseWheelZoomEnabled=!1,r.view.navigation.browserTouchPanEnabled=!1),console.log(r)},r}return k(t,e),t.prototype.render=function(){return Object(I.tsx)("div",{class:P},Object(I.tsx)("div",{class:S,onclick:this._toggleZoomOnScroll},Object(I.tsx)("div",null,"Enable Scroll Zoom"),Object(I.tsx)("input",{type:"checkbox",class:R,checked:this.enabled})))},E([Object(A.property)(),Object(I.renderable)()],t.prototype,"enabled",void 0),t=E([Object(A.subclass)("esri.widgets.ScrollZoom")],t)}(x.a),L=function(){return(L=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},N=function(e){var t=e.metadata,r=e.sources,a=e.customFeatures,o=e.customFeaturesPerPage,s=e.customMapDOM,l=e.pageRefs,c=e.currentPage,p=e.mapState,f=p.basemap,y=p.layers,v=p.position,w=p.customBehavior,x=Object(n.useRef)(null),A=Object(n.useState)(null),I=A[0],F=A[1],M=Object(n.useState)(!0),T=M[0],C=M[1],k=Object(n.useState)(null),E=k[0],P=k[1];return Object(n.useEffect)((function(){var e=new h.a({basemap:f||null,layers:y}),n=L(L({container:x.current,map:e},v),{navigation:{mouseWheelZoomEnabled:!1,browserTouchPanEnabled:!1}}),o=t.sceneview?new _.a(n):new m.a(n);(o.on("click",(function(e){console.log("view",o),console.log("extent",o.extent),console.log("mappoint",e.mapPoint)})),F({map:e,view:o}),t.fullWidthMap&&!t.sceneview)&&(document.querySelector("#"+t.name+" .esri-ui-top-left").style.left="calc(30% - 10px)");if(t.fullWidthMap&&t.sceneview){var s=document.querySelector("#"+t.name+' div[class^="SideCar"]');s.style.left="40px",s.style.width="500px",s.style.transition="all 0.5s";var l=new g.a({view:o,expandIconClass:"esri-icon-question",expandTooltip:"Information",expanded:!0});o.ui.add([{component:l,position:"top-left",index:0}]),l.container.addEventListener("click",(function(){l.expanded?(s.style.left="40px",s.style.opacity="1",s.style.pointerEvents="auto",s.style.transition="all 0.5s"):(s.style.left="35px",s.style.opacity="0",s.style.pointerEvents="none",s.style.transition="none")}));var c=new O({view:o});o.ui.add(c,"top-right")}document.createElement("div").innerHTML="Data sources here";var p=new g.a({view:o,expandIconClass:"clipboard-icon",expandTooltip:"Data Sources",collapseTooltip:"Close",content:d.a.renderToStaticMarkup(i.a.createElement(u.a,{sources:r,theme:t.theme}))});o.ui.add(p,"bottom-right"),t.disableSpinnerAfterInitialLoad?b.whenTrueOnce(o,"updating",(function(){C(!0)})):b.whenTrue(o,"updating",(function(){C(!0)})),b.whenFalse(o,"updating",(function(){C(!1)})),a&&a({map:e,view:o,layers:y})}),[]),Object(n.useEffect)((function(){I&&(I.map.layers=y)}),[y]),Object(n.useEffect)((function(){I&&(I.map.basemap=f)}),[f,I]),Object(n.useEffect)((function(){I&&v&&I.view.goTo({target:v.center,zoom:v.zoom},{duration:1e3})}),[v]),Object(n.useEffect)((function(){if(I)if(w){var e=I.map,t=I.view;E&&E();var r=w({map:e,view:t});P((function(){return r}))}else E&&E()}),[w,I]),Object(n.useEffect)((function(){if(I&&o){var e=I.view,t=I.map,r=o({map:t,view:e,layers:y,pageRefs:l,currentPage:c});if(r)return r}}),[I,c,o]),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"arcgis-map "+t.name,ref:x}),s&&I&&s(I),T&&i.a.createElement(u.c,null))},V=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},j=a.b.section.withConfig({displayName:"ChapterTemplate__Wrapper",componentId:"sc-1cxnsi8-0"})(T||(T=V(["\n\twidth: 100%;\n\theight: ",";\n\tmin-height: 500px;\n\tposition: relative;\n\tdisplay: flex;\n\tflex-direction: row;\n\tbackground-color: ",";\n\t/* scroll-snap-stop: always;\n\tscroll-snap-align: start; */\n"],["\n\twidth: 100%;\n\theight: ",";\n\tmin-height: 500px;\n\tposition: relative;\n\tdisplay: flex;\n\tflex-direction: row;\n\tbackground-color: ",";\n\t/* scroll-snap-stop: always;\n\tscroll-snap-align: start; */\n"])),(function(e){return e.height||100*e.screensTall+"vh"||"auto"}),(function(e){return"light"===e.maptheme?"":"#242424"})),B=a.b.div.withConfig({displayName:"ChapterTemplate__Trigger",componentId:"sc-1cxnsi8-1"})(C||(C=V(["\n\tposition: absolute;\n\ttop: 0px;\n\tleft: 0px;\n\theight: 3px;\n\twidth: 3px;\n\tpointer-events: none;\n"],["\n\tposition: absolute;\n\ttop: 0px;\n\tleft: 0px;\n\theight: 3px;\n\twidth: 3px;\n\tpointer-events: none;\n"])));t.a=function(e){e.customMap;var t=e.data,r=t.metadata,a=t.sources,o=t.customFeatures,c=t.customFeaturesPerPage,d=t.customMapDOM,p=t.customChapterDOM,h=t.pages,f=Object(n.useState)(0),m=f[0],y=f[1],_=Object(n.useContext)(l.a).dispatch,v={};return Object(n.useMemo)((function(){return i.a.createElement(j,{maptheme:r.theme,id:r.name,screensTall:h.length>1?h.length:1},i.a.createElement(u.i,{floating:r.fullWidthMap},h.map((function(e,t){return i.a.createElement(u.d,{floating:r.fullWidthMap,ref:function(e){return v[t]=e},key:r.name+"-page-"+t},i.a.createElement(u.e,{theme:r.theme,floating:r.fullWidthMap},i.a.createElement(u.g,null,e.title),i.a.createElement(u.f,{floating:r.fullWidthMap},e.content)),i.a.createElement(s.a,{onChange:function(e){e&&(_({type:"SET_NAV",payload:r.name}),y(t))}},(function(e){e.isVisible;return i.a.createElement(B,null)})))}))),i.a.createElement(s.a,{partialVisibility:!0},(function(e){var t=e.isVisible;return i.a.createElement(u.b,{fullWidth:r.fullWidthMap,className:"arcgis-map-"+r.theme},t&&i.a.createElement(N,{mapState:h[m].mapState,customFeatures:o,customFeaturesPerPage:c,customMapDOM:d,metadata:r,sources:a,pageRefs:v,currentPage:m}))})),p&&p)}),[m])}},2296:function(e,t,r){"use strict";r.r(t);var n=r(2),i=r.n(n),a=r(5),o=r(222),s=r.n(o),l=r(488),u=r.n(l),c=r(300),d=r.n(c),p=r(996),h=r.n(p),f={type:"simple",symbol:{type:"simple-fill",outline:{color:[128,128,128,.2],width:"0.5px"}},label:"US County",visualVariables:[{type:"color",field:"Total_Ballots_Counted__Estimate",normalizationField:"Voting_Eligible_Population__VEP",legendOptions:{title:"Percent of Eligible Voters who Voted"},stops:[{value:0,color:"#ebe6df",label:"0%"},{value:.5,color:"#3c82c4",label:"50%"},{value:1,color:"#012c52",label:"100%"}]}]},m=(r(1985),{title:"{STATE_NAME}",content:'\n      <div class="voter-turnout-popup">\n         <h3>Turnout Rate: {VEP_Turnout_Rate}</h3>\n         <table class="esri-widget__table">\n            <tr>\n               <td>Population</td> \n               <td>{POPULATION}</td>\n            </tr>\n            <tr>\n               <td>Voting Elgible Population</td>\n               <td>{Voting_Eligible_Population__VEP}</td>\n            </tr>\n            <tr>\n               <td>Voting Age Population</td>\n               <td>{Voting_Age_Population__VAP_}</td>\n            </tr>\n            <tr>\n               <td>Total Ballots Cast</td>\n               <td>{Total_Ballots_Counted__Estimate}</td>\n            </tr>\n         </table>\n      </div>',fieldInfos:[{fieldName:"POPULATION",format:{digitSeparator:!0,places:0}},{fieldName:"Voting_Eligible_Population__VEP",format:{digitSeparator:!0,places:0}},{fieldName:"Voting_Age_Population__VAP_",format:{digitSeparator:!0,places:0}},{fieldName:"Total_Ballots_Counted__Estimate",format:{digitSeparator:!0,places:2}}]}),y=new s.a({url:"https://services6.arcgis.com/VqchQRhgtql2vsmO/arcgis/rest/services/US_Voter_Turnout_General_Elections_2020/FeatureServer",outFields:["*"],renderer:f,popupTemplate:m}),_=new u.a({portalItem:{id:"228eaa6a4cd34528b443fb71178c8545"}}),v={metadata:{name:"voter_turnout_us",fullWidthMap:!1,theme:"light"},sources:[{name:"US 2020 General Election, Voter Turnout by State",url:"https://www.arcgis.com/home/item.html?id=e53254fa836746b6bd12cdbaf9d3a94f"}],pages:[{title:"Voter Turnout",content:i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,"Meanwhile, back on Earth, U.S. Citizens were voting for more terrestrial interests (with the outcome"," ",i.a.createElement(a.h,{theme:"light",link:"https://spacenews.com/from-the-moon-to-the-earth-how-the-biden-administration-might-reshape-nasa/",linkTitle:'"From the moon to the Earth: How the Biden administration might reshape NASA", Foust, J., spacenews.com, Nov 20, 2020, Retrieved Dec 24, 2020'},"potentially affecting")," ","NASA's goal of returning the moon in 4 years)."),i.a.createElement("p",null," ","Between the government's handling (or mishandling) of the pandemic, nationwide riots, and endless controversy surrounding President Trump, the 2020 U.S. elections saw"," ",i.a.createElement(a.h,{theme:"light",link:"https://www.washingtonpost.com/graphics/2020/elections/voter-turnout/",linkTitle:'"2020 turnout is the highest in over a century", Schaul, K., Washington Post, Nov 5 2020, Retrieved Nov 15, 2020'},"record voter turnout"),"."," ",i.a.createElement(a.h,{theme:"light",link:"https://www.usatoday.com/story/news/politics/2020/10/30/voting-2020-older-americans-casting-ballots-first-time/3745521001/",linkTitle:'"Millions of Americans are voting for the first time this year, and it\'s not just young people", Hauck, G., USA Today, October 30, 2020 Retrieved November 15, 2020'},"Younger and first-time voters showed up in large numbers"),", contributing to the high numbers. Notable first time voters include"," ",i.a.createElement(a.h,{theme:"light",link:"https://www.usatoday.com/story/entertainment/celebrities/2020/06/06/snoop-dogg-says-2020-elections-first-time-he-votes/3163823001/",linkTitle:"\"'I can't stand to see this punk in office': Snoop Dogg on voting for the first time in 2020\", All, R., USA Today, June 6, 2020, Retrieved November 15, 2020"},"Snoop Dogg"),","," ",i.a.createElement(a.h,{theme:"light",link:"https://www.eonline.com/news/1202575/selena-gomez-28-reveals-she-just-voted-for-the-first-time",linkTitle:'"Selena Gomez, 28, Reveals She Just Voted for the First Time", Schnurr, S., E!, October 27, 2020, Retrieved November 15, 2020'},"Selena Gomez"),","," ",i.a.createElement(a.h,{theme:"light",link:"https://www.cnbc.com/2020/10/12/why-shaquille-oneal-voted-for-the-first-time.html",linkTitle:'"Shaq has voted for the first time at age 48", Scipioni, J., October 12, 2020, Retrieved November 15, 2020'},"Shaq"),","," ",i.a.createElement(a.h,{theme:"light",link:"https://www.cnn.com/2020/09/22/us/mike-tyson-will-vote-for-the-first-time-trnd/index.html",linkTitle:'"Why this year will be the first time Mike Tyson will vote", Smith, K, CNN, September 22, 2020, Retrieved November 15, 2020'},"Mike Tyson"),","," ",i.a.createElement(a.h,{theme:"light",link:"https://people.com/politics/celebrities-voting-for-the-first-time/?slide=d7335a4c-e5d8-4a69-8418-d2dc66cf2443#d7335a4c-e5d8-4a69-8418-d2dc66cf2443",linkTitle:'"Celebrities Voting for the First Time in the U.S. Election", Cho, D., People Magazine, November 3, 2020, Retrieved November 15, 2020'},"among others"),"."),i.a.createElement("p",{style:{flexGrow:1}},"Hover over a state for details."),i.a.createElement("div",{id:"voter-turnout-info-div"})),mapState:{basemap:_,layers:[y],position:{center:[-100,38],zoom:2}}}],customFeatures:function(e){var t=e.view,r=e.map,n=new d.a({view:t});t.ui.add(n,"bottom-right");var i=document.getElementById("voter-turnout-info-div"),a=new h.a({container:"voter-turnout-info-div",graphic:{popupTemplate:m},map:r,spatialReference:t.spatialReference});t.whenLayerView(y).then((function(e){var r;t.on("pointer-move",(function(n){t.hitTest(n).then((function(n){var o=n.results.filter((function(e){return e.graphic.layer.popupTemplate}))[0];o?(!t.popup.features.length||t.popup.features.length&&t.popup.features[0].attributes.STATE_NAME!==o.graphic.attributes.STATE_NAME)&&(r&&r.remove(),r=e.highlight(o.graphic),i.style.display="block",a.graphic=o.graphic):r&&r.remove()}))}))}))}},g=r(213);t.default=function(){return i.a.createElement(g.a,{data:v})}},268:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(164),r(230)],void 0===(i=function(e,t,r,n){var i=r("esri-text-decoder")?new TextDecoder("utf-8"):null,a=r("safari")||r("ios")?6:r("ff")?12:32;return function(){function e(e,t,r,n){void 0===r&&(r=0),void 0===n&&(n=e?e.byteLength:0),this._tag=0,this._dataType=99,this.init(e,t,r,n)}return e.prototype.init=function(e,t,r,n){this._data=e,this._dataView=t,this._pos=r,this._end=n},e.prototype.clone=function(){return new e(this._data,this._dataView,this._pos,this._end)},e.prototype.pos=function(){return this._pos},e.prototype.next=function(e){for(;;){if(this._pos===this._end)return!1;var t=this._decodeVarint();if(this._tag=t>>3,this._dataType=7&t,!e||e===this._tag)break;this.skip()}return!0},e.prototype.empty=function(){return this._pos>=this._end},e.prototype.tag=function(){return this._tag},e.prototype.getInt32=function(){return this._decodeVarint()},e.prototype.getInt64=function(){return this._decodeVarint()},e.prototype.getUInt32=function(){var e=4294967295;return e=(127&this._data[this._pos])>>>0,this._data[this._pos++]<128?e:(e=(e|(127&this._data[this._pos])<<7)>>>0,this._data[this._pos++]<128?e:(e=(e|(127&this._data[this._pos])<<14)>>>0,this._data[this._pos++]<128?e:(e=(e|(127&this._data[this._pos])<<21)>>>0,this._data[this._pos++]<128?e:(e=(e|(15&this._data[this._pos])<<28)>>>0,this._data[this._pos++]<128?e:void 0))))},e.prototype.getUInt64=function(){return this._decodeVarint()},e.prototype.getSInt32=function(){var e=this.getUInt32();return e>>>1^-(1&e)|0},e.prototype.getSInt64=function(){return this._decodeSVarint()},e.prototype.getBool=function(){var e=0!==this._data[this._pos];return this._skip(1),e},e.prototype.getEnum=function(){return this._decodeVarint()},e.prototype.getFixed64=function(){var e=this._dataView,t=this._pos,r=e.getUint32(t,!0)+4294967296*e.getUint32(t+4,!0);return this._skip(8),r},e.prototype.getSFixed64=function(){var e=this._dataView,t=this._pos,r=e.getUint32(t,!0)+4294967296*e.getInt32(t+4,!0);return this._skip(8),r},e.prototype.getDouble=function(){var e=this._dataView.getFloat64(this._pos,!0);return this._skip(8),e},e.prototype.getFixed32=function(){var e=this._dataView.getUint32(this._pos,!0);return this._skip(4),e},e.prototype.getSFixed32=function(){var e=this._dataView.getInt32(this._pos,!0);return this._skip(4),e},e.prototype.getFloat=function(){var e=this._dataView.getFloat32(this._pos,!0);return this._skip(4),e},e.prototype.getString=function(){var e=this._getLength(),t=this._pos,r=this._toString(this._data,t,t+e);return this._skip(e),r},e.prototype.getBytes=function(){var e=this._getLength(),t=this._pos,r=this._toBytes(this._data,t,t+e);return this._skip(e),r},e.prototype.processMessageWithArgs=function(e,t,r,n){var i=this.getMessage(),a=e(i,t,r,n);return i.release(),a},e.prototype.processMessage=function(e){var t=this.getMessage(),r=e(t);return t.release(),r},e.prototype.getMessage=function(){var t=this._getLength(),r=e.pool.acquire();return r.init(this._data,this._dataView,this._pos,this._pos+t),this._skip(t),r},e.prototype.release=function(){e.pool.release(this)},e.prototype.skip=function(){switch(this._dataType){case 0:this._decodeVarint();break;case 1:this._skip(8);break;case 2:this._skip(this._getLength());break;case 5:this._skip(4);break;default:throw new Error("Invalid data type!")}},e.prototype._skip=function(e){if(this._pos+e>this._end)throw new Error("Attempt to skip past the end of buffer!");this._pos+=e},e.prototype._decodeVarint=function(){var e,t=this._data,r=this._pos,n=0;if(this._end-r>=10)do{if(n|=127&(e=t[r++]),0==(128&e))break;if(n|=(127&(e=t[r++]))<<7,0==(128&e))break;if(n|=(127&(e=t[r++]))<<14,0==(128&e))break;if(n|=(127&(e=t[r++]))<<21,0==(128&e))break;if(n+=268435456*(127&(e=t[r++])),0==(128&e))break;if(n+=34359738368*(127&(e=t[r++])),0==(128&e))break;if(n+=4398046511104*(127&(e=t[r++])),0==(128&e))break;if(n+=562949953421312*(127&(e=t[r++])),0==(128&e))break;if(n+=72057594037927940*(127&(e=t[r++])),0==(128&e))break;if(n+=0x8000000000000000*(127&(e=t[r++])),0==(128&e))break;throw new Error("Varint too long!")}while(0);else{for(var i=1;r!==this._end&&0!=(128&(e=t[r]));)++r,n+=(127&e)*i,i*=128;if(r===this._end)throw new Error("Varint overrun!");++r,n+=e*i}return this._pos=r,n},e.prototype._decodeSVarint=function(){var e=this._decodeVarint();return e%2?-(e+1)/2:e/2},e.prototype._getLength=function(){if(2!==this._dataType)throw new Error("Not a delimited data type!");return this._decodeVarint()},e.prototype._toString=function(e,t,r){if((r=Math.min(this._end,r))-t>a&&i){var n=e.subarray(t,r);return i.decode(n)}for(var o="",s="",l=t;l<r;++l){var u=e[l];128&u?s+="%"+u.toString(16):(o+=decodeURIComponent(s)+String.fromCharCode(u),s="")}return s.length&&(o+=decodeURIComponent(s)),o},e.prototype._toBytes=function(e,t,r){return r=Math.min(this._end,r),new Uint8Array(e.buffer,t,r-t)},e.pool=new n(e,null,(function(e){e._data=null,e._dataView=null})),e}()}.apply(null,n))||(e.exports=i)},332:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(117)],void 0===(i=function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getSourceLayer=function(e){if(e)return e.get("sourceLayer")||e.get("layer")},t.graphicCallback=function(e,t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(r){return[2,"function"==typeof e?e.call(null,t):e]}))}))},t.shouldOpenInNewTab=function(e){if(void 0===e&&(e=""),e)return!/^(?:mailto:|tel:)/.test(e.trim().toLowerCase())};var n=/^\s*expression\//i;function i(e){return n.test(e)}t.isExpressionField=i,t.getFieldInfoLabel=function(e,t){var r=function(e,t){if(!i(t)||!e)return null;var r,a=t.replace(n,"").toLowerCase();return e.some((function(e){return e.name.toLowerCase()===a&&(r=e,!0)})),r}(t,null==e?void 0:e.fieldName);return r?r.title||null:e?e.label||e.fieldName:null}}.apply(null,n))||(e.exports=i)},699:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(117),r(174),r(169),r(154),r(236),r(157),r(151),r(695),r(527),r(332)],void 0===(i=function(e,t,r,n,i,a,o,s,l,u,c,d){var p={editing:!1,operations:{add:!0,update:!0,delete:!0}},h=i.ofType(u);return function(e){function t(t){var n=e.call(this,t)||this;return n._getAttachmentsPromise=null,n._attachmentLayer=null,n.abilities=r.__assign({},p),n.activeAttachmentInfo=null,n.attachmentInfos=new h,n.graphic=null,n.mode="view",n.handles.add([s.init(n,"graphic",(function(){return n._graphicChanged()}))]),n}return r.__extends(t,e),t.prototype.destroy=function(){this._attachmentLayer=null,this.graphic=null},t.prototype.castAbilities=function(e){return r.__assign(r.__assign({},p),e)},Object.defineProperty(t.prototype,"state",{get:function(){return this._getAttachmentsPromise?"loading":this.graphic?"ready":"disabled"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"supportsResizeAttachments",{get:function(){return this.get("graphic.layer.capabilities.operations.supportsResizeAttachments")||!1},enumerable:!0,configurable:!0}),t.prototype.getAttachments=function(){return r.__awaiter(this,void 0,void 0,(function(){var e,t,n,i,o,s,l,u;return r.__generator(this,(function(r){switch(r.label){case 0:if(t=(e=this)._attachmentLayer,n=e.attachmentInfos,!t||"function"!=typeof t.queryAttachments)throw new a("invalid-layer","getAttachments(): A valid layer is required.");return i=this._getFeatureId(),o=new c({objectIds:[i],returnMetadata:!0}),s=[],l=t.queryAttachments(o).then((function(e){return e[i]||s})).catch((function(){return s})),this._getAttachmentsPromise=l,this.notifyChange("state"),[4,l];case 1:return u=r.sent(),n.removeAll(),u.length&&n.addMany(u),this._getAttachmentsPromise=null,this.notifyChange("state"),[2,u]}}))}))},t.prototype.addAttachment=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,n,i,o,s,l,u=this;return r.__generator(this,(function(r){switch(r.label){case 0:if(n=(t=this)._attachmentLayer,i=t.attachmentInfos,o=t.graphic,s=t.abilities,!e)throw new a("invalid-attachment","addAttachment(): An attachment is required.",{attachment:e});if(!s.operations.add)throw new a("invalid-abilities","addAttachment(): add abilities are required.");if(!n||"function"!=typeof n.addAttachment)throw new a("invalid-layer","addAttachment(): A valid layer is required.");return[4,n.addAttachment(o,e).then((function(e){return u._queryAttachment(e.objectId)}))];case 1:return l=r.sent(),i.add(l),[2,l]}}))}))},t.prototype.deleteAttachment=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,n,i,o,s,l;return r.__generator(this,(function(r){switch(r.label){case 0:if(n=(t=this)._attachmentLayer,i=t.attachmentInfos,o=t.graphic,s=t.abilities,!e)throw new a("invalid-attachment-info","deleteAttachment(): An attachmentInfo is required.",{attachmentInfo:e});if(!s.operations.delete)throw new a("invalid-abilities","deleteAttachment(): delete abilities are required.");if(!n||"function"!=typeof n.deleteAttachments)throw new a("invalid-layer","deleteAttachment(): A valid layer is required.");return[4,n.deleteAttachments(o,[e.id]).then((function(){return e}))];case 1:return l=r.sent(),i.remove(l),[2,l]}}))}))},t.prototype.updateAttachment=function(e,t){return void 0===t&&(t=this.activeAttachmentInfo),r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,l,u,c,d=this;return r.__generator(this,(function(r){switch(r.label){case 0:if(i=(n=this)._attachmentLayer,o=n.attachmentInfos,s=n.graphic,l=n.abilities,!e)throw new a("invalid-attachment","updateAttachment(): An attachment is required.",{attachment:e});if(!t)throw new a("invalid-attachment-info","updateAttachment(): An attachmentInfo is required.",{attachmentInfo:t});if(!l.operations.update)throw new a("invalid-abilities","updateAttachment(): Update abilities are required.");if(u=o.findIndex((function(e){return e===t})),!i||"function"!=typeof i.updateAttachment)throw new a("invalid-layer","updateAttachment(): A valid layer is required.");return[4,i.updateAttachment(s,t.id,e).then((function(e){return d._queryAttachment(e.objectId)}))];case 1:return c=r.sent(),o.splice(u,1,c),[2,c]}}))}))},t.prototype._queryAttachment=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,n,i;return r.__generator(this,(function(r){if(!e)throw new a("invalid-attachment-id","Could not query attachment.");return t=this._attachmentLayer,n=this._getFeatureId(),i=new c({objectIds:[n],attachmentsWhere:"AttachmentId="+e,returnMetadata:!0}),[2,t.queryAttachments(i).then((function(e){return e[n][0]}))]}))}))},t.prototype._getFeatureId=function(){var e=this._attachmentLayer,t=this.graphic;if(!e||!t)return null;var r=e.objectIdField,n=t.attributes;return n&&n[r]},t.prototype._graphicChanged=function(){this.graphic&&(this._setAttachmentLayer(),this.getAttachments().catch((function(){})))},t.prototype._setAttachmentLayer=function(){var e=this.graphic,t=d.getSourceLayer(e);this._attachmentLayer=t?"scene"===t.type&&t.associatedLayer?t.associatedLayer:t:null},r.__decorate([l.property()],t.prototype,"abilities",void 0),r.__decorate([l.cast("abilities")],t.prototype,"castAbilities",null),r.__decorate([l.property()],t.prototype,"activeAttachmentInfo",void 0),r.__decorate([l.property({readOnly:!0,type:h})],t.prototype,"attachmentInfos",void 0),r.__decorate([l.property({type:n})],t.prototype,"graphic",void 0),r.__decorate([l.property()],t.prototype,"mode",void 0),r.__decorate([l.property({dependsOn:["graphic"],readOnly:!0})],t.prototype,"state",null),r.__decorate([l.property({readOnly:!0,dependsOn:["graphic","graphic.layer","graphic.layer.loaded","graphic.layer.capabilities.operations.supportsResizeAttachments"]})],t.prototype,"supportsResizeAttachments",null),r.__decorate([l.subclass("esri.widgets.Attachments.AttachmentsViewModel")],t)}(o.HandleOwner)}.apply(null,n))||(e.exports=i)},700:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(117),r(174),r(158),r(236),r(157),r(151),r(332)],void 0===(i=function(e,t,r,n,i,a,o,s,l){return function(e){function t(t){var r=e.call(this,t)||this;return r._loadingPromise=null,r.created=null,r.creator=null,r.destroyer=null,r.graphic=null,r.handles.add(o.init(r,"creator",(function(e){r._destroyContent(),r._createContent(e)}))),r}return r.__extends(t,e),t.prototype.destroy=function(){this._destroyContent()},Object.defineProperty(t.prototype,"state",{get:function(){return this._loadingPromise?"loading":"ready"},enumerable:!0,configurable:!0}),t.prototype._destroyContent=function(){var e=this.created,t=this.graphic,r=this.destroyer;e&&(l.graphicCallback(r,{graphic:t}).catch((function(){return null})),this._set("created",null))},t.prototype._createContent=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,n,i;return r.__generator(this,(function(r){switch(r.label){case 0:return t=this.graphic,n=l.graphicCallback(e,{graphic:t}).catch((function(){return null})),this._loadingPromise=n,this.notifyChange("state"),[4,n];case 1:return i=r.sent(),n!==this._loadingPromise||(this._loadingPromise=null,this.notifyChange("state"),this._set("created",i)),[2]}}))}))},r.__decorate([s.property({readOnly:!0})],t.prototype,"created",void 0),r.__decorate([s.property()],t.prototype,"creator",void 0),r.__decorate([s.property()],t.prototype,"destroyer",void 0),r.__decorate([s.property({type:n})],t.prototype,"graphic",void 0),r.__decorate([s.property({readOnly:!0})],t.prototype,"state",null),r.__decorate([s.subclass("esri.widgets.Feature.FeatureContent.FeatureContentViewModel")],t)}(a.HandleOwnerMixin(i))}.apply(null,n))||(e.exports=i)},701:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(117),r(158),r(151),r(769),r(519),r(332)],void 0===(i=function(e,t,r,n,i,a,o,s){return function(e){function t(t){var r=e.call(this,t)||this;return r.attributes=null,r.expressionInfos=null,r.fieldInfos=null,r}return r.__extends(t,e),Object.defineProperty(t.prototype,"formattedFieldInfos",{get:function(){var e=this.expressionInfos,t=this.fieldInfos,r=[];return null==t||t.forEach((function(t){if(!t.hasOwnProperty("visible")||t.visible){var n=t.clone();n.label=s.getFieldInfoLabel(n,e),r.push(n)}})),r},enumerable:!0,configurable:!0}),r.__decorate([i.property()],t.prototype,"attributes",void 0),r.__decorate([i.property({type:[a]})],t.prototype,"expressionInfos",void 0),r.__decorate([i.property({type:[o]})],t.prototype,"fieldInfos",void 0),r.__decorate([i.property({readOnly:!0,dependsOn:["expressionInfos","fieldInfos"]})],t.prototype,"formattedFieldInfos",null),r.__decorate([i.subclass("esri.widgets.Feature.FeatureFields.FeatureFieldsViewModel")],t)}(n)}.apply(null,n))||(e.exports=i)},996:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(117),r(258),r(270),r(516),r(157),r(151),r(997),r(188),r(1e3),r(1001),r(1003),r(910),r(332),r(1005),r(183),r(576)],void 0===(i=function(e,t,r,n,i,a,o,s,l,u,c,d,p,h,f,m,y,_){var v="esri-icon-left-triangle-arrow",g="esri-icon-right-triangle-arrow",b="esri-feature__button",w="esri-feature__icon",x="esri-feature__content-element",A={title:!0,content:!0,lastEditedInfo:!0};return function(e){function t(t,n){var i=e.call(this,t,n)||this;return i._chartUIds=new Map,i._contentElementCharts=new Map,i._activeMediaMap=new Map,i._refreshTimers=new Map,i._mediaInfo=new Map,i._renderChartThrottled=a.throttle((function(e){return i._renderChart(e)}),100),i._contentWidgets=[],i.graphic=null,i.defaultPopupTemplateEnabled=!1,i.label=void 0,i.messages=null,i.messagesURIUtils=null,i.spatialReference=null,i.title=null,i.visibleElements=r.__assign({},A),i.map=null,i.view=null,i.viewModel=new p,i}return r.__extends(t,e),t.prototype.initialize=function(){var e=this;this.own(o.init(this,"viewModel.content",(function(){e._setupMediaRefreshTimers(),e._setupContentWidgets()})),o.init(this,"viewModel.graphic",(function(){return e._disposeCharts()})))},t.prototype.destroy=function(){this._clearMediaRefreshTimers(),this._activeMediaMap.clear(),this._activeMediaMap=null,this._destroyContentWidgets(),this._disposeCharts()},t.prototype.castVisibleElements=function(e){return r.__assign(r.__assign({},A),e)},t.prototype.render=function(){var e=this.viewModel.waitingForContent;return y.tsx("div",{class:this.classes("esri-feature","esri-widget")},y.tsx("div",{class:"esri-feature__size-container"},this.renderTitle(),e?this.renderLoading():this.renderContentContainer()))},t.prototype.goToMedia=function(e,t){this._setContentElementMedia(e,t)},t.prototype.nextMedia=function(e){this._pageContentElementMedia(e,"next")},t.prototype.previousMedia=function(e){this._pageContentElementMedia(e,"previous")},t.prototype.renderLoading=function(){return y.tsx("div",{key:"loading-container",class:"esri-feature__loading-container"},y.tsx("span",{class:this.classes("esri-icon-loading-indicator esri-rotating","esri-feature__loading-spinner")}))},t.prototype.renderContentContainer=function(){return this.visibleElements.content?y.tsx("div",{class:"esri-feature__main-container"},[this.renderContent(),this.renderLastEditInfo()]):null},t.prototype.renderTitle=function(){var e=this.visibleElements,t=this.title;return e.title?y.tsx("h4",{class:"esri-feature__title",innerHTML:t}):null},t.prototype.renderContent=function(){var e=this.viewModel.content;if(!e)return null;if(Array.isArray(e))return e.length?y.tsx("div",{key:"content-content-elements"},e.map(this.renderContentElement,this)):null;if("string"==typeof e){var t=this._contentWidgets[0];return!t||t.destroyed?null:y.tsx("div",{key:"content-content"},t.render())}return this.renderNodeContent(e)},t.prototype.renderContentElement=function(e,t){var r=this.visibleElements;if("boolean"!=typeof r.content&&!r.content[e.type])return null;switch(e.type){case"attachments":return this.renderAttachments(t);case"custom":return this.renderCustom(e,t);case"fields":return this.renderFields(t);case"media":return this.renderMedia(e,t);case"text":return this.renderText(e,t);default:return null}},t.prototype.renderAttachments=function(e){var t=this._contentWidgets[e];if(!t||t.destroyed)return null;var r=t.viewModel,n=r.state,i=r.attachmentInfos;return"loading"===n||i.length>0?y.tsx("div",{key:this._buildKey("attachments-element",e),class:this.classes("esri-feature__attachments",x)},y.tsx("h2",null,this.messages.attach),t.render()):null},t.prototype.renderCustom=function(e,t){var r=e.creator,n=this._contentWidgets[t];return!n||n.destroyed?null:r?y.tsx("div",{key:this._buildKey("custom-element",t),class:x},n.render()):null},t.prototype.renderFields=function(e){var t=this._contentWidgets[e];return!t||t.destroyed?null:y.tsx("div",{key:this._buildKey("fields-element",e),class:x},t.render())},t.prototype.renderMediaInfoType=function(e){var t=e.mediaInfo,r=e.total,n=e.contentElementIndex,i=e.activeMediaIndex;if(!t)return null;var a=t.title,o=void 0===a?"":a,s=t.altText,l=void 0===s?"":s;if("image"===t.type){var u=t,c=u.value,d=u.refreshInterval,p=c.sourceURL,h=c.linkURL,m=f.shouldOpenInNewTab(h)?"_blank":"_self",_="_blank"===m?"noreferrer":"",v=d?this._mediaInfo.get(n):null,g=v?v.timestamp:0,b=v?v.sourceURL:p,w=y.tsx("img",{alt:l||o,key:this._buildKey(t.type,r,n,i,g),src:b});return(h?y.tsx("a",{title:o,href:h,rel:_,target:m},w):null)||w}return-1!==t.type.indexOf("chart")?y.tsx("div",{key:this._buildKey(t.type,r,n,i),bind:this,"data-media-info":t,"data-content-element-index":n,class:"esri-feature__media-chart",afterCreate:this._getChartDependencies,afterRemoved:this._disposeChartByNode}):void 0},t.prototype.renderMediaInfo=function(e){var t=e.total,r=e.mediaInfo,n=e.contentElementIndex,i=e.activeMediaIndex;if(!r)return null;var a=r.title?y.tsx("div",{key:this._buildKey("media-title",r.type,t,n),class:"esri-feature__media-item-title",innerHTML:r.title}):null,o=r.caption?y.tsx("div",{key:this._buildKey("media-caption",r.type,t,n),class:"esri-feature__media-item-caption",innerHTML:r.caption}):null;return y.tsx("div",{key:this._buildKey("media-container",r.type,t,n),class:"esri-feature__media-item-container"},a,o,y.tsx("div",{key:this._buildKey("media-item-container",r.type,t,n),class:"esri-feature__media-item"},this.renderMediaInfoType({total:t,mediaInfo:r,contentElementIndex:n,activeMediaIndex:i})))},t.prototype.renderMediaPageButton=function(e,t){var r="previous"===e,n=r?this.messages.previous:this.messages.next,i=r?this.classes(b,"esri-feature__media-previous"):this.classes(b,"esri-feature__media-next"),a=r?this.classes(w,"esri-feature__media-previous-icon",v):this.classes(w,"esri-feature__media-next-icon",g),o=r?this.classes(w,"esri-feature__media-previous-icon--rtl",g):this.classes(w,"esri-feature__media-next-icon--rtl",v),s=r?"media-previous":"media-next",l=r?this._previousClick:this._nextClick;return y.tsx("div",{key:this._buildKey(s,t),title:n,tabIndex:0,role:"button",class:i,"data-content-element-index":t,bind:this,onkeydown:l,onclick:l},y.tsx("span",{"aria-hidden":"true",class:a}),y.tsx("span",{"aria-hidden":"true",class:o}),y.tsx("span",{class:"esri-icon-font-fallback-text"},n))},t.prototype.renderMedia=function(e,t){var r,n,i=null===(n=e.mediaInfos)||void 0===n?void 0:n.filter(Boolean),a=(null==i?void 0:i.length)||0,o=((r={})["esri-feature--media-pagination-visible"]=a>1,r),s=this.renderMediaPageButton("previous",t),l=this.renderMediaPageButton("next",t),u=this._activeMediaMap.get(t);return isNaN(u)&&(this._activeMediaMap.set(t,0),u=0),a?y.tsx("div",{key:this._buildKey("media-element",t),"data-content-element-index":t,bind:this,onkeyup:this._handleMediaKeyup,class:this.classes("esri-feature__media",x,o)},y.tsx("div",{key:this._buildKey("media-element-container",t),class:"esri-feature__media-container"},s,this.renderMediaInfo({total:a,mediaInfo:i[u],contentElementIndex:t,activeMediaIndex:u}),l)):null},t.prototype.renderLastEditInfo=function(){var e=this.visibleElements,t=this.messages,r=this.viewModel.lastEditInfo;if(!r||!e.lastEditedInfo)return null;var i=r.date,a=r.user,o="edit"===r.type?a?t.lastEditedByUser:t.lastEdited:a?t.lastCreatedByUser:t.lastCreated,s=n.substitute(o,{date:i,user:a});return y.tsx("div",{key:"edit-info-element",class:this.classes("esri-feature__last-edited-info",x)},s)},t.prototype.renderText=function(e,t){var r=e.text,n=this._contentWidgets[t];return!n||n.destroyed?null:r?y.tsx("div",{key:this._buildKey("text-element",t),class:this.classes(x,"esri-feature__text")},n.render()):null},t.prototype._buildKey=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=this.get("viewModel.graphic.uid")||"0",i=t.join("-");return e+"__"+n+"-"+i},t.prototype._disposeCharts=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return this._chartUIds.forEach((function(e){return e.dispose()})),this._chartUIds.clear(),this._contentElementCharts.forEach((function(e){return e.dispose()})),this._contentElementCharts.clear(),[2]}))}))},t.prototype._clearMediaRefreshTimers=function(){this._refreshTimers.forEach((function(e){return clearTimeout(e)})),this._refreshTimers.clear()},t.prototype._clearMediaRefreshTimer=function(e){var t=this._refreshTimers.get(e);t&&(clearTimeout(t),this._refreshTimers.delete(e))},t.prototype._getImageSource=function(e,t){var r=-1!==e.indexOf("?")?"&":"?",n=e.split("#"),i=n[0],a=n[1],o=void 0===a?"":a;return""+i+r+"timestamp="+t+(o?"#":"")+o},t.prototype._setupMediaRefreshTimer=function(e){var t=this.get("viewModel.content");if(Array.isArray(t)){var r=t[e];if(r&&"media"===r.type){var n=this._activeMediaMap.get(e);isNaN(n)&&(n=0);var i=r.mediaInfos[n];i&&"image"===i.type&&i.refreshInterval&&this._setRefreshTimeout(e,i)}}},t.prototype._destroyContentWidgets=function(){this._contentWidgets.forEach((function(e){return e&&!e.destroyed&&e.destroy()})),this._contentWidgets=[]},t.prototype._setupContentWidgets=function(){var e=this;this._destroyContentWidgets(),this._activeMediaMap.clear();var t=this.get("viewModel.content"),r=this.viewModel.contentVMs;if(Array.isArray(t))t.forEach((function(t,n){"attachments"===t.type&&(e._contentWidgets[n]=new l({displayType:t.displayType,viewModel:r[n]})),"fields"===t.type&&(e._contentWidgets[n]=new d({viewModel:r[n]})),"text"===t.type&&(e._contentWidgets[n]=new c({viewModel:r[n]})),"custom"===t.type&&(e._contentWidgets[n]=new c({viewModel:r[n]}))}),this);else{var n=r[0];n&&!n.destroyed&&(this._contentWidgets[0]=new c({viewModel:n}))}this.scheduleRender()},t.prototype._setupMediaRefreshTimers=function(){var e=this;this._clearMediaRefreshTimers();var t=this.get("viewModel.content");Array.isArray(t)&&t.forEach((function(t,r){return e._setupMediaRefreshTimer(r)}))},t.prototype._updateMediaInfoTimestamp=function(e,t){var r=Date.now();this._mediaInfo.set(t,{timestamp:r,sourceURL:this._getImageSource(e,r)}),this.scheduleRender()},t.prototype._setRefreshTimeout=function(e,t){var r=this,n=t.refreshInterval,i=t.value;if(n){var a=6e4*n;this._updateMediaInfoTimestamp(i.sourceURL,e);var o=setInterval((function(){r._updateMediaInfoTimestamp(i.sourceURL,e)}),a);this._refreshTimers.set(e,o)}},t.prototype._getChartDependencies=function(e){var t=this,r=e["data-media-info"],n=e["data-content-element-index"];this._disposeChartByNode(e),this._disposeChartByContgentElementIndex(n);var i=r.value,a=r.type;m.loadChartsModule().then((function(o){return t._renderChartThrottled({chartDiv:e,mediaInfo:r,contentElementIndex:n,type:a,value:i,chartsModule:o})}))},t.prototype._disposeChartByContgentElementIndex=function(e){var t=this._contentElementCharts.get(e);t&&t.dispose()},t.prototype._disposeChartByNode=function(e){var t=e.getAttribute("data-chart-uid"),r=this._chartUIds.get(t);r&&r.dispose()},t.prototype._customizeChartTooltip=function(e,t){e.label.wrap=!0,e.label.maxWidth=200,e.autoTextColor=!1,e.getFillFromObject=!1,e.label.fill=t.color("#ffffff"),e.background.fill=t.color({r:0,g:0,b:0,a:.7})},t.prototype._createPieChart=function(e){var t=e.chartDiv,r=e.chartsModule,n=r.am4core,i=r.am4charts,a=n.create(t,i.PieChart);a.rtl=_.isRTL();var o=a.series.push(new i.PieSeries);return o.labels.template.disabled=!0,o.ticks.template.disabled=!0,o.dataFields.value="y",o.dataFields.category="x",this._customizeChartTooltip(o.tooltip,n),a},t.prototype._getMinSeriesValue=function(e){var t=0;return e.forEach((function(e){return t=Math.min(e.x,t)})),t},t.prototype._createXYChart=function(e){var t=e.chartDiv,r=e.type,n=e.value,i=e.chartsModule,a=i.am4core,o=i.am4charts,s=a.create(t,o.XYChart);s.rtl=_.isRTL();var l=n.series.length>15;if("column-chart"===r){var u=s.xAxes.push(new o.CategoryAxis);u.dataFields.category="x",u.renderer.labels.template.disabled=!0,this._customizeChartTooltip(u.tooltip,a),u.tooltip.events.on("sizechanged",(function(){u.tooltip.dy=-u.tooltip.contentHeight}));var c=(p=s.yAxes.push(new o.ValueAxis)).renderer.labels.template;p.renderer.minLabelPosition=.05,p.renderer.maxLabelPosition=.95,p.min=this._getMinSeriesValue(n.series),this._customizeChartTooltip(p.tooltip,a),c.wrap=!0,(h=s.series.push(new o.ColumnSeries)).dataFields.valueY="y",h.dataFields.categoryX="x",s.cursor=new o.XYCursor,l&&(s.scrollbarX=new a.Scrollbar)}if("bar-chart"===r){var d=s.yAxes.push(new o.CategoryAxis);d.dataFields.category="x",d.renderer.inversed=!0,d.renderer.labels.template.disabled=!0,this._customizeChartTooltip(d.tooltip,a),d.tooltip.events.on("sizechanged",(function(){d.tooltip.dx=d.tooltip.contentWidth})),c=(p=s.xAxes.push(new o.ValueAxis)).renderer.labels.template,p.renderer.minLabelPosition=.05,p.renderer.maxLabelPosition=.95,p.min=this._getMinSeriesValue(n.series),this._customizeChartTooltip(p.tooltip,a),c.wrap=!0,(h=s.series.push(new o.ColumnSeries)).dataFields.valueX="y",h.dataFields.categoryY="x",s.cursor=new o.XYCursor,l&&(s.scrollbarY=new a.Scrollbar)}if("line-chart"===r){var p,h,f=s.xAxes.push(new o.CategoryAxis);f.dataFields.category="x",f.renderer.labels.template.disabled=!0,this._customizeChartTooltip(f.tooltip,a),f.tooltip.events.on("sizechanged",(function(){f.tooltip.dy=-f.tooltip.contentHeight})),c=(p=s.yAxes.push(new o.ValueAxis)).renderer.labels.template,p.renderer.minLabelPosition=.05,p.renderer.maxLabelPosition=.95,p.min=this._getMinSeriesValue(n.series),this._customizeChartTooltip(p.tooltip,a),c.wrap=!0,(h=s.series.push(new o.LineSeries)).dataFields.categoryX="x",h.dataFields.valueY="y",s.cursor=new o.XYCursor,l&&(s.scrollbarX=new a.Scrollbar)}return s},t.prototype._renderChart=function(e){var t=e.type,r=e.mediaInfo,n=e.contentElementIndex,i=e.value,a=e.chartsModule,o=e.chartDiv;a.am4core.useTheme(a.am4themes_animated);var s="pie-chart"===t?this._createPieChart(e):this._createXYChart(e);this._chartUIds.set(s.uid,s),this._contentElementCharts.set(n,s),o.setAttribute("data-chart-uid",s.uid),o.setAttribute("aria-label",r.altText||r.title),s.data=i.series.map((function(e){return{x:e.tooltip,y:e.y}}))},t.prototype._handleMediaKeyup=function(e){var t=e.currentTarget["data-content-element-index"],r=i.eventKey(e);"ArrowLeft"===r&&(e.stopPropagation(),this.previousMedia(t)),"ArrowRight"===r&&(e.stopPropagation(),this.nextMedia(t))},t.prototype._setContentElementMedia=function(e,t){this._clearMediaRefreshTimer(e);var r=this.viewModel.content,n=r&&r[e],i=n&&n.mediaInfos;if(i&&i.length){var a=(t+i.length)%i.length;this._activeMediaMap.set(e,a),this._setupMediaRefreshTimer(e),this.scheduleRender()}},t.prototype._pageContentElementMedia=function(e,t){var r="previous"===t?-1:1,n=this._activeMediaMap.get(e)+r;this._setContentElementMedia(e,n)},t.prototype._previousClick=function(e){var t=e.currentTarget["data-content-element-index"];this.previousMedia(t)},t.prototype._nextClick=function(e){var t=e.currentTarget["data-content-element-index"];this.nextMedia(t)},r.__decorate([s.aliasOf("viewModel.graphic")],t.prototype,"graphic",void 0),r.__decorate([s.aliasOf("viewModel.defaultPopupTemplateEnabled")],t.prototype,"defaultPopupTemplateEnabled",void 0),r.__decorate([s.property({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],t.prototype,"label",void 0),r.__decorate([s.property(),y.renderable(),y.messageBundle("esri/widgets/Feature/t9n/Feature")],t.prototype,"messages",void 0),r.__decorate([s.property(),y.renderable(),y.messageBundle("esri/widgets/support/t9n/uriUtils")],t.prototype,"messagesURIUtils",void 0),r.__decorate([s.aliasOf("viewModel.spatialReference")],t.prototype,"spatialReference",void 0),r.__decorate([s.aliasOf("viewModel.title")],t.prototype,"title",void 0),r.__decorate([s.property(),y.renderable()],t.prototype,"visibleElements",void 0),r.__decorate([s.cast("visibleElements")],t.prototype,"castVisibleElements",null),r.__decorate([s.aliasOf("viewModel.map")],t.prototype,"map",void 0),r.__decorate([s.aliasOf("viewModel.view")],t.prototype,"view",void 0),r.__decorate([s.property({type:p}),y.renderable(["viewModel.waitingForContent","viewModel.content","viewModel.lastEditInfo","viewModel.contentVMs"])],t.prototype,"viewModel",void 0),r.__decorate([y.accessibleHandler()],t.prototype,"_previousClick",null),r.__decorate([y.accessibleHandler()],t.prototype,"_nextClick",null),r.__decorate([s.subclass("esri.widgets.Feature")],t)}(h.FeatureContentMixin(u))}.apply(null,n))||(e.exports=i)},997:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(117),r(154),r(998),r(157),r(151),r(188),r(699),r(999),r(183)],void 0===(i=function(e,t,r,n,i,a,o,s,l,u,c){var d={addButton:!0,addSubmitButton:!0,cancelAddButton:!0,cancelUpdateButton:!0,deleteButton:!0,errorMessage:!0,progressBar:!0,updateButton:!0},p="esri-attachments__item-button",h="esri-attachments__form-node",f="esri-attachments__file-fieldset",m="esri-attachments__file-label",y="esri-attachments__file-name",_="esri-attachments__file-input",v="esri-attachments__metadata-fieldset",g="esri-button",b="esri-button--disabled",w="esri-button--secondary",x="esri-button--tertiary",A="esri-button--third",I="esri-button--small",F="esri-button--half",M=window.CSS;return function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.abilities=null,i.displayType="list",i.graphic=null,i.label=void 0,i.messages=null,i.messagesUnits=null,i.selectedFile=null,i.submitting=!1,i.viewModel=new l,i.visibleElements=r.__assign({},d),i._supportsImageOrientation=M&&M.supports&&M.supports("image-orientation","from-image"),i._addAttachmentForm=null,i._updateAttachmentForm=null,i}return r.__extends(t,e),t.prototype.initialize=function(){var e=this;this.own(a.on(this,"viewModel.attachmentInfos","change",(function(){return e.scheduleRender()})),a.init(this,"viewModel.mode",(function(){return e._modeChanged()})))},t.prototype.castVisibleElements=function(e){return r.__assign(r.__assign({},d),e)},t.prototype.addAttachment=function(){var e=this,t=this._addAttachmentForm,r=this.viewModel;return this._set("submitting",!0),this._set("error",null),r.addAttachment(t).then((function(t){return e._set("submitting",!1),e._set("error",null),r.mode="view",t})).catch((function(t){throw e._set("submitting",!1),e._set("error",new n("attachments:add-attachment",e.messages.addErrorMessage,t)),t}))},t.prototype.deleteAttachment=function(e){var t=this,r=this.viewModel;return this._set("submitting",!0),this._set("error",null),r.deleteAttachment(e).then((function(e){return t._set("submitting",!1),t._set("error",null),r.mode="view",e})).catch((function(e){throw t._set("submitting",!1),t._set("error",new n("attachments:delete-attachment",t.messages.deleteErrorMessage,e)),e}))},t.prototype.updateAttachment=function(){var e=this,t=this.viewModel,r=this._updateAttachmentForm;return this._set("submitting",!0),this._set("error",null),t.updateAttachment(r).then((function(r){return e._set("submitting",!1),e._set("error",null),t.mode="view",r})).catch((function(t){throw e._set("submitting",!1),e._set("error",new n("attachments:update-attachment",e.messages.updateErrorMessage,t)),t}))},t.prototype.render=function(){var e=this.submitting,t=this.viewModel.state;return c.tsx("div",{class:this.classes("esri-attachments","esri-widget")},e?this.renderProgressBar():null,"loading"===t?this.renderLoading():this.renderAttachments(),this.renderErrorMessage())},t.prototype.renderErrorMessage=function(){var e=this.error,t=this.visibleElements;return e&&t.errorMessage?c.tsx("div",{key:"error-message",class:"esri-attachments__error-message"},e.message):null},t.prototype.renderAttachments=function(){var e=this.viewModel,t=e.mode,r=e.activeAttachmentInfo;return"add"===t?this.renderAddForm():"edit"===t?this.renderDetailsForm(r):this.renderAttachmentContainer()},t.prototype.renderLoading=function(){return c.tsx("div",{class:"esri-attachments__loader-container",key:"loader"},c.tsx("div",{class:"esri-attachments__loader"}))},t.prototype.renderProgressBar=function(){return this.visibleElements.progressBar?c.tsx("div",{class:"esri-attachments__progress-bar",key:"progress-bar"}):null},t.prototype.renderAddForm=function(){var e,t=this.submitting,r=this.selectedFile,n=t||!r,i=this.visibleElements.cancelAddButton?c.tsx("button",{type:"button",bind:this,disabled:t,onclick:this._cancelForm,class:this.classes(g,x,I,F,t&&b)},this.messages.cancel):null,a=this.visibleElements.addSubmitButton?c.tsx("button",{type:"submit",disabled:n,class:this.classes(g,w,I,F,(e={},e[b]=n,e))},this.messages.add):null,o=r?c.tsx("span",{key:"file-name",class:y},r.name):null,s=c.tsx("form",{bind:this,afterCreate:c.storeNode,afterRemoved:c.discardNode,"data-node-ref":"_addAttachmentForm",onsubmit:this._submitAddAttachment},c.tsx("fieldset",{class:f},o,c.tsx("label",{class:this.classes(m,g,w)},r?this.messages.changeFile:this.messages.selectFile,c.tsx("input",{class:_,type:"file",name:"attachment",bind:this,onchange:this._handleFileInputChange}))),a,i);return c.tsx("div",{key:"add-form-container",class:h},s)},t.prototype.renderDetailsForm=function(e){var t,r,n,a=this,o=this.visibleElements,s=this.viewModel,l=this.selectedFile,u=this.submitting,d=e.contentType,p=e.size,F=e.url,M=s.abilities,T=u||!l,C=M.editing&&M.operations.delete&&o.deleteButton?c.tsx("button",{key:"delete-button",type:"button",disabled:u,bind:this,onclick:function(t){return a._submitDeleteAttachment(t,e)},class:this.classes(g,I,x,"esri-attachments__delete-button",(t={},t[b]=u,t))},this.messages.delete):null,k=M.editing&&M.operations.update&&o.updateButton?c.tsx("button",{disabled:T,key:"update-button",type:"submit",class:this.classes(g,I,A,(r={},r[b]=T,r))},this.messages.update):null,E=this.visibleElements.cancelUpdateButton?c.tsx("button",{disabled:u,key:"cancel-button",type:"button",bind:this,onclick:this._cancelForm,class:this.classes(g,I,x,A,(n={},n[b]=u,n))},this.messages.cancel):null,P=l?c.tsx("span",{key:"file-name",class:y},l.name):null,S=M.editing&&M.operations.update?c.tsx("fieldset",{key:"file",class:f},P,c.tsx("label",{class:this.classes(m,g,w)},this.messages.changeFile,c.tsx("input",{class:_,type:"file",name:"attachment",bind:this,onchange:this._handleFileInputChange}))):null,R=c.tsx("fieldset",{key:"size",class:v},c.tsx("label",null,i.formatFileSize(this.messagesUnits,p))),O=c.tsx("fieldset",{key:"content-type",class:v},c.tsx("label",null,d)),L=c.tsx("form",{bind:this,afterCreate:c.storeNode,afterRemoved:c.discardNode,"data-node-ref":"_updateAttachmentForm",onsubmit:this._submitUpdateAttachment},c.tsx("div",{class:"esri-attachments__metadata"},R,O),S,c.tsx("div",{class:"esri-attachments__actions"},C,E,k));return c.tsx("div",{key:"edit-form-container",class:h},c.tsx("a",{class:"esri-attachments__item-link",href:F,rel:"noreferrer",target:"_blank",alt:name},this.renderImageMask({attachmentInfo:e,size:400}),c.tsx("div",{class:"esri-attachments__item-link-overlay"},c.tsx("span",{class:"esri-attachments__item-link-overlay-icon"},c.tsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},c.tsx("path",{d:"M28 13h1v16H3V3h16v1H4v24h24zm-5-9h4.293L15.646 15.638l.707.707L28 4.707V9h1V3h-6z"}),c.tsx("path",{fill:"none",d:"M0 0h32v32H0z"}))))),L)},t.prototype.renderImageMask=function(e){var t,r,n=e.attachmentInfo,i=e.size,a=this.viewModel.supportsResizeAttachments,o=n.contentType,s=n.url,l=a&&u.isSupportedImage(o),d=this._getCSSTransform(n,l),p=d?{transform:d,"image-orientation":"none"}:{},h=-1===s.indexOf("?")?"?":"&",f=l?""+s+h+"w="+i:u.getIconPath(o),m=((t={})["esri-attachments__item-mask--icon"]=!l,t),y=((r={})["esri-attachments__image--resizable"]=a,r);return c.tsx("div",{class:this.classes(m,"esri-attachments__item-mask")},c.tsx("img",{styles:p,alt:"",src:f,class:this.classes(y,"esri-attachments__image")}))},t.prototype.renderAttachmentInfo=function(e){var t=this,r=e.attachmentInfo,n=e.displayType,i=this.viewModel.abilities,a=r.name,o=r.url,s=this.renderImageMask({attachmentInfo:r,size:"list"===n?48:400}),l=i.editing?c.tsx("span",{"aria-hidden":"true",class:this.classes("esri-attachments__item-chevron-icon",c.isRTL()?"esri-icon-left":"esri-icon-right")}):null,u=[s,c.tsx("label",{class:"esri-attachments__label"},c.tsx("span",{class:"esri-attachments__filename"},a||this.messages.noTitle),l)],d=i.editing?c.tsx("button",{key:"details-button",bind:this,class:p,title:this.messages.attachmentDetails,"aria-label":this.messages.attachmentDetails,"data-attachment-info-id":r.id,onclick:function(){return t._startEditAttachment(r)}},u):c.tsx("a",{key:"details-link",class:p,href:o,target:"_blank"},u);return c.tsx("li",{class:"esri-attachments__item",key:r},d)},t.prototype.renderAttachmentContainer=function(){var e,t=this,r=this.displayType,n=this.viewModel,i=this.visibleElements,a=n.attachmentInfos,o=n.abilities,s=a&&a.length,l=((e={})["esri-attachments__container--list"]="preview"!==r,e["esri-attachments__container--preview"]="preview"===r,e),u=o.editing&&o.operations.add&&i.addButton?c.tsx("button",{bind:this,onclick:function(){return t._startAddAttachment()},class:this.classes(g,x,"esri-attachments__add-attachment-button")},c.tsx("span",{"aria-hidden":"true",class:this.classes("esri-attachments__item-add-icon","esri-icon-plus")}),this.messages.add):null,d=s?c.tsx("ul",{class:"esri-attachments__items"},a.toArray().map((function(e){return t.renderAttachmentInfo({attachmentInfo:e,displayType:r})}))):c.tsx("div",{class:"esri-widget__content--empty"},this.messages.noAttachments);return c.tsx("div",{key:"attachments-container",class:this.classes("esri-attachments__container",l)},d,u)},t.prototype._modeChanged=function(){this._set("error",null),this._set("selectedFile",null)},t.prototype._handleFileInputChange=function(e){var t=e.target,r=t&&t.files&&t.files.item(0);this._set("selectedFile",r)},t.prototype._submitDeleteAttachment=function(e,t){e.preventDefault(),this.deleteAttachment(t)},t.prototype._submitAddAttachment=function(e){e.preventDefault(),this.addAttachment()},t.prototype._submitUpdateAttachment=function(e){e.preventDefault(),this.updateAttachment()},t.prototype._startEditAttachment=function(e){var t=this.viewModel;t.activeAttachmentInfo=e,t.mode="edit"},t.prototype._startAddAttachment=function(){this.viewModel.mode="add"},t.prototype._cancelForm=function(e){e.preventDefault(),this.viewModel.mode="view"},t.prototype._getCSSTransform=function(e,t){var r=e.orientationInfo;return!this._supportsImageOrientation&&t&&r?[r.rotation?"rotate("+r.rotation+"deg)":"",r.mirrored?"scaleX(-1)":""].join(" "):""},r.__decorate([o.aliasOf("viewModel.abilities")],t.prototype,"abilities",void 0),r.__decorate([o.property(),c.renderable()],t.prototype,"displayType",void 0),r.__decorate([o.aliasOf("viewModel.graphic")],t.prototype,"graphic",void 0),r.__decorate([o.property({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],t.prototype,"label",void 0),r.__decorate([o.property(),c.renderable(),c.messageBundle("esri/widgets/Attachments/t9n/Attachments")],t.prototype,"messages",void 0),r.__decorate([o.property(),c.renderable(),c.messageBundle("esri/core/t9n/Units")],t.prototype,"messagesUnits",void 0),r.__decorate([o.property({readOnly:!0})],t.prototype,"selectedFile",void 0),r.__decorate([c.renderable(),o.property({readOnly:!0})],t.prototype,"submitting",void 0),r.__decorate([c.renderable(),o.property({readOnly:!0})],t.prototype,"error",void 0),r.__decorate([o.property({type:l}),c.renderable(["viewModel.activeAttachmentInfo","viewModel.mode","viewModel.state","viewModel.supportsResizeAttachments","viewModel.attachmentInfos","viewModel.graphic","viewModel.abilities","viewModel.abilities.editing","viewModel.abilities.operations"])],t.prototype,"viewModel",void 0),r.__decorate([o.property(),c.renderable()],t.prototype,"visibleElements",void 0),r.__decorate([o.cast("visibleElements")],t.prototype,"castVisibleElements",null),r.__decorate([o.subclass("esri.widgets.Attachments")],t)}(s)}.apply(null,n))||(e.exports=i)},998:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(168),r(229),r(200),r(477)],void 0===(i=function(e,t,r,n,i,a){function o(e,t,r){return e.units[t][r]}function s(e,t,r,n,i){return void 0===n&&(n=2),void 0===i&&(i="abbr"),a.formatNumber(t,{minimumFractionDigits:n,maximumFractionDigits:n})+" "+o(e,r,i)}Object.defineProperty(t,"__esModule",{value:!0}),t.unitName=o,t.formatDecimal=s,t.formatMetricLength=function(e,t,r,n,a){void 0===n&&(n=2),void 0===a&&(a="abbr");var o=i.preferredMetricLengthUnit(t,r);return s(e,i.convertUnit(t,r,o),o,n,a)},t.formatMetricVerticalLength=function(e,t,r,n,a){void 0===n&&(n=2),void 0===a&&(a="abbr");var o=i.preferredMetricVerticalLengthUnit(t,r);return s(e,i.convertUnit(t,r,o),o,n,a)},t.formatImperialLength=function(e,t,r,n,a){void 0===n&&(n=2),void 0===a&&(a="abbr");var o=i.preferredImperialLengthUnit(t,r);return s(e,i.convertUnit(t,r,o),o,n,a)},t.formatImperialVerticalLength=function(e,t,r,n,a){void 0===n&&(n=2),void 0===a&&(a="abbr");var o=i.preferredImperialVerticalLengthUnit(t,r);return s(e,i.convertUnit(t,r,o),o,n,a)},t.formatMetricArea=function(e,t,r,n,a){void 0===n&&(n=2),void 0===a&&(a="abbr");var o=i.preferredMetricAreaUnit(t,r);return s(e,i.convertUnit(t,r,o),o,n,a)},t.formatImperialArea=function(e,t,r,n,a){void 0===n&&(n=2),void 0===a&&(a="abbr");var o=i.preferredImperialAreaUnit(t,r);return s(e,i.convertUnit(t,r,o),o,n,a)},t.formatDMS=function(e,t,r){void 0===r&&(r=2);var n=i.convertUnit(e,t,"degrees"),a=n-Math.floor(n);n-=a;var o=(a*=60)-Math.floor(a);return a-=o,o*=60,n.toFixed()+"° "+a.toFixed()+"' "+o.toFixed(r)+'"'};var l=["B","kB","MB","GB","TB"];t.formatFileSize=function(e,t){var i=0===t?0:Math.floor(Math.log(t)/Math.log(1024));i=r.clamp(i,0,l.length-1);var o=a.formatNumber(t/Math.pow(1024,i),{maximumFractionDigits:2});return n.replace(e.units.bytes[l[i]],{fileSize:o})}}.apply(null,n))||(e.exports=i)},999:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(271)],void 0===(i=function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r.getAssetUrl("esri/themes/base/images/files/");t.isSupportedImage=function(e){var t=e.toLowerCase();return"image/bmp"===t||"image/emf"===t||"image/exif"===t||"image/gif"===t||"image/x-icon"===t||"image/jpeg"===t||"image/png"===t||"image/tiff"===t||"image/x-wmf"===t},t.getIconPath=function(e){return e?"text/plain"===e?n+"text-32.svg":"application/pdf"===e?n+"pdf-32.svg":"text/csv"===e?n+"csv-32.svg":"application/gpx+xml"===e?n+"gpx-32.svg":"application/x-dwf"===e?n+"cad-32.svg":"application/postscript"===e||"application/json"===e||"text/xml"===e||"model/vrml"===e?n+"code-32.svg":"application/x-zip-compressed"===e||"application/x-7z-compressed"===e||"application/x-gzip"===e||"application/x-tar"===e||"application/x-gtar"===e||"application/x-bzip2"===e||"application/gzip"===e||"application/x-compress"===e||"application/x-apple-diskimage"===e||"application/x-rar-compressed"===e||"application/zip"===e?n+"zip-32.svg":-1!==e.indexOf("image/")?n+"image-32.svg":-1!==e.indexOf("audio/")?n+"sound-32.svg":-1!==e.indexOf("video/")?n+"video-32.svg":-1!==e.indexOf("msexcel")||-1!==e.indexOf("ms-excel")||-1!==e.indexOf("spreadsheetml")?n+"excel-32.svg":-1!==e.indexOf("msword")||-1!==e.indexOf("ms-word")||-1!==e.indexOf("wordprocessingml")?n+"word-32.svg":-1!==e.indexOf("powerpoint")||-1!==e.indexOf("presentationml")?n+"report-32.svg":n+"generic-32.svg":n+"generic-32.svg"}}.apply(null,n))||(e.exports=i)}}]);
//# sourceMappingURL=46.js.map