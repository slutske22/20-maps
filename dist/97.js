(function(){var e={"esri/tasks/support/FeatureSet":187},t=this||window,n=t.webpackJsonp=t.webpackJsonp||[];n.registerAbsMids?n.registerAbsMids(e):(n.absMidsWaiting=n.absMidsWaiting||[]).push(e)})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[97,32,188],{1007:function(e,t,n){"use strict";n.r(t);var o=n(10),r=n.n(o)()(!0);r.push([e.i,"#shelter_animals .esri-feature__media-previous,#shelter_animals .esri-feature__media-next{display:none}#animal-count-info-div{display:none;border:1px solid lightgray;padding:1em}#animal-count-info-div .esri-feature__title{margin:0}#animal-count-info-div h2{margin:0;margin-bottom:10px;text-transform:uppercase}\n","",{version:3,sources:["webpack://src/components/chapters/shelter_animals/popupTemplate.scss"],names:[],mappings:"AAAA,0FAGE,YAAa,CACb,uBAeD,YAAa,CACb,0BAA2B,CAC3B,WAAY,CAbb,4CAEE,QAAS,CAFX,0BAME,QAAS,CACT,kBAAmB,CACnB,wBAAyB",sourcesContent:["#shelter_animals {\n\t.esri-feature__media-previous,\n\t.esri-feature__media-next {\n\t\tdisplay: none;\n\t}\n}\n\n// ..voter-turnout-popup,\n#animal-count-info-div {\n\t.esri-feature__title {\n\t\tmargin: 0;\n\t}\n\n\th2 {\n\t\tmargin: 0;\n\t\tmargin-bottom: 10px;\n\t\ttext-transform: uppercase;\n\t}\n\n\tdisplay: none;\n\tborder: 1px solid lightgray;\n\tpadding: 1em;\n}\n"],sourceRoot:""}]),t.default=r},181:function(e,t,n){"use strict";n.r(t);var o=n(10),r=n.n(o)()(!0);r.push([e.i,".esri-scroll-zoom-toggle{padding:0.7em 1.5em}.esri-scroll-zoom-toggle--inner-wrapper{display:flex;flex-direction:row;align-items:center;cursor:pointer}.esri-scroll-zoom-toggle--input-checkbox{margin-left:1em;margin-bottom:6px;cursor:pointer}\n","",{version:3,sources:["webpack://src/components/mapcomponents/ScrollZoom.scss"],names:[],mappings:"AAAA,yBACC,mBAAoB,CACpB,wCAGA,YAAa,CACb,kBAAmB,CACnB,kBAAmB,CACnB,cAAe,CACf,yCAGA,eAAgB,CAChB,iBAAkB,CAClB,cAAe",sourcesContent:[".esri-scroll-zoom-toggle {\n\tpadding: 0.7em 1.5em;\n}\n\n.esri-scroll-zoom-toggle--inner-wrapper {\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: center;\n\tcursor: pointer;\n}\n\n.esri-scroll-zoom-toggle--input-checkbox {\n\tmargin-left: 1em;\n\tmargin-bottom: 6px;\n\tcursor: pointer;\n}\n"],sourceRoot:""}]),t.default=r},187:function(e,t,n){var o,r;o=[n.dj.c(e.i),t,n(117),n(159),n(174),n(166),n(155),n(152),n(151),n(170),n(163),n(194)],void 0===(r=function(e,t,n,o,r,a,i,l,s,p,c,u){var f=new a.default({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),m=function(e){function t(t){var n=e.call(this,t)||this;return n.displayFieldName=null,n.exceededTransferLimit=!1,n.features=[],n.fields=null,n.geometryType=null,n.hasM=!1,n.hasZ=!1,n.queryGeometry=null,n.spatialReference=null,n}return n.__extends(t,e),t.prototype.readFeatures=function(e,t){for(var n=p.fromJSON(t.spatialReference),o=[],a=0;a<e.length;a++){var i=e[a],s=r.fromJSON(i),c=i.geometry&&i.geometry.spatialReference;l.isSome(s.geometry)&&!c&&(s.geometry.spatialReference=n),o.push(s)}return o},t.prototype.writeGeometryType=function(e,t,n,o){if(e)f.write(e,t,n,o);else{var r=this.features;if(r)for(var a=0,i=r;a<i.length;a++){var s=i[a];if(s&&l.isSome(s.geometry))return void f.write(s.geometry.type,t,n,o)}}},t.prototype.writeSpatialReference=function(e,t){if(e)t.spatialReference=e.toJSON();else{var n=this.features;if(n)for(var o=0,r=n;o<r.length;o++){var a=r[o];a&&l.isSome(a.geometry)&&a.geometry.spatialReference&&(t.spatialReference=a.geometry.spatialReference.toJSON())}}},t.prototype.toJSON=function(e){var t=this.write(null);if(t.features&&Array.isArray(e)&&e.length>0)for(var n=0;n<t.features.length;n++){var o=t.features[n];if(o.geometry){var r=e&&e[n];o.geometry=r&&r.toJSON()||o.geometry}}return t},t.prototype.quantize=function(e){for(var t=e.scale,n=t[0],o=t[1],r=e.translate,a=r[0],i=r[1],s=this.features,p=this._getQuantizationFunction(this.geometryType,(function(e){return Math.round((e-a)/n)}),(function(e){return Math.round((i-e)/o)})),c=0,u=s.length;c<u;c++)p(l.unwrap(s[c].geometry))||(s.splice(c,1),c--,u--);return this.transform=e,this},t.prototype.unquantize=function(){var e=this.geometryType,t=this.features,n=this.transform;if(!n)return this;for(var o=n.translate,r=o[0],a=o[1],i=n.scale,s=i[0],p=i[1],c=this._getHydrationFunction(e,(function(e){return e*s+r}),(function(e){return a-e*p})),u=0,f=t;u<f.length;u++){var m=f[u].geometry;l.isSome(m)&&c(m)}return this},t.prototype._quantizePoints=function(e,t,n){for(var o,r,a=[],i=0,l=e.length;i<l;i++){var s=e[i];if(i>0){var p=t(s[0]),c=n(s[1]);p===o&&c===r||(a.push([p-o,c-r]),o=p,r=c)}else o=t(s[0]),r=n(s[1]),a.push([o,r])}return a.length>0?a:null},t.prototype._getQuantizationFunction=function(e,t,n){var o=this;return"point"===e?function(e){return e.x=t(e.x),e.y=n(e.y),e}:"polyline"===e||"polygon"===e?function(e){for(var r=c.isPolygon(e)?e.rings:e.paths,a=[],i=0,l=r.length;i<l;i++){var s=r[i],p=o._quantizePoints(s,t,n);p&&a.push(p)}return a.length>0?(c.isPolygon(e)?e.rings=a:e.paths=a,e):null}:"multipoint"===e?function(e){var r;return(r=o._quantizePoints(e.points,t,n)).length>0?(e.points=r,e):null}:"extent"===e?function(e){return e}:null},t.prototype._getHydrationFunction=function(e,t,n){return"point"===e?function(e){e.x=t(e.x),e.y=n(e.y)}:"polyline"===e||"polygon"===e?function(e){for(var o,r,a=c.isPolygon(e)?e.rings:e.paths,i=0,l=a.length;i<l;i++)for(var s=a[i],p=0,u=s.length;p<u;p++){var f=s[p];p>0?(o+=f[0],r+=f[1]):(o=f[0],r=f[1]),f[0]=t(o),f[1]=n(r)}}:"extent"===e?function(e){e.xmin=t(e.xmin),e.ymin=n(e.ymin),e.xmax=t(e.xmax),e.ymax=n(e.ymax)}:"multipoint"===e?function(e){for(var o,r,a=e.points,i=0,l=a.length;i<l;i++){var s=a[i];i>0?(o+=s[0],r+=s[1]):(o=s[0],r=s[1]),s[0]=t(o),s[1]=n(r)}}:void 0},n.__decorate([s.property({type:String,json:{write:!0}})],t.prototype,"displayFieldName",void 0),n.__decorate([s.property({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],t.prototype,"exceededTransferLimit",void 0),n.__decorate([s.property({type:[r],json:{write:!0}})],t.prototype,"features",void 0),n.__decorate([s.reader("features")],t.prototype,"readFeatures",null),n.__decorate([s.property({type:[u],json:{write:!0}})],t.prototype,"fields",void 0),n.__decorate([s.property({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:f.read}}})],t.prototype,"geometryType",void 0),n.__decorate([s.writer("geometryType")],t.prototype,"writeGeometryType",null),n.__decorate([s.property({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],t.prototype,"hasM",void 0),n.__decorate([s.property({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],t.prototype,"hasZ",void 0),n.__decorate([s.property({types:o.geometryTypes,json:{read:c.fromJSON,write:!0}})],t.prototype,"queryGeometry",void 0),n.__decorate([s.property({type:p,json:{write:!0}})],t.prototype,"spatialReference",void 0),n.__decorate([s.writer("spatialReference")],t.prototype,"writeSpatialReference",null),n.__decorate([s.property({json:{write:!0}})],t.prototype,"transform",void 0),n.__decorate([s.subclass("esri.tasks.support.FeatureSet")],t)}(i.JSONSupport);return m.prototype.toJSON.isDefaultToJSON=!0,m||(m={}),m}.apply(null,o))||(e.exports=r)},1986:function(e,t,n){var o=n(99),r=n(1007);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1},i=o(r,a);if(!r.locals||e.hot.invalidate){var l=r.locals;e.hot.accept(1007,(function(){"string"==typeof(r=(r=n(1007)).__esModule?r.default:r)&&(r=[[e.i,r,""]]),function(e,t,n){if(!e&&t||e&&!t)return!1;var o;for(o in e)if((!n||"default"!==o)&&e[o]!==t[o])return!1;for(o in t)if(!(n&&"default"===o||e[o]))return!1;return!0}(l,r.locals)?(l=r.locals,i(r)):e.hot.invalidate()}))}e.hot.dispose((function(){i()})),e.exports=r.locals||{}},212:function(e,t,n){var o=n(99),r=n(181);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1},i=o(r,a);if(!r.locals||e.hot.invalidate){var l=r.locals;e.hot.accept(181,(function(){"string"==typeof(r=(r=n(181)).__esModule?r.default:r)&&(r=[[e.i,r,""]]),function(e,t,n){if(!e&&t||e&&!t)return!1;var o;for(o in e)if((!n||"default"!==o)&&e[o]!==t[o])return!1;for(o in t)if(!(n&&"default"===o||e[o]))return!1;return!0}(l,r.locals)?(l=r.locals,i(r)):e.hot.invalidate()}))}e.hot.dispose((function(){i()})),e.exports=r.locals||{}},213:function(e,t,n){"use strict";var o=n(2),r=n.n(o),a=n(3),i=n(108),l=n.n(i),s=n(6),p=n(5),c=n(284),u=n.n(c),f=n(275),m=n.n(f),d=n(266),y=n.n(d),h=n(287),g=n.n(h),v=n(278),b=n.n(v),w=n(157),_=n(188),A=n.n(_),x=n(151),S=n(183);n(212);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var O,E,j,T=(O=function(e,t){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}O(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),M=function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":C(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},k="esri-widget esri-scroll-zoom-toggle",F="esri-scroll-zoom-toggle--inner-wrapper",P="esri-scroll-zoom-toggle--input-checkbox",B=function(e){function t(t){var n=e.call(this,t)||this;return n.enabled=!1,n._toggleZoomOnScroll=function(){n.enabled=!n.enabled,n.enabled?(n.view.navigation.mouseWheelZoomEnabled=!0,n.view.navigation.browserTouchPanEnabled=!0):(n.view.navigation.mouseWheelZoomEnabled=!1,n.view.navigation.browserTouchPanEnabled=!1),console.log(n)},n}return T(t,e),t.prototype.render=function(){return Object(S.tsx)("div",{class:k},Object(S.tsx)("div",{class:F,onclick:this._toggleZoomOnScroll},Object(S.tsx)("div",null,"Enable Scroll Zoom"),Object(S.tsx)("input",{type:"checkbox",class:P,checked:this.enabled})))},M([Object(x.property)(),Object(S.renderable)()],t.prototype,"enabled",void 0),t=M([Object(x.subclass)("esri.widgets.ScrollZoom")],t)}(A.a),R=function(){return(R=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},z=function(e){var t=e.metadata,n=e.sources,a=e.customFeatures,i=e.customFeaturesPerPage,l=e.customMapDOM,s=e.pageRefs,c=e.currentPage,f=e.mapState,d=f.basemap,h=f.layers,v=f.position,_=f.customBehavior,A=Object(o.useRef)(null),x=Object(o.useState)(null),S=x[0],C=x[1],O=Object(o.useState)(!0),E=O[0],j=O[1],T=Object(o.useState)(null),M=T[0],k=T[1];return Object(o.useEffect)((function(){var e=new m.a({basemap:d||null,layers:h}),o=R(R({container:A.current,map:e},v),{navigation:{mouseWheelZoomEnabled:!1,browserTouchPanEnabled:!1}}),i=t.sceneview?new g.a(o):new y.a(o);(i.on("click",(function(e){console.log("view",i),console.log("extent",i.extent),console.log("mappoint",e.mapPoint)})),C({map:e,view:i}),t.fullWidthMap&&!t.sceneview)&&(document.querySelector("#"+t.name+" .esri-ui-top-left").style.left="calc(30% - 10px)");if(t.fullWidthMap&&t.sceneview){var l=document.querySelector("#"+t.name+' div[class^="SideCar"]');l.style.left="40px",l.style.width="500px",l.style.transition="all 0.5s";var s=new b.a({view:i,expandIconClass:"esri-icon-question",expandTooltip:"Information",expanded:!0});i.ui.add([{component:s,position:"top-left",index:0}]),s.container.addEventListener("click",(function(){s.expanded?(l.style.left="40px",l.style.opacity="1",l.style.pointerEvents="auto",l.style.transition="all 0.5s"):(l.style.left="35px",l.style.opacity="0",l.style.pointerEvents="none",l.style.transition="none")}));var c=new B({view:i});i.ui.add(c,"top-right")}document.createElement("div").innerHTML="Data sources here";var f=new b.a({view:i,expandIconClass:"clipboard-icon",expandTooltip:"Data Sources",collapseTooltip:"Close",content:u.a.renderToStaticMarkup(r.a.createElement(p.a,{sources:n,theme:t.theme}))});i.ui.add(f,"bottom-right"),t.disableSpinnerAfterInitialLoad?w.whenTrueOnce(i,"updating",(function(){j(!0)})):w.whenTrue(i,"updating",(function(){j(!0)})),w.whenFalse(i,"updating",(function(){j(!1)})),a&&a({map:e,view:i,layers:h})}),[]),Object(o.useEffect)((function(){S&&(S.map.layers=h)}),[h]),Object(o.useEffect)((function(){S&&(S.map.basemap=d)}),[d,S]),Object(o.useEffect)((function(){S&&v&&S.view.goTo({target:v.center,zoom:v.zoom},{duration:1e3})}),[v]),Object(o.useEffect)((function(){if(S)if(_){var e=S.map,t=S.view;M&&M();var n=_({map:e,view:t});k((function(){return n}))}else M&&M()}),[_,S]),Object(o.useEffect)((function(){if(S&&i){var e=S.view,t=S.map,n=i({map:t,view:e,layers:h,pageRefs:s,currentPage:c});if(n)return n}}),[S,c,i]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"arcgis-map "+t.name,ref:A}),l&&S&&l(S),E&&r.a.createElement(p.c,null))},N=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},W=a.b.section.withConfig({displayName:"ChapterTemplate__Wrapper",componentId:"sc-1cxnsi8-0"})(E||(E=N(["\n\twidth: 100%;\n\theight: ",";\n\tmin-height: 500px;\n\tposition: relative;\n\tdisplay: flex;\n\tflex-direction: row;\n\tbackground-color: ",";\n\t/* scroll-snap-stop: always;\n\tscroll-snap-align: start; */\n"],["\n\twidth: 100%;\n\theight: ",";\n\tmin-height: 500px;\n\tposition: relative;\n\tdisplay: flex;\n\tflex-direction: row;\n\tbackground-color: ",";\n\t/* scroll-snap-stop: always;\n\tscroll-snap-align: start; */\n"])),(function(e){return e.height||100*e.screensTall+"vh"||"auto"}),(function(e){return"light"===e.maptheme?"":"#242424"})),J=a.b.div.withConfig({displayName:"ChapterTemplate__Trigger",componentId:"sc-1cxnsi8-1"})(j||(j=N(["\n\tposition: absolute;\n\ttop: 0px;\n\tleft: 0px;\n\theight: 3px;\n\twidth: 3px;\n\tpointer-events: none;\n"],["\n\tposition: absolute;\n\ttop: 0px;\n\tleft: 0px;\n\theight: 3px;\n\twidth: 3px;\n\tpointer-events: none;\n"])));t.a=function(e){e.customMap;var t=e.data,n=t.metadata,a=t.sources,i=t.customFeatures,c=t.customFeaturesPerPage,u=t.customMapDOM,f=t.customChapterDOM,m=t.pages,d=Object(o.useState)(0),y=d[0],h=d[1],g=Object(o.useContext)(s.a).dispatch,v={};return Object(o.useMemo)((function(){return r.a.createElement(W,{maptheme:n.theme,id:n.name,screensTall:m.length>1?m.length:1},r.a.createElement(p.i,{floating:n.fullWidthMap},m.map((function(e,t){return r.a.createElement(p.d,{floating:n.fullWidthMap,ref:function(e){return v[t]=e},key:n.name+"-page-"+t},r.a.createElement(p.e,{theme:n.theme,floating:n.fullWidthMap},r.a.createElement(p.g,null,e.title),r.a.createElement(p.f,{floating:n.fullWidthMap},e.content)),r.a.createElement(l.a,{onChange:function(e){e&&(g({type:"SET_NAV",payload:n.name}),h(t))}},(function(e){e.isVisible;return r.a.createElement(J,null)})))}))),r.a.createElement(l.a,{partialVisibility:!0},(function(e){var t=e.isVisible;return r.a.createElement(p.b,{fullWidth:n.fullWidthMap,className:"arcgis-map-"+n.theme},t&&r.a.createElement(z,{mapState:m[y].mapState,customFeatures:i,customFeaturesPerPage:c,customMapDOM:u,metadata:n,sources:a,pageRefs:v,currentPage:y}))})),f&&f)}),[y])}},2297:function(e,t,n){"use strict";n.r(t);var o=n(2),r=n.n(o),a=n(5),i=n(222),l=n.n(i),s=n(488),p=n.n(s),c=n(300),u=n.n(c),f={type:"simple",symbol:{type:"simple-fill",outline:{color:[128,128,128,.2],width:"0.5px"}},visualVariables:[{type:"color",field:"F9_month_2020_diff_raw",normalizationField:"F3_year_average_9_months",legendOptions:{title:"Reduction in Intake, 2020 as Compared to Average of 2017-2019"},stops:[{value:-1,color:"#960b13",label:"-100%"},{value:0,color:"#fff",label:"0%"},{value:.5,color:"#002d92",label:"50%"}]}]},m=n(764),d=n.n(m),y=n(767),h=n.n(y),g=n(864),v=n.n(g),b=(n(1986),new v.a({fields:["F3_year_average_9_months","F2020_Count"],normalizeField:null})),w=new h.a({value:b}),_={content:[{type:"text",text:'\n         <div class="shelter-animals-popup">\n            <h2>{STATE_NAME}</h2>\n\t\t\t\t<p>Number of pets admitted to animal shelters in U.S.<p>\n\t\t\t\t<p>Intake numbers from January through September</p>\n         </div>\n      '},new d.a({mediaInfos:[w]})],fieldInfos:[{fieldName:"F3_year_average_9_months",label:"2017-2019 Average",format:{digitSeparator:!0,places:0}},{fieldName:"F2020_Count",label:"2020",format:{digitSeparator:!0,places:0}}]},A=new l.a({url:"https://services6.arcgis.com/VqchQRhgtql2vsmO/arcgis/rest/services/Shelter_Animal_Count_2020_Comparison/FeatureServer",outFields:["*"],popupTemplate:_,renderer:f}),x=new p.a({portalItem:{id:"228eaa6a4cd34528b443fb71178c8545"}}),S={metadata:{name:"shelter_animals",theme:"light",fullWidthMap:!1},sources:[{name:"Shelter Animal Count 2020 Comparison",url:"https://www.arcgis.com/home/item.html?id=302d1e94c600443a8e9b74adc8575687"},{name:"shelteranimalscount.org",url:"https://www.shelteranimalscount.org/"}],pages:[{title:"Shelter Animals: The Answer to Social Distancing",content:r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Another unexpected side effect of COVID was how all that social distancing would effect the world's pets."," ",r.a.createElement(a.h,{theme:"light",link:"https://www.shelteranimalscount.org/",linkTitle:"https://www.shelteranimalscount.org/"},"shelteranimalscount.org")," ","has been organizing the collection of U.S. animal shelter cesus data for years. 2020 saw a huge reduction in intake of shelter pets, especially in March and April."," "),r.a.createElement("p",{style:{flexGrow:1}},"This map shows the percentage reduction in intakes of shelter pets in 2020 as compared with the average of the prior 3 years. Click on a state for more details."),r.a.createElement("div",{id:"animal-count-info-div"})),mapState:{position:{center:[-100,38],zoom:2},basemap:x,layers:[A]}}],customFeatures:function(e){var t=e.view;e.map;t.when((function(){var e=t.popup;e.dockEnabled=!0,e.set("dockOptions",{breakpoint:!1,buttonEnabled:!1,position:"bottom-left"})}));var n=new u.a({view:t,layerInfos:[{layer:A,title:"Shelter Animal Count 2020 Comparison"}]});t.ui.add(n,"bottom-right")}},C=n(213);t.default=function(){return r.a.createElement(C.a,{data:S})}}}]);
//# sourceMappingURL=97.js.map