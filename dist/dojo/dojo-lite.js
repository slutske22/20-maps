// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.16/esri/copyright.txt for details.
//>>built
(function(d,c){var h,m=function(){return"undefined"!==typeof z&&"function"!==typeof z?z:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this}(),q=function(){},b=function(a){for(var b in a)return 0;return 1},k={}.toString,l=function(a){return"[object Function]"==k.call(a)},a=function(a){return"[object String]"==k.call(a)},e=function(a){return"[object Array]"==k.call(a)},g=function(a,b){if(a)for(var e=0;e<a.length;)b(a[e++])},n=function(a,b){for(var e in b)a[e]=b[e];return a},t=function(a,
b){return n(Error(a),{src:"dojoLoader",info:b})},f=1,r=function(){return"_"+f++},v=function(a,b,e){return V(a,b,e,0,v)},z=m,A=z.document,p=A&&A.createElement("DiV"),u=v.has=function(a){return l(w[a])?w[a]=w[a](z,A,p):w[a]},w=u.cache=c.hasCache;l(d)&&(d=d(m));u.add=function(a,b,e,g){(void 0===w[a]||g)&&(w[a]=b);return e&&u(a)};u.add("host-webworker","undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);u("host-webworker")&&(n(c.hasCache,{"host-browser":0,dom:0,"dojo-dom-ready-api":0,
"dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1,"dojo-guarantee-console":0}),c.loaderPatch={injectUrl:function(a,b){try{importScripts(a),b()}catch(Ha){console.info("failed to load resource ("+a+")"),console.error(Ha)}}});for(var y in d.has)u.add(y,d.has[y],0,1);v.async=1;var x=u("csp-restrictions")?function(){}:new Function("return eval(arguments[0]);");v.eval=function(a,b){return x(a+"\r\n//# sourceURL\x3d"+b)};var E={},H=v.signal=function(a,b){a=E[a];g(a&&a.slice(0),function(a){a.apply(null,
e(b)?b:[b])})};y=v.on=function(a,b){var e=E[a]||(E[a]=[]);e.push(b);return{remove:function(){for(var a=0;a<e.length;a++)if(e[a]===b){e.splice(a,1);break}}}};var N=[],P={},C=[],B={},D=v.map={},L=[],J={},G="",F={},O={},m={},K=0;if(!u("foreign-loader"))var I=function(a,b){b=!1!==b;var e,g,f,r;for(e in O)g=O[e],(f=e.match(/^url\:(.+)/))?F["url:"+va(f[1],a)]=g:"*now"==e?r=g:"*noref"!=e&&(f=la(e,a,!0),F[f.mid]=F["url:"+f.url]=g);r&&r(aa(a));b&&(O={})};var ba=function(a){return a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,
function(a){return"\\"+a})},W=function(a,b){b.splice(0,b.length);for(var e in a)b.push([e,a[e],new RegExp("^"+ba(e)+"(/|$)"),e.length]);b.sort(function(a,b){return b[3]-a[3]});return b},M=function(b,e){g(b,function(b){e.push([a(b[0])?new RegExp("^"+ba(b[0])+"$"):b[0],b[1]])})},T=function(a){var b=a.name;b||(b=a,a={name:b});a=n({main:"main"},a);a.location=a.location?a.location:b;a.packageMap&&(D[b]=a.packageMap);a.main.indexOf("./")||(a.main=a.main.substring(2));B[b]=a},S=[],R=function(b,e,f){for(var r in b){"waitSeconds"==
r&&(v.waitms=1E3*(b[r]||0));"cacheBust"==r&&(G=b[r]?a(b[r])?b[r]:(new Date).getTime()+"":"");if("baseUrl"==r||"combo"==r)v[r]=b[r];b[r]!==w&&(v.rawConfig[r]=b[r],"has"!=r&&u.add("config-"+r,b[r],0,e))}v.baseUrl||(v.baseUrl="./");/\/$/.test(v.baseUrl)||(v.baseUrl+="/");for(r in b.has)u.add(r,b.has[r],0,e);g(b.packages,T);for(var l in b.packagePaths)g(b.packagePaths[l],function(b){var e=l+"/"+b;a(b)&&(b={name:b});b.location=e;T(b)});W(n(D,b.map),L);g(L,function(a){a[1]=W(a[1],[]);"*"==a[0]&&(L.star=
a)});W(n(P,b.paths),C);M(b.aliases,N);if(!u("foreign-loader")){if(e)S.push({config:b.config});else for(r in b.config)e=oa(r,f),e.config=n(e.config||{},b.config[r]);b.cache&&(I(),O=b.cache,I(0,!!b.cache["*noref"]))}H("config",[b,v.rawConfig])};if(u("dojo-cdn")){var ca=A.getElementsByTagName("script");h=0;for(var U,Q,Z,X;h<ca.length;)if(U=ca[h++],(Z=U.getAttribute("src"))&&(X=Z.match(/(((.*)\/)|^)dojo\.js(\W|$)/i))&&(Q=X[3]||"",c.baseUrl=c.baseUrl||Q,K=U),Z=U.getAttribute("data-dojo-config")||U.getAttribute("djConfig"))m=
v.eval("({ "+Z+" })","data-dojo-config"),K=U}v.rawConfig={};R(c,1);u("dojo-cdn")&&((B.dojo.location=Q)&&(Q+="/"),B.dijit.location=Q+"../dijit/",B.dojox.location=Q+"../dojox/");R(d,1);R(m,1);if(!u("foreign-loader"))var Y=function(a){Ca(function(){g(a.deps,Ia)})},V=function(b,g,f,l,k){var c;if(a(b)){if((c=oa(b,l,!0))&&c.executed)return c.result;throw t("undefinedModule",b);}e(b)||(R(b,0,l),b=g,g=f);if(e(b))if(b.length){f="require*"+r();for(var h,d=[],p=0;p<b.length;)h=b[p++],d.push(oa(h,l));c=n(ia("",
f,0,""),{injected:2,deps:d,def:g||q,require:l?l.require:v,gc:1});J[c.mid]=c;Y(c);var w=ya&&!0;Ca(function(){Da(c,w)});c.executed||ea.push(c);Ea()}else g&&g();return k},aa=function(a){if(!a)return v;var b=a.require;b||(b=function(e,g,f){return V(e,g,f,a,b)},a.require=n(b,v),b.module=a,b.toUrl=function(b){return va(b,a)},b.toAbsMid=function(b){return ra(b,a)});return b},ea=[],ma=[],fa={},da=function(a){a.injected=1;fa[a.mid]=1;a.url&&(fa[a.url]=a.pack||1);Na()},ka=function(a){a.injected=2;delete fa[a.mid];
a.url&&delete fa[a.url];b(fa)&&Oa()},pa=v.idle=function(){return!ma.length&&b(fa)&&!ea.length&&!ya};var ja=function(a,b){if(b)for(var e=0;e<b.length;e++)if(b[e][2].test(a))return b[e];return 0},na=function(a){var b=[],e,g;for(a=a.replace(/\\/g,"/").split("/");a.length;)e=a.shift(),".."==e&&b.length&&".."!=g?(b.pop(),g=b[b.length-1]):"."!=e&&b.push(g=e);return b.join("/")},ia=function(a,b,e,g){return{pid:a,mid:b,pack:e,url:g,executed:0,def:0}},qa=function(a,b,e,f,r,n,k,c,h,d){var p,w,v,q;q=/^\./.test(a);
if(/(^\/)|(\:)|(\.js$)/.test(a)||q&&!b)return ia(0,a,0,a);a=na(q?b.mid+"/../"+a:a);if(/^\./.test(a))throw t("irrationalPath",a);d||q||!n.star||(v=ja(a,n.star[1]));!v&&b&&(v=(v=ja(b.mid,n))&&ja(a,v[1]));v&&(a=v[1]+a.substring(v[3]));b=(X=a.match(/^([^\/]+)(\/(.+))?$/))?X[1]:"";(p=e[b])?a=b+"/"+(w=X[3]||p.main):b="";var m=0;g(c,function(b){var e=a.match(b[0]);e&&0<e.length&&(m=l(b[1])?a.replace(b[0],b[1]):b[1])});if(m)return qa(m,0,e,f,r,n,k,c,h);if(e=f[a])return h?ia(e.pid,e.mid,e.pack,e.url):f[a];
f=(v=ja(a,k))?v[1]+a.substring(v[3]):b?("/"===p.location.slice(-1)?p.location.slice(0,-1):p.location)+"/"+w:a;/(^\/)|(\:)/.test(f)||(f=r+f);return ia(b,a,p,na(f+".js"))},la=function(a,b,e){return qa(a,b,B,J,v.baseUrl,L,C,N,void 0,e)};if(!u("foreign-loader"))var ha=function(a,b,e){return a.normalize?a.normalize(b,function(a){return ra(a,e)}):ra(b,e)},ga=0,oa=function(a,b,e){var g,f;(g=a.match(/^(.+?)\!(.*)$/))?(f=oa(g[1],b,e),5!==f.executed||f.load||sa(f),f.load?(g=ha(f,g[2],b),a=f.mid+"!"+(f.dynamic?
++ga+"!":"")+g):(g=g[2],a=f.mid+"!"+ ++ga+"!waitingForPlugin"),a={plugin:f,mid:a,req:aa(b),prid:g}):a=la(a,b);return J[a.mid]||!e&&(J[a.mid]=a)};var ra=v.toAbsMid=function(a,b){return la(a,b).mid},va=v.toUrl=function(a,b){b=la(a+"/x",b);var e=b.url;return Ja(0===b.pid?a:e.substring(0,e.length-5))};if(!u("foreign-loader")){var wa={injected:2,executed:5,def:3,result:3};Q=function(a){return J[a]=n({mid:a},wa)};var xa=Q("require"),za=Q("exports"),Aa=Q("module"),ta={},ua=0,sa=function(a){var b=a.result;
a.dynamic=b.dynamic;a.normalize=b.normalize;a.load=b.load;return a},Pa=function(a){var b={};g(a.loadQ,function(e){var g=ha(a,e.prid,e.req.module),f=a.dynamic?e.mid.replace(/waitingForPlugin$/,g):a.mid+"!"+g,g=n(n({},e),{mid:f,prid:g,injected:0});J[f]&&J[f].injected||Ka(J[f]=g);b[e.mid]=J[f];ka(e);delete J[e.mid]});a.loadQ=0;var e=function(a){for(var e=a.deps||[],g=0;g<e.length;g++)(a=b[e[g].mid])&&(e[g]=a)},f;for(f in J)e(J[f]);g(ea,e)},Fa=function(a){v.trace("loader-finish-exec",[a.mid]);a.executed=
5;a.defOrder=ua++;a.loadQ&&(sa(a),Pa(a));for(h=0;h<ea.length;)ea[h]===a?ea.splice(h,1):h++;/^require\*/.test(a.mid)&&delete J[a.mid]},Qa=[],Da=function(a,b){if(4===a.executed)return v.trace("loader-circular-dependency",[Qa.concat(a.mid).join("-\x3e")]),!a.def||b?ta:a.cjs&&a.cjs.exports;if(!a.executed){if(!a.def)return ta;var e=a.mid,g=a.deps||[],f,r=[],n=0;for(a.executed=4;f=g[n++];){f=f===xa?aa(a):f===za?a.cjs.exports:f===Aa?a.cjs:Da(f,b);if(f===ta)return a.executed=0,v.trace("loader-exec-module",
["abort",e]),ta;r.push(f)}v.trace("loader-run-factory",[a.mid]);b=a.def;r=l(b)?b.apply(null,r):b;a.result=void 0===r&&a.cjs?a.cjs.exports:r;Fa(a)}return a.result},ya=0,Ca=function(a){try{ya++,a()}catch(Ma){throw Ma;}finally{ya--}pa()&&H("idle",[])},Ea=function(){ya||Ca(function(){for(var a,b,e=0;e<ea.length;)a=ua,b=ea[e],Da(b),a!=ua?e=0:e++})}}var Ja="function"==typeof d.fixupUrl?d.fixupUrl:function(a){a+="";return a+(G?(/\?/.test(a)?"\x26":"?")+G:"")};void 0===u("dojo-loader-eval-hint-url")&&u.add("dojo-loader-eval-hint-url",
1);var Ka=function(a){var b=a.plugin;5!==b.executed||b.load||sa(b);var e=function(b){a.result=b;ka(a);Fa(a);Ea()};b.load?b.load(a.prid,a.req,e):b.loadQ?b.loadQ.push(a):(b.loadQ=[a],ea.unshift(b),Ia(b))},Ba=0,Ra=function(a,b){u("config-stripStrict")&&(a=a.replace(/(["'])use strict\1/g,""));a===Ba?Ba.call(null):v.eval(a,u("dojo-loader-eval-hint-url")?b.url:b.mid)},Ia=function(a){var b=a.mid,e=a.url;if(!(a.executed||a.injected||fa[b]||a.url&&(a.pack&&fa[a.url]===a.pack||1==fa[a.url])))if(da(a),a.plugin)Ka(a);
else{var f=function(){Sa(a);if(2!==a.injected){if(u("dojo-enforceDefine")){H("error",t("noDefine",a));return}ka(a);n(a,wa);v.trace("loader-define-nonmodule",[a.url])}Ea()};(Ba=F[b]||F["url:"+a.url])?(v.trace("loader-inject",["cache",a.mid,e]),Ra(Ba,a),f()):(v.trace("loader-inject",["script",a.mid,e]),v.injectUrl(Ja(e),f,a))}},La=function(a,b,e){v.trace("loader-define-module",[a.mid,b]);if(2===a.injected)return H("error",t("multipleDefine",a)),a;n(a,{deps:b,def:e,cjs:{id:a.mid,uri:a.url,exports:a.result=
{},setExports:function(b){a.cjs.exports=b},config:function(){return a.config}}});for(var f=0;b[f];f++)b[f]=oa(b[f],a);ka(a);l(e)||b.length||(a.result=e,Fa(a));return a},Sa=function(a,b){for(var e=[],f,r;ma.length;)r=ma.shift(),b&&(r[0]=b.shift()),f=r[0]&&oa(r[0])||a,e.push([f,r[1],r[2]]);I(a);g(e,function(a){Y(La.apply(null,a))})},Oa=q,Na=q;u("dom");if(u("dom")){var Ga=function(a,b,e,f){a.addEventListener(b,f,!1);return function(){a.removeEventListener(b,f,!1)}},Ta=Ga(window,"load","onload",function(){v.pageLoaded=
1;try{"complete"!=A.readyState&&(A.readyState="complete")}catch(Ua){}Ta()}),ca=A.getElementsByTagName("script");for(h=0;!K;)/^dojo/.test((U=ca[h++])&&U.type)||(K=U);v.injectUrl=function(a,b,e){e=e.node=A.createElement("script");var f=Ga(e,"load","onreadystatechange",function(a){a=a||window.event;var e=a.target||a.srcElement;if("load"===a.type||/complete|loaded/.test(e.readyState))f(),g(),b&&b()}),g=Ga(e,"error","onerror",function(b){f();g();H("error",t("scriptError: "+a,[a,b]))});e.type="text/javascript";
e.charset="utf-8";e.src=a;K.parentNode.insertBefore(e,K);return e}}v.log=q;v.trace=q;u("foreign-loader")?U=q:(U=function(b,e,f){var g=arguments.length,r=["require","exports","module"],n=[0,b,e];1==g?n=[0,l(b)?r:[],b]:2==g&&a(b)?n=[b,l(e)?r:[],e]:3==g&&(n=[b,e,f]);v.trace("loader-define",n.slice(0,2));(g=n[0]&&oa(n[0]))&&!fa[g.mid]?Y(La(g,n[1],n[2])):ma.push(n)},U.amd={vendor:"dojotoolkit.org"});n(n(v,c.loaderPatch),d.loaderPatch);y("error",function(a){try{if(console.error(a),a instanceof Error){for(var b in a)console.log(b+
":",a[b]);console.log(".")}}catch(Ha){}});n(v,{uid:r,cache:F,packs:B});z.define||(z.define=U,z.require=v,u("foreign-loader")||(g(S,function(a){R(a)}),U=m.deps||d.deps||c.deps,d=m.callback||d.callback||c.callback,v.boot=U||d?[U||[],d]:0))})(function(d){return d.dojoConfig||d.djConfig||d.require||{}},{async:1,baseUrl:"dojo",hasCache:{"config-selectorEngine":"lite","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,dom:1,"host-browser":1},map:{globalize:{cldr:"cldrjs/dist/cldr",
"cldr/event":"cldrjs/dist/cldr/event","cldr/supplemental":"cldrjs/dist/cldr/supplemental","cldr/unresolved":"cldrjs/dist/cldr/unresolved"}},packages:[{location:".",name:"dojo"},{location:"../dijit",name:"dijit"},{location:"../dojox",name:"dojox"},{location:"../dgrid",main:"OnDemandGrid",name:"dgrid"},{location:"../dstore",main:"Store",name:"dstore"},{location:"../esri",name:"esri"},{location:"../moment",main:"moment",name:"moment"},{location:"../@dojo",name:"@dojo"},{location:"../cldrjs",main:"dist/cldr",
name:"cldrjs"},{location:"../globalize",main:"dist/globalize",name:"globalize"},{location:"../intersection-observer",main:"intersection-observer",name:"intersection-observer"},{location:"../maquette-css-transitions",main:"dist/maquette-css-transitions.umd",name:"maquette-css-transitions"},{location:"../maquette-jsx",main:"dist/maquette-jsx.umd",name:"maquette-jsx"},{location:"../tslib",main:"tslib",name:"tslib"},{location:"../whatwg-fetch",main:"dist/fetch.umd",name:"whatwg-fetch"}]});
require({cache:{"esri/config":function(){define(["require","exports","@dojo/framework/has/has","./core/global","./core/object"],function(d,c,h,m,q){h.add("postmessage",!1,!0);d={applicationUrl:m.location&&m.location.href,fontsUrl:"https://static.arcgis.com/fonts",geometryService:null,geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",portalUrl:"https://www.arcgis.com",
workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{httpsDomains:"arcgis.com arcgisonline.com esrikr.com premiumservices.blackbridge.com esripremium.accuweather.com gbm.digitalglobe.com firstlook.digitalglobe.com msi.digitalglobe.com".split(" "),interceptors:[],maxUrlLength:2E3,proxyRules:[],proxyUrl:null,timeout:6E4,trustedServers:[],useIdentity:!0}};m.esriConfig&&q.deepMerge(d,m.esriConfig,!0);d.request.corsEnabledServers=[];d.request.corsEnabledServers.push=function(){console.warn("[esri.config]",
"request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664");return 0};return d})},"@dojo/framework/has/has":function(){(function(d){"object"===typeof module&&"object"===typeof module.exports?(d=d(require,exports),void 0!==d&&(module.exports=d)):"function"===typeof define&&define.amd&&define(["require","exports","tslib","../shim/global"],d)})(function(d,c){function h(a){a=a.toLowerCase();return!!(a in l||a in c.testCache||c.testFunctions[a])}
function m(a,b,n){void 0===n&&(n=!1);var e=a.toLowerCase();if(h(e)&&!n&&!(e in l))throw new TypeError('Feature "'+a+'" exists and overwrite not true.');"function"===typeof b?c.testFunctions[e]=b:(c.testCache[e]=b,delete c.testFunctions[e])}function q(a){var b=a.toLowerCase();if(b in l)a=l[b];else if(c.testFunctions[b])a=c.testCache[b]=c.testFunctions[b].call(null),delete c.testFunctions[b];else if(b in c.testCache)a=c.testCache[b];else throw new TypeError('Attempt to detect unregistered has feature "'+
a+'"');return a}Object.defineProperty(c,"__esModule",{value:!0});var b=d("tslib"),k=d("../shim/global");c.testCache={};c.testFunctions={};d=(k.default.DojoHasEnvironment||{}).staticFeatures;"DojoHasEnvironment"in k.default&&delete k.default.DojoHasEnvironment;var l=d?"function"===typeof d?d.apply(k.default):d:{};c.load=function(a,b,n,l){a?b([a],n):n()};c.normalize=function(a,b){function e(a){var b=g[f++];if(":"===b)return null;if("?"===g[f++]){if(!a&&q(b))return e();e(!0);return e(a)}return b}var g=
a.match(/[\?:]|[^:\?]*/g)||[],f=0;return(a=e())&&b(a)};c.exists=h;c.add=m;c.default=q;m("public-path",void 0);m("dojo-debug",!1);m("host-browser","undefined"!==typeof document&&"undefined"!==typeof location);m("host-node",function(){if("object"===typeof process&&process.versions&&process.versions.node)return process.versions.node});m("fetch","fetch"in k.default&&"function"===typeof k.default.fetch,!0);m("es6-array",function(){return["from","of"].every(function(a){return a in k.default.Array})&&["findIndex",
"find","copyWithin"].every(function(a){return a in k.default.Array.prototype})},!0);m("es6-array-fill",function(){return"fill"in k.default.Array.prototype?1===[1].fill(9,Number.POSITIVE_INFINITY)[0]:!1},!0);m("es7-array",function(){return"includes"in k.default.Array.prototype},!0);m("es6-map",function(){if("function"===typeof k.default.Map)try{var a=new k.default.Map([[0,1]]);return a.has(0)&&"function"===typeof a.keys&&q("es6-symbol")&&"function"===typeof a.values&&"function"===typeof a.entries}catch(g){}return!1},
!0);m("es6-math",function(){return"clz32 sign log10 log2 log1p expm1 cosh sinh tanh acosh asinh atanh trunc fround cbrt hypot".split(" ").every(function(a){return"function"===typeof k.default.Math[a]})},!0);m("es6-math-imul",function(){return"imul"in k.default.Math?-5===Math.imul(4294967295,5):!1},!0);m("es6-object",function(){return q("es6-symbol")&&["assign","is","getOwnPropertySymbols","setPrototypeOf"].every(function(a){return"function"===typeof k.default.Object[a]})},!0);m("es2017-object",function(){return["values",
"entries","getOwnPropertyDescriptors"].every(function(a){return"function"===typeof k.default.Object[a]})},!0);m("es-observable",function(){return"undefined"!==typeof k.default.Observable},!0);m("es6-promise",function(){return"undefined"!==typeof k.default.Promise&&q("es6-symbol")},!0);m("es2018-promise-finally",function(){return q("es6-promise")&&"undefined"!==typeof k.default.Promise.prototype.finally},!0);m("es6-set",function(){if("function"===typeof k.default.Set){var a=new k.default.Set([1]);
return a.has(1)&&"keys"in a&&"function"===typeof a.keys&&q("es6-symbol")}return!1},!0);m("es6-string",function(){return["fromCodePoint"].every(function(a){return"function"===typeof k.default.String[a]})&&"codePointAt normalize repeat startsWith endsWith includes".split(" ").every(function(a){return"function"===typeof k.default.String.prototype[a]})},!0);m("es6-string-raw",function(){function e(a){for(var e=1;e<arguments.length;e++);e=b.__spread(a);e.raw=a.raw;return e}if("raw"in k.default.String){var g=
e(a||(a=b.__makeTemplateObject(["a\n",""],["a\\n",""])),1);g.raw=["a\\n"];return"a\\n"===k.default.String.raw(g,42)}return!1},!0);m("es2017-string",function(){return["padStart","padEnd"].every(function(a){return"function"===typeof k.default.String.prototype[a]})},!0);m("es6-symbol",function(){return"undefined"!==typeof k.default.Symbol&&"symbol"===typeof Symbol()},!0);m("es6-weakmap",function(){if("undefined"!==typeof k.default.WeakMap){var a={},b={},n=new k.default.WeakMap([[a,1]]);Object.freeze(a);
return 1===n.get(a)&&n.set(b,2)===n&&q("es6-symbol")}return!1},!0);m("microtasks",function(){return q("es6-promise")||0||q("dom-mutationobserver")},!0);m("postmessage",function(){return"undefined"!==typeof k.default.window&&"function"===typeof k.default.postMessage},!0);m("raf",function(){return"function"===typeof k.default.requestAnimationFrame},!0);m("setimmediate",function(){return"undefined"!==typeof k.default.setImmediate},!0);m("dom-mutationobserver",function(){if(q("host-browser")&&(k.default.MutationObserver||
k.default.WebKitMutationObserver)){var a=document.createElement("div"),b=new (k.default.MutationObserver||k.default.WebKitMutationObserver)(function(){});b.observe(a,{attributes:!0});a.style.setProperty("display","block");return!!b.takeRecords().length}return!1},!0);m("dom-webanimation",function(){return q("host-browser")&&void 0!==k.default.Animation&&void 0!==k.default.KeyframeEffect},!0);m("abort-controller",function(){return"undefined"!==typeof k.default.AbortController});m("abort-signal",function(){return"undefined"!==
typeof k.default.AbortSignal});m("dom-intersection-observer",function(){return q("host-browser")&&void 0!==k.default.IntersectionObserver},!0);m("dom-resize-observer",function(){return q("host-browser")&&void 0!==k.default.ResizeObserver},!0);m("dom-pointer-events",function(){return q("host-browser")&&void 0!==k.default.onpointerdown},!0);m("build-elide",!1);var a})},"tslib/tslib":function(){var d,c,h,m,q,b,k,l,a,e,g,n,t,f,r,v,z,A,p,u,w,y;(function(a){function b(a,b){a!==e&&("function"===typeof Object.create?
Object.defineProperty(a,"__esModule",{value:!0}):a.__esModule=!0);return function(e,f){return a[e]=b?b(e,f):f}}var e="object"===typeof global?global:"object"===typeof self?self:"object"===typeof this?this:{};"function"===typeof define&&define.amd?define("tslib",["exports"],function(f){a(b(e,b(f)))}):"object"===typeof module&&"object"===typeof module.exports?a(b(e,b(module.exports))):a(b(e))})(function(x){var E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,
b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])};d=function(a,b){function e(){this.constructor=a}E(a,b);a.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)};c=Object.assign||function(a){for(var b,e=1,f=arguments.length;e<f;e++){b=arguments[e];for(var g in b)Object.prototype.hasOwnProperty.call(b,g)&&(a[g]=b[g])}return a};h=function(a,b){var e={},f;for(f in a)Object.prototype.hasOwnProperty.call(a,f)&&0>b.indexOf(f)&&(e[f]=a[f]);if(null!=a&&"function"===typeof Object.getOwnPropertySymbols){var g=
0;for(f=Object.getOwnPropertySymbols(a);g<f.length;g++)0>b.indexOf(f[g])&&Object.prototype.propertyIsEnumerable.call(a,f[g])&&(e[f[g]]=a[f[g]])}return e};m=function(a,b,e,f){var g=arguments.length,r=3>g?b:null===f?f=Object.getOwnPropertyDescriptor(b,e):f,n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(a,b,e,f);else for(var l=a.length-1;0<=l;l--)if(n=a[l])r=(3>g?n(r):3<g?n(b,e,r):n(b,e))||r;return 3<g&&r&&Object.defineProperty(b,e,r),r};q=function(a,b){return function(e,
f){b(e,f,a)}};b=function(a,b){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(a,b)};k=function(a,b,e,f){function g(a){return a instanceof e?a:new e(function(b){b(a)})}return new (e||(e=Promise))(function(e,r){function n(a){try{k(f.next(a))}catch(K){r(K)}}function l(a){try{k(f["throw"](a))}catch(K){r(K)}}function k(a){a.done?e(a.value):g(a.value).then(n,l)}k((f=f.apply(a,b||[])).next())})};l=function(a,b){function e(a){return function(b){return f([a,b])}}
function f(e){if(r)throw new TypeError("Generator is already executing.");for(;g;)try{if(r=1,n&&(l=e[0]&2?n["return"]:e[0]?n["throw"]||((l=n["return"])&&l.call(n),0):n.next)&&!(l=l.call(n,e[1])).done)return l;if(n=0,l)e=[e[0]&2,l.value];switch(e[0]){case 0:case 1:l=e;break;case 4:return g.label++,{value:e[1],done:!1};case 5:g.label++;n=e[1];e=[0];continue;case 7:e=g.ops.pop();g.trys.pop();continue;default:if(!(l=g.trys,l=0<l.length&&l[l.length-1])&&(6===e[0]||2===e[0])){g=0;continue}if(3===e[0]&&
(!l||e[1]>l[0]&&e[1]<l[3]))g.label=e[1];else if(6===e[0]&&g.label<l[1])g.label=l[1],l=e;else if(l&&g.label<l[2])g.label=l[2],g.ops.push(e);else{l[2]&&g.ops.pop();g.trys.pop();continue}}e=b.call(a,g)}catch(O){e=[6,O],n=0}finally{r=l=0}if(e[0]&5)throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}var g={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,n,l,k;return k={next:e(0),"throw":e(1),"return":e(2)},"function"===typeof Symbol&&(k[Symbol.iterator]=function(){return this}),
k};a=function(a,b){for(var e in a)b.hasOwnProperty(e)||(b[e]=a[e])};e=function(a){var b="function"===typeof Symbol&&Symbol.iterator,e=b&&a[b],f=0;if(e)return e.call(a);if(a&&"number"===typeof a.length)return{next:function(){a&&f>=a.length&&(a=void 0);return{value:a&&a[f++],done:!a}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.");};g=function(a,b){var e="function"===typeof Symbol&&a[Symbol.iterator];if(!e)return a;a=e.call(a);var f,g=[],r;try{for(;(void 0===b||
0<b--)&&!(f=a.next()).done;)g.push(f.value)}catch(L){r={error:L}}finally{try{f&&!f.done&&(e=a["return"])&&e.call(a)}finally{if(r)throw r.error;}}return g};n=function(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(g(arguments[b]));return a};t=function(){for(var a=0,b=0,e=arguments.length;b<e;b++)a+=arguments[b].length;for(var a=Array(a),f=0,b=0;b<e;b++)for(var g=arguments[b],r=0,n=g.length;r<n;r++,f++)a[f]=g[r];return a};f=function(a){return this instanceof f?(this.v=a,this):new f(a)};r=function(a,
b,e){function g(a){c[a]&&(t[a]=function(b){return new Promise(function(e,f){1<p.push([a,b,e,f])||r(a,b)})})}function r(a,b){try{var e=c[a](b);e.value instanceof f?Promise.resolve(e.value.v).then(n,l):k(p[0][2],e)}catch(W){k(p[0][3],W)}}function n(a){r("next",a)}function l(a){r("throw",a)}function k(a,b){(a(b),p.shift(),p.length)&&r(p[0][0],p[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c=e.apply(a,b||[]),t,p=[];return t={},g("next"),g("throw"),g("return"),
t[Symbol.asyncIterator]=function(){return this},t};v=function(a){function b(b,r){e[b]=a[b]?function(e){return(g=!g)?{value:f(a[b](e)),done:"return"===b}:r?r(e):e}:r}var e,g;return e={},b("next"),b("throw",function(a){throw a;}),b("return"),e[Symbol.iterator]=function(){return this},e};z=function(a){function b(b){r[b]=a[b]&&function(e){return new Promise(function(g,r){e=a[b](e);f(g,r,e.done,e.value)})}}function f(a,b,e,f){Promise.resolve(f).then(function(b){a({value:b,done:e})},b)}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");
var g=a[Symbol.asyncIterator],r;return g?g.call(a):(a="function"===typeof e?e(a):a[Symbol.iterator](),r={},b("next"),b("throw"),b("return"),r[Symbol.asyncIterator]=function(){return this},r)};A=function(a,b){Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b;return a};p=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var e in a)Object.hasOwnProperty.call(a,e)&&(b[e]=a[e]);b["default"]=a;return b};u=function(a){return a&&a.__esModule?a:{"default":a}};w=function(a,
b){if(!b.has(a))throw new TypeError("attempted to get private field on non-instance");return b.get(a)};y=function(a,b,e){if(!b.has(a))throw new TypeError("attempted to set private field on non-instance");b.set(a,e);return e};x("__extends",d);x("__assign",c);x("__rest",h);x("__decorate",m);x("__param",q);x("__metadata",b);x("__awaiter",k);x("__generator",l);x("__exportStar",a);x("__values",e);x("__read",g);x("__spread",n);x("__spreadArrays",t);x("__await",f);x("__asyncGenerator",r);x("__asyncDelegator",
v);x("__asyncValues",z);x("__makeTemplateObject",A);x("__importStar",p);x("__importDefault",u);x("__classPrivateFieldGet",w);x("__classPrivateFieldSet",y)})},"@dojo/framework/shim/global":function(){(function(d){"object"===typeof module&&"object"===typeof module.exports?(d=d(require,exports),void 0!==d&&(module.exports=d)):"function"===typeof define&&define.amd&&define(["require","exports"],d)})(function(d,c){Object.defineProperty(c,"__esModule",{value:!0});d=function(){if("undefined"!==typeof self)return self;
if("undefined"!==typeof window)return window;if("undefined"!==typeof global)return global}();c.default=d})},"esri/core/global":function(){define(["require","exports"],function(d,c){return function(){if("undefined"!==typeof globalThis)return globalThis;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof global)return global}()})},"esri/core/object":function(){define(["require","exports","./lang"],function(d,c,h){function m(b,k,l){for(var a=
0;a<b.length;a++){var e=b[a];if(null==l)return;if(!(e in l))if(k)l[e]={};else return;l=l[e]}return l}function q(b,k,l){return k?Object.keys(k).reduce(function(a,b){var e=a[b],n=k[b];if(e===n)return a;if(void 0===e)return a[b]=h.clone(n),a;if(Array.isArray(n)||Array.isArray(a))e=e?Array.isArray(e)?a[b]=e.concat():a[b]=[e]:a[b]=[],n&&(Array.isArray(n)||(n=[n]),l?n.forEach(function(a){-1===e.indexOf(a)&&e.push(a)}):a[b]=n.concat());else if(n&&"object"===typeof n)a[b]=q(e,n,l);else if(!a.hasOwnProperty(b)||
k.hasOwnProperty(b))a[b]=n;return a},b||{}):b}Object.defineProperty(c,"__esModule",{value:!0});c.deepMerge=function(b,k,l){void 0===l&&(l=!1);return q(b,k,l)};c.getDeepValue=function(b,k){if(null!=k)return k[b]||m(b.split("."),!1,k)};c.setDeepValue=function(b,k,l){var a=b.split(".");b=a.pop();(l=m(a,!0,l))&&b&&(l[b]=k)}})},"esri/core/lang":function(){define(["require","exports","./typedArrayUtil"],function(d,c,h){function m(b,l){var a;if(l)for(a in b)b.hasOwnProperty(a)&&(void 0===b[a]?delete b[a]:
b[a]instanceof Object&&m(b[a],!0));else for(a in b)b.hasOwnProperty(a)&&void 0===b[a]&&delete b[a];return b}function q(k){if(!k||"object"!==typeof k||"function"===typeof k)return k;if(h.isInt8Array(k)||h.isUint8Array(k)||h.isUint8ClampedArray(k)||h.isInt16Array(k)||h.isUint16Array(k)||h.isInt32Array(k)||h.isUint32Array(k)||h.isFloat32Array(k)||h.isFloat64Array(k))return h.slice(k);if(k instanceof Date)return new Date(k.getTime());if(k instanceof ArrayBuffer)return k.slice(0,k.byteLength);if(k instanceof
Map){var l=new Map;k.forEach(function(a,b){l.set(b,q(a))});return l}if(k instanceof Set){var a=new Set;k.forEach(function(b){a.add(q(b))});return a}return"function"===typeof k.clone?k.clone():"function"===typeof k.map&&"function"===typeof k.forEach?k.map(q):"function"===typeof k.notifyChange&&"function"===typeof k.watch?k.clone():b({},k,q)}function b(b,l,a){var e,g,n={};for(e in l){g=l[e];var k=!(e in n)||n[e]!==g;if(!(e in b)||b[e]!==g&&k)b[e]=a?a(g):g}return b}Object.defineProperty(c,"__esModule",
{value:!0});c.fixJson=m;c.clone=q;c.equals=function(b,l){return b===l||"number"===typeof b&&isNaN(b)&&"number"===typeof l&&isNaN(l)||"function"===typeof(b||{}).getTime&&"function"===typeof(l||{}).getTime&&b.getTime()===l.getTime()||!1};c.mixin=function(k){void 0===k&&(k={});for(var l=[],a=1;a<arguments.length;a++)l[a-1]=arguments[a];for(a=0;a<l.length;a++)b(k,l[a]);return k}})},"esri/core/typedArrayUtil":function(){define(["require","exports"],function(d,c){Object.defineProperty(c,"__esModule",{value:!0});
c.forEach=function(c,d){if(c.forEach)c.forEach(d);else for(var h=0;h<c.length;h++)d(c[h],h,c)};c.slice=function(c,d,q){if(c.slice)return c.slice(d,q);void 0===d?d=0:(0>d&&(d+=c.length),d=Math.min(c.length,Math.max(0,d)));void 0===q?q=c.length:(0>q&&(q+=c.length),q=Math.min(c.length,Math.max(0,q)));q=Math.max(0,q-d);for(var b=new c.constructor(q),k=0;k<q;k++)b[k]=c[d+k];return b};c.isArrayBuffer=function(c){return c instanceof ArrayBuffer||c&&c.constructor&&"ArrayBuffer"===c.constructor.name};c.isInt8Array=
function(c){return c instanceof Int8Array||c&&c.constructor&&"Int8Array"===c.constructor.name};c.isUint8Array=function(c){return c instanceof Uint8Array||c&&c.constructor&&"Uint8Array"===c.constructor.name};c.isUint8ClampedArray=function(c){return c instanceof Uint8ClampedArray||c&&c.constructor&&"Uint8ClampedArray"===c.constructor.name};c.isInt16Array=function(c){return c instanceof Int16Array||c&&c.constructor&&"Int16Array"===c.constructor.name};c.isUint16Array=function(c){return c instanceof Uint16Array||
c&&c.constructor&&"Uint16Array"===c.constructor.name};c.isInt32Array=function(c){return c instanceof Int32Array||c&&c.constructor&&"Int32Array"===c.constructor.name};c.isUint32Array=function(c){return c instanceof Uint32Array||c&&c.constructor&&"Uint32Array"===c.constructor.name};c.isFloat32Array=function(c){return c instanceof Float32Array||c&&c.constructor&&"Float32Array"===c.constructor.name};c.isFloat64Array=function(c){return c instanceof Float64Array||c&&c.constructor&&"Float64Array"===c.constructor.name};
c.toArray=function(c){for(var d=Array(c.length),h=0;h<c.length;h++)d[h]=c[h];return d};c.estimateSize=function(c){return c?128+c.buffer.byteLength+64:0}})},"esri/kernel":function(){define(["require","exports","./core/has","./support/revision","@dojo/framework/shim/Promise"],function(d,c,h,m){Object.defineProperty(c,"__esModule",{value:!0});c.revision=m.commitHash;c.version="4.16";c.workerMessages={request:function(c,b){return(new Promise(function(b,l){d(["./request"],b,l)})).then(function(k){var l=
c.options||{};l.responseType="array-buffer";l.signal=null===b||void 0===b?void 0:b.signal;return k(c.url,l)}).then(function(b){return{result:{data:b.data,ssl:b.ssl},transferList:[b.data]}})}};c.setId=function(d){c.id=d};h("host-webworker")||console.debug("Using ArcGIS API for JavaScript "+c.version+" [Date: "+m.buildDate+", Revision: "+m.commitHash.slice(0,8)+"]")})},"esri/core/has":function(){define("require exports tslib ../config ./global ../views/webgl/context-util".split(" "),function(d,c,h,
m,q,b){function k(a){return"function"===typeof n[a]?n[a]=n[a](q):n[a]}function l(){if(t)return t;t={available:!1,majorPerformanceCaveat:!1,maxTextureSize:0,supportsHighPrecisionFragment:!1,supportsVertexShaderSamplers:!1,supportsElementIndexUint:!1,supportsStandardDerivatives:!1,supportsInstancedArrays:!1,supportsTextureFloat:!1,supportsColorBufferFloat:!1,version:0};var a=document.createElement("canvas");if(!a)return t;var e=b.createContext(a,{failIfMajorPerformanceCaveat:!0},"webgl");!e&&(e=b.createContext(a,
{},"webgl"))&&(t.majorPerformanceCaveat=!0);if(!e)return t;a=e.getParameter(e.VERSION);if(!a)return t;if(a=a.match(/^WebGL\s+([\d.]*)/)){t.version=parseFloat(a[1]);t.available=.94<=t.version;if(a=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT))t.supportsHighPrecisionFragment=0<a.precision;t.supportsVertexShaderSamplers=0<e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS);t.supportsElementIndexUint=null!==e.getExtension("OES_element_index_uint");t.supportsStandardDerivatives=null!==e.getExtension("OES_standard_derivatives");
t.supportsInstancedArrays=null!==e.getExtension("ANGLE_instanced_arrays");t.supportsTextureFloat=null!==e.getExtension("OES_texture_float");t.supportsColorBufferFloat=null!==e.getExtension("WEBGL_color_buffer_float")}t.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE);return t}function a(){if(f)return f;f={available:!1,version:0};var a=document.createElement("canvas");if(!a)return f;a=b.createContext(a,{},"webgl2");if(!a)return f;f.available=!0;a=a.getParameter(a.VERSION);if(!a)return f;if(a=a.match(/^WebGL\s+([\d.]*)/))f.version=
parseFloat(a[1]);return f}var e,g,n;m.has||(null===(e=q.dojoConfig)||void 0===e?0:e.has)?(n=h.__assign(h.__assign({},null===(g=q.dojoConfig)||void 0===g?void 0:g.has),m.has),delete m.has):n={};k.add=function(a,b,e,f){if(f||"undefined"===typeof n[a])n[a]=b;return e&&k(a)};k.cache=n;(function(){k.add("host-webworker","undefined"!==typeof q.WorkerGlobalScope&&self instanceof q.WorkerGlobalScope);var a="undefined"!==typeof window&&"undefined"!==typeof location&&"undefined"!==typeof document&&window.location===
location&&window.document===document;k.add("host-browser",a);k.add("dom",a);if(k("host-browser")){var b=navigator,a=b.userAgent,b=b.appVersion,e=parseFloat(b);k.add("edge",parseFloat(a.split("Edge/")[1])||void 0);k.add("webkit",!k("edge")&&parseFloat(a.split("WebKit/")[1])||void 0);k.add("chrome",!k("edge")&&!0&&parseFloat(a.split("Chrome/")[1])||void 0);k.add("safari",0<=b.indexOf("Safari")&&!k("chrome")&&!k("edge")?parseFloat(b.split("Version/")[1]):void 0);k.add("mac",0<=b.indexOf("Macintosh"));
if(a.match(/(iPhone|iPod|iPad)/)){var f=RegExp.$1.replace(/P/,"p"),g=a.match(/OS ([\d_]+)/)?RegExp.$1:"1",g=parseFloat(g.replace(/_/,".").replace(/_/g,""));k.add(f,g);k.add("ios",g)}k.add("trident",parseFloat(b.split("Trident/")[1])||void 0);k("webkit")||(0<=a.indexOf("Opera")&&k.add("opera",9.8<=e?parseFloat(a.split("Version/")[1])||e:e),0<=a.indexOf("Gecko")&&!k("trident")&&!k("edge")&&k.add("mozilla",e),k("mozilla")&&k.add("ff",parseFloat(a.split("Firefox/")[1]||a.split("Minefield/")[1])||void 0))}})();
k.add("esri-deprecation-warnings",!0);(function(){if(q.navigator){var b=navigator.userAgent,e=b.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i),b=b.match(/iPhone/i);e&&k.add("esri-mobile",e);b&&k.add("esri-iPhone",b);k.add("esri-geolocation",!!navigator.geolocation)}k.add("esri-canvas-svg-support",!k("trident"));k.add("esri-secure-context",function(){if("isSecureContext"in q)return q.isSecureContext;if(q.location&&q.location.origin)return 0===q.location.origin.indexOf("https:")});
k.add("esri-wasm","WebAssembly"in q);k.add("esri-shared-array-buffer",function(){var a=!1===q.crossOriginIsolated;return"SharedArrayBuffer"in q&&!a});k.add("esri-atomics","Atomics"in q);k.add("esri-workers","Worker"in q);k.add("esri-text-decoder","TextDecoder"in q);k.add("esri-text-encoder","TextEncoder"in q);k("host-webworker")||(k.add("esri-abortable-fetch","fetch"in q&&"signal"in new Request("https://www.arcgis.com")),k.add("csp-restrictions",function(){try{new Function}catch(z){return!0}return!1}),
k.add("esri-image-decode",function(){if("decode"in new Image){var a=new Image;a.src='data:image/svg+xml;charset\x3dUTF-8,\x3csvg version\x3d"1.1" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3c/svg\x3e';a.decode().then(function(){k.add("esri-image-decode",!0,!0,!0)}).catch(function(){k.add("esri-image-decode",!1,!0,!0)})}else return!1}),k.add("esri-url-encodes-apostrophe",function(){var a=q.document.createElement("a");a.href="?'";return-1<a.href.indexOf("?%27")}),k.add("esri-webgl",function(){return l().available}),
k.add("esri-webgl-high-precision-fragment",function(){return l().supportsHighPrecisionFragment}),k.add("esri-webgl-vertex-shader-samplers",function(){return l().supportsVertexShaderSamplers}),k.add("esri-webgl-element-index-uint",function(){return l().supportsElementIndexUint}),k.add("esri-webgl-standard-derivatives",function(){return l().supportsStandardDerivatives}),k.add("esri-webgl-texture-float",function(){return l().supportsTextureFloat}),k.add("esri-webgl-color-buffer-float",function(){return l().supportsColorBufferFloat}),
k.add("esri-webgl-instanced-arrays",function(){return l().supportsInstancedArrays}),k.add("esri-webgl-major-performance-caveat",function(){return l().majorPerformanceCaveat}),k.add("esri-featurelayer-webgl",!0),k.add("esri-featurelayer-webgl-labeling",!0),k.add("esri-webgl2",function(){return a().available}),k.add("esri-webgl-max-texture-size",function(){return l().maxTextureSize}))})();var t=null,f=null;return k})},"esri/views/webgl/context-util":function(){define(["require","exports"],function(d,
c){function h(b,l,a){void 0===l&&(l={});var e;switch(a){case "webgl":e=["webgl","experimental-webgl","webkit-3d","moz-webgl"];break;case "webgl2":e=["webgl2"];break;default:e=["webgl","experimental-webgl","webkit-3d","moz-webgl"]}a=null;for(var g=0;g<e.length;g++){var n=e[g];try{a=b.getContext(n,l)}catch(t){}if(a)break}return a}function m(b,l){(b=b.parentNode)&&(b.innerHTML='\x3ctable style\x3d"background-color: #8CE; width: 100%; height: 100%;"\x3e\x3ctr\x3e\x3ctd align\x3d"center"\x3e\x3cdiv style\x3d"display: table-cell; vertical-align: middle;"\x3e\x3cdiv style\x3d""\x3e'+
l+"\x3c/div\x3e\x3c/div\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e")}Object.defineProperty(c,"__esModule",{value:!0});c.createContextOrErrorHTML=function(c,l,a){void 0===l&&(l={});if(!window.WebGLRenderingContext)return m(c,q),null;l=h(c,l,a);return l?l:(m(c,b),null)};c.createContext=h;var q='This page requires a browser that supports WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org"\x3eClick here to upgrade your browser.\x3c/a\x3e',b='It doesn\'t appear your computer can support WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org/troubleshooting/"\x3eClick here for more information.\x3c/a\x3e'})},
"esri/support/revision":function(){define(["require","exports"],function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.buildDate="20200707";c.commitHash="3377f16773a9ea25fbd6039ef64a83c7359aad88"})},"@dojo/framework/shim/Promise":function(){(function(d){"object"===typeof module&&"object"===typeof module.exports?(d=d(require,exports),void 0!==d&&(module.exports=d)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ./support/queue ./Symbol ../has/has".split(" "),
d)})(function(d,c){Object.defineProperty(c,"__esModule",{value:!0});var h=d("tslib"),m=d("./global"),q=d("./support/queue");d("./Symbol");d=d("../has/has");c.ShimPromise=m.default.Promise;c.isThenable=function(b){return b&&"function"===typeof b.then};d.default("es6-promise")||(m.default.Promise=c.ShimPromise=(b=function(){function b(l){var a=this;this.state=1;this[Symbol.toStringTag]="Promise";var e=!1,g=[],n=function(a){g&&g.push(a)},k=function(b,e){1===a.state&&(a.state=b,a.resolvedValue=e,n=q.queueMicroTask,
g&&0<g.length&&q.queueMicroTask(function(){if(g){for(var a=g.length,b=0;b<a;++b)g[b].call(null);g=null}}))},f=function(b,f){1!==a.state||e||(c.isThenable(f)?(f.then(k.bind(null,0),k.bind(null,2)),e=!0):k(b,f))};this.then=function(e,f){return new b(function(b,g){n(function(){var r=2===a.state?f:e;if("function"===typeof r)try{b(r(a.resolvedValue))}catch(u){g(u)}else 2===a.state?g(a.resolvedValue):b(a.resolvedValue)})})};try{l(f.bind(null,0),f.bind(null,2))}catch(r){k(2,r)}}b.all=function(l){return new this(function(a,
e){function g(b,e){k[b]=e;++f;d||f<r||a(k)}function n(a,f){++r;c.isThenable(f)?f.then(g.bind(null,a),e):b.resolve(f).then(g.bind(null,a))}var k=[],f=0,r=0,d=!0,q=0;try{for(var m=h.__values(l),p=m.next();!p.done;p=m.next())n(q,p.value),q++}catch(y){u={error:y}}finally{try{p&&!p.done&&(w=m.return)&&w.call(m)}finally{if(u)throw u.error;}}(d=!1,f<r)||a(k);var u,w})};b.race=function(l){return new this(function(a,e){try{for(var g=h.__values(l),n=g.next();!n.done;n=g.next()){var c=n.value;c instanceof b?
c.then(a,e):b.resolve(c).then(a)}}catch(v){f={error:v}}finally{try{n&&!n.done&&(r=g.return)&&r.call(g)}finally{if(f)throw f.error;}}var f,r})};b.reject=function(b){return new this(function(a,e){e(b)})};b.resolve=function(b){return new this(function(a){a(b)})};b.prototype.catch=function(b){return this.then(void 0,b)};return b}(),b[Symbol.species]=c.ShimPromise,b));d.default("es2018-promise-finally")||(m.default.Promise.prototype.finally=function(b){return this.then(b&&function(l){return Promise.resolve(b()).then(function(){return l})},
b&&function(l){return Promise.resolve(b()).then(function(){throw l;})})});c.default=c.ShimPromise;var b})},"@dojo/framework/shim/support/queue":function(){(function(d){"object"===typeof module&&"object"===typeof module.exports?(d=d(require,exports),void 0!==d&&(module.exports=d)):"function"===typeof define&&define.amd&&define(["require","exports","../global","../../has/has"],d)})(function(d,c){function h(a){a&&a.isActive&&a.callback&&a.callback()}function m(a,b){return{destroy:function(){this.destroy=
function(){};a.isActive=!1;a.callback=null;b&&b()}}}Object.defineProperty(c,"__esModule",{value:!0});var q=d("../global"),b=d("../../has/has"),k,l;c.queueTask=function(){function a(a){a={isActive:!0,callback:a};var b=n(a);return m(a,g&&function(){g(b)})}var g,n;if(b.default("postmessage")){var l=[];q.default.addEventListener("message",function(a){a.source===q.default&&"dojo-queue-message"===a.data&&(a.stopPropagation(),l.length&&h(l.shift()))});n=function(a){l.push(a);q.default.postMessage("dojo-queue-message",
"*")}}else b.default("setimmediate")?(g=q.default.clearImmediate,n=function(a){return setImmediate(h.bind(null,a))}):(g=q.default.clearTimeout,n=function(a){return setTimeout(h.bind(null,a),0)});return b.default("microtasks")?a:function(b){k();return a(b)}}();if(!b.default("microtasks")){var a=!1;l=[];k=function(){a||(a=!0,c.queueTask(function(){a=!1;if(l.length)for(var b=void 0;b=l.shift();)h(b)}))}}c.queueAnimationTask=function(){function a(a){a={isActive:!0,callback:a};var b=requestAnimationFrame(h.bind(null,
a));return m(a,function(){cancelAnimationFrame(b)})}return b.default("raf")?b.default("microtasks")?a:function(b){k();return a(b)}:c.queueTask}();c.queueMicroTask=function(){var a;if(b.default("host-node"))a=function(a){q.default.process.nextTick(h.bind(null,a))};else if(b.default("es6-promise"))a=function(a){q.default.Promise.resolve(a).then(h)};else if(b.default("dom-mutationobserver")){var g=q.default.MutationObserver||q.default.WebKitMutationObserver,n=document.createElement("div"),c=[];(new g(function(){for(;0<
c.length;){var a=c.shift();a&&a.isActive&&a.callback&&a.callback()}})).observe(n,{attributes:!0});a=function(a){c.push(a);n.setAttribute("queueStatus","1")}}else a=function(a){k();l.push(a)};return function(b){b={isActive:!0,callback:b};a(b);return m(b)}}()})},"@dojo/framework/shim/Symbol":function(){(function(d){"object"===typeof module&&"object"===typeof module.exports?(d=d(require,exports),void 0!==d&&(module.exports=d)):"function"===typeof define&&define.amd&&define(["require","exports","../has/has",
"./global","./support/util"],d)})(function(d,c){function h(a){return a&&("symbol"===typeof a||"Symbol"===a["@@toStringTag"])||!1}Object.defineProperty(c,"__esModule",{value:!0});var m=d("../has/has"),q=d("./global"),b=d("./support/util");c.Symbol=q.default.Symbol;if(!m.default("es6-symbol")){var k=function(a){if(!h(a))throw new TypeError(a+" is not a symbol");return a},l=Object.defineProperties,a=Object.defineProperty,e=Object.create,g=Object.prototype,n={},t=function(){var f=e(null);return function(e){for(var r=
0,n;f[String(e)+(r||"")];)++r;e+=String(r||"");f[e]=!0;n="@@"+e;Object.getOwnPropertyDescriptor(g,n)||a(g,n,{set:function(e){a(this,n,b.getValueDescriptor(e))}});return n}}(),f=function v(a){if(this instanceof f)throw new TypeError("TypeError: Symbol is not a constructor");return v(a)};c.Symbol=q.default.Symbol=function z(a){if(this instanceof z)throw new TypeError("TypeError: Symbol is not a constructor");var e=Object.create(f.prototype);a=void 0===a?"":String(a);return l(e,{__description__:b.getValueDescriptor(a),
__name__:b.getValueDescriptor(t(a))})};a(c.Symbol,"for",b.getValueDescriptor(function(a){return n[a]?n[a]:n[a]=c.Symbol(String(a))}));l(c.Symbol,{keyFor:b.getValueDescriptor(function(a){var b;k(a);for(b in n)if(n[b]===a)return b}),hasInstance:b.getValueDescriptor(c.Symbol.for("hasInstance"),!1,!1),isConcatSpreadable:b.getValueDescriptor(c.Symbol.for("isConcatSpreadable"),!1,!1),iterator:b.getValueDescriptor(c.Symbol.for("iterator"),!1,!1),match:b.getValueDescriptor(c.Symbol.for("match"),!1,!1),observable:b.getValueDescriptor(c.Symbol.for("observable"),
!1,!1),replace:b.getValueDescriptor(c.Symbol.for("replace"),!1,!1),search:b.getValueDescriptor(c.Symbol.for("search"),!1,!1),species:b.getValueDescriptor(c.Symbol.for("species"),!1,!1),split:b.getValueDescriptor(c.Symbol.for("split"),!1,!1),toPrimitive:b.getValueDescriptor(c.Symbol.for("toPrimitive"),!1,!1),toStringTag:b.getValueDescriptor(c.Symbol.for("toStringTag"),!1,!1),unscopables:b.getValueDescriptor(c.Symbol.for("unscopables"),!1,!1)});l(f.prototype,{constructor:b.getValueDescriptor(c.Symbol),
toString:b.getValueDescriptor(function(){return this.__name__},!1,!1)});l(c.Symbol.prototype,{toString:b.getValueDescriptor(function(){return"Symbol ("+k(this).__description__+")"}),valueOf:b.getValueDescriptor(function(){return k(this)})});a(c.Symbol.prototype,c.Symbol.toPrimitive,b.getValueDescriptor(function(){return k(this)}));a(c.Symbol.prototype,c.Symbol.toStringTag,b.getValueDescriptor("Symbol",!1,!1,!0));a(f.prototype,c.Symbol.toPrimitive,b.getValueDescriptor(c.Symbol.prototype[c.Symbol.toPrimitive],
!1,!1,!0));a(f.prototype,c.Symbol.toStringTag,b.getValueDescriptor(c.Symbol.prototype[c.Symbol.toStringTag],!1,!1,!0))}c.isSymbol=h;"hasInstance isConcatSpreadable iterator species replace search split match toPrimitive toStringTag unscopables observable".split(" ").forEach(function(a){c.Symbol[a]||Object.defineProperty(c.Symbol,a,b.getValueDescriptor(c.Symbol.for(a),!1,!1))});c.default=c.Symbol})},"@dojo/framework/shim/support/util":function(){(function(d){"object"===typeof module&&"object"===typeof module.exports?
(d=d(require,exports),void 0!==d&&(module.exports=d)):"function"===typeof define&&define.amd&&define(["require","exports"],d)})(function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.getValueDescriptor=function(c,d,q,b){void 0===d&&(d=!1);void 0===q&&(q=!0);void 0===b&&(b=!0);return{value:c,enumerable:d,writable:q,configurable:b}};c.wrapNative=function(c){return function(d){for(var h=[],b=1;b<arguments.length;b++)h[b-1]=arguments[b];return c.apply(d,h)}}})},"esri/core/workers/RemoteClient":function(){define("require exports ../Error ../events ../promiseUtils ./registry ./utils ../../views/support/Scheduler".split(" "),
function(d,c,h,m,q,b,k,l){var a=k.MessageType.CLOSE,e=k.MessageType.ABORT,g=k.MessageType.INVOKE,n=k.MessageType.RESPONSE,t=k.MessageType.OPEN_PORT,f=k.MessageType.ON,r=function(){function a(a){this._timer=null;this._cancelledJobIds=new Set;this._invokeMessages=[];this._invoke=a;this._timer=null;this._process=this._process.bind(this)}a.prototype.push=function(a){a.type===k.MessageType.ABORT?this._cancelledJobIds.add(a.jobId):(this._invokeMessages.push(a),null===this._timer&&(this._timer=setTimeout(this._process,
0)))};a.prototype.clear=function(){this._invokeMessages.length=0;this._cancelledJobIds.clear();this._timer=null};a.prototype._process=function(){this._timer=null;for(var a=0,b=this._invokeMessages;a<b.length;a++){var e=b[a];this._cancelledJobIds.has(e.jobId)||this._invoke(e)}this._cancelledJobIds.clear();this._invokeMessages.length=0};return a}();return function(){function c(a,b){var e=this;this._port=a;this._outJobs=new Map;this._inJobs=new Map;this._invokeQueue=new r(function(a){return e._onInvokeMessage(a)});
this._responseQueue=[];this._client=b.client;this._onMessage=this._onMessage.bind(this);this._channel=b.channel;b.scheduler&&(this._frameTask=b.scheduler.registerTask(l.Task.REMOTE_CLIENT,function(a){return e._update(a)},function(){return 0<e._responseQueue.length}));this._port.addEventListener("message",this._onMessage);this._port.start()}c.connect=function(a){var b=new MessageChannel;a="function"===typeof a?new a:"default"in a&&"function"===typeof a.default?new a.default:a;var e=new c(b.port1,{channel:b,
client:a});"object"===typeof a&&"remoteClient"in a&&(a.remoteClient=e);c.clients.set(e,a);return b.port2};c.loadWorker=function(a){return(a=b.registry[a])?a():q.resolve(null)};c.prototype.close=function(){this._post({type:a});this._close()};c.prototype.isBusy=function(){return 0<this._outJobs.size};c.prototype.invoke=function(a,b,f){var n=this,r=f&&f.signal,l=f&&f.transferList;if(!this._port)return q.reject(new h("remote-client:port-closed","Can't invoke(), port is closed"));var c=k.newJobId();return q.create(function(f,
k){q.onAbortOrThrow(r,function(){n._outJobs.get(c)&&(n._outJobs.delete(c),n._post({type:e,jobId:c}),k(q.createAbortError()))});n._outJobs.set(c,{resolve:f,reject:k});n._post({type:g,jobId:c,methodName:a,abortable:null!=r},b,l)})};c.prototype.on=function(a,b){function e(a){b(a.data)}var f=new MessageChannel;this._port.postMessage({type:k.MessageType.ON,eventType:a,port:f.port2},[f.port2]);f.port1.addEventListener("message",e);f.port1.start();return{remove:function(){f.port1.postMessage({type:k.MessageType.CLOSE});
f.port1.close();f.port1.removeEventListener("message",e)}}};c.prototype.openPort=function(){var a=new MessageChannel;this._post({type:t,port:a.port2});return a.port1};c.prototype._close=function(){this._channel&&(this._channel=null);this._port.removeEventListener("message",this._onMessage);this._port.close();this._outJobs.forEach(function(a){return a.reject(q.createAbortError("Abort job: worker closing"))});this._inJobs.clear();this._outJobs.clear();this._invokeQueue.clear();this._port=this._client=
null;this._frameTask&&this._frameTask.remove();this._responseQueue=this._frameTask=null};c.prototype._onMessage=function(b){if(b=k.receiveMessage(b))switch(b.type){case n:this._onResponseMessage(b);break;case g:this._invokeQueue.push(b);break;case e:this._onAbortMessage(b);break;case a:this._onCloseMessage();break;case t:this._onOpenPortMessage(b);break;case f:this._onOnMessage(b)}};c.prototype._onAbortMessage=function(a){var b=this._inJobs,e=a.jobId,f=b.get(e);this._invokeQueue.push(a);f&&(f.controller&&
f.controller.abort(),b.delete(e))};c.prototype._onCloseMessage=function(){var a=this._client;this._close();a&&"destroy"in a&&c.clients.get(this)===a&&a.destroy();c.clients.delete(this);a&&a.remoteClient&&(a.remoteClient=null)};c.prototype._onInvokeMessage=function(a){var b=this,e=a.methodName,f=a.jobId,g=a.data;a=a.abortable?q.createAbortController():null;var r=this._inJobs,l=this._client,c=l[e],t;try{if(!c&&e&&-1!==e.indexOf("."))for(var d=e.split("."),h=0;h<d.length-1;h++)l=l[d[h]],c=l[d[h+1]];
if("function"!==typeof c)throw new TypeError(e+" is not a function");t=c.call(l,g,{client:this,signal:a?a.signal:null})}catch(C){this._post({type:n,jobId:f,error:k.toInvokeError(C)});return}q.isPromiseLike(t)?(r.set(f,{controller:a,promise:t}),t.then(function(a){r.has(f)&&(r.delete(f),b._post({type:n,jobId:f},a))},function(a){r.has(f)&&(r.delete(f),q.isAbortError(a)||b._post({type:n,jobId:f,error:k.toInvokeError(a||{message:"Error encountered at method "+e})}))})):this._post({type:n,jobId:f},t)};
c.prototype._onOpenPortMessage=function(a){new c(a.port,{client:this._client})};c.prototype._onOnMessage=function(a){var b=a.port,e=this._client.on(a.eventType,function(a){b.postMessage(a)}),f=m.on(a.port,"message",function(a){k.receiveMessage(a).type===k.MessageType.CLOSE&&(f.remove(),e.remove(),b.close())})};c.prototype._onResponseMessage=function(a){this._frameTask?this._responseQueue.push(a):this._handleResponse(a)};c.prototype._update=function(a){for(;!a.done&&0<this._responseQueue.length;)this._handleResponse(this._responseQueue.shift()),
a.madeProgress()};c.prototype._handleResponse=function(a){var b=a.jobId,e=a.error;a=a.data;var f=this._outJobs;if(f.has(b)){var g=f.get(b);f.delete(b);e?g.reject(h.fromJSON(JSON.parse(e))):g.resolve(a)}};c.prototype._post=function(a,b,e){return k.postMessage(this._port,a,b,e)};c.clients=new Map;return c}()})},"esri/core/Error":function(){define("require exports tslib ./lang ./Logger ./Message".split(" "),function(d,c,h,m,q,b){d=function(b){function l(a,e,g){var n=b.call(this,a,e,g)||this;return n instanceof
l?n:new l(a,e,g)}h.__extends(l,b);l.prototype.toJSON=function(){if(null!=this.details)try{var a=m.clone(this.details);return{name:this.name,message:this.message,details:a}}catch(e){throw q.getLogger("esri.core.Error").error(e),e;}return{name:this.name,message:this.message,details:this.details}};l.fromJSON=function(a){return new l(a.name,a.message,a.details)};return l}(b);d.prototype.type="error";return d})},"esri/core/Logger":function(){define("require exports tslib ./has ./string @dojo/framework/shim/Promise".split(" "),
function(d,c,h,m,q){var b={info:0,warn:1,error:2};d=function(){function c(b){void 0===b&&(b={});this._loggedMessages={error:new Map,warn:new Map,info:new Map};this.module=b.module||"";this.writer=b.writer||null;this.level=b.level||null;null!=b.enabled&&(this.enabled=!!b.enabled);c._loggers[this.module]=this;b=this.module.lastIndexOf(".");-1!==b&&(this.parent=c.getLogger(this.module.slice(0,b)))}c.prototype.log=function(b,a){for(var e=[],g=2;g<arguments.length;g++)e[g-2]=arguments[g];if(this._isEnabled()&&
this._matchLevel(b)){if("always"!==a&&!c._throttlingDisabled){var g=this._argsToKey(e),n=this._loggedMessages[b].get(g);if("once"===a&&null!=n||"oncePerTick"===a&&n>=c._tickCounter)return;this._loggedMessages[b].set(g,c._tickCounter);c._scheduleTickCounterIncrement()}(g=this._inheritedWriter())&&g.apply(void 0,h.__spreadArrays([b,this.module],e))}};c.prototype.error=function(){for(var b=[],a=0;a<arguments.length;a++)b[a]=arguments[a];this.log.apply(this,h.__spreadArrays(["error","always"],b))};c.prototype.warn=
function(){for(var b=[],a=0;a<arguments.length;a++)b[a]=arguments[a];this.log.apply(this,h.__spreadArrays(["warn","always"],b))};c.prototype.info=function(){for(var b=[],a=0;a<arguments.length;a++)b[a]=arguments[a];this.log.apply(this,h.__spreadArrays(["info","always"],b))};c.prototype.errorOnce=function(){for(var b=[],a=0;a<arguments.length;a++)b[a]=arguments[a];this.log.apply(this,h.__spreadArrays(["error","once"],b))};c.prototype.warnOnce=function(){for(var b=[],a=0;a<arguments.length;a++)b[a]=
arguments[a];this.log.apply(this,h.__spreadArrays(["warn","once"],b))};c.prototype.infoOnce=function(){for(var b=[],a=0;a<arguments.length;a++)b[a]=arguments[a];this.log.apply(this,h.__spreadArrays(["info","once"],b))};c.prototype.errorOncePerTick=function(){for(var b=[],a=0;a<arguments.length;a++)b[a]=arguments[a];this.log.apply(this,h.__spreadArrays(["error","oncePerTick"],b))};c.prototype.warnOncePerTick=function(){for(var b=[],a=0;a<arguments.length;a++)b[a]=arguments[a];this.log.apply(this,h.__spreadArrays(["warn",
"oncePerTick"],b))};c.prototype.infoOncePerTick=function(){for(var b=[],a=0;a<arguments.length;a++)b[a]=arguments[a];this.log.apply(this,h.__spreadArrays(["info","oncePerTick"],b))};c.prototype.getLogger=function(b){return c.getLogger(this.module+"."+b)};Object.defineProperty(c,"test",{get:function(){return{resetLoggers:function(b){void 0===b&&(b={});var a=c._loggers;c._loggers=b;return a},set throttlingDisabled(b){c._throttlingDisabled=b}}},enumerable:!0,configurable:!0});c.getLogger=function(b){var a=
c._loggers[b];a||(a=new c({module:b}));return a};c.prototype._parentWithMember=function(b,a){for(var e=this;e&&null==e[b];)e=e.parent;return e?e[b]:a};c.prototype._inheritedWriter=function(){return this._parentWithMember("writer",this._consoleWriter)};c.prototype._consoleWriter=function(b,a){for(var e=[],g=2;g<arguments.length;g++)e[g-2]=arguments[g];console[b].apply(console,h.__spreadArrays(["["+a+"]"],e))};c.prototype._matchLevel=function(c){return b[this._parentWithMember("level","error")]<=b[c]};
c.prototype._isEnabled=function(){return this._parentWithMember("enabled",!0)};c.prototype._argsToKey=function(){for(var b=[],a=0;a<arguments.length;a++)b[a]=arguments[a];return q.numericHash(JSON.stringify(b,function(a,b){return"object"!==typeof b||Array.isArray(b)?b:"[Object]"}))};c._scheduleTickCounterIncrement=function(){c._tickCounterScheduled||(c._tickCounterScheduled=!0,Promise.resolve().then(function(){c._tickCounter++;c._tickCounterScheduled=!1}))};c._loggers={};c._tickCounter=0;c._tickCounterScheduled=
!1;c._throttlingDisabled=!1;return c}();d.getLogger("esri").level="warn";return d})},"esri/core/string":function(){define(["require","exports","./object","@dojo/framework/shim/string"],function(d,c,h,m){function q(b){return null==b?"":b}Object.defineProperty(c,"__esModule",{value:!0});var b=/\{([^\}]+)\}/g;c.endsWith=m.endsWith;c.startsWith=m.startsWith;c.padEnd=m.padEnd;c.padStart=m.padStart;c.includes=m.includes;c.replace=function(c,l){return c.replace(b,"object"===typeof l?function(a,b){return q(h.getDeepValue(b,
l))}:function(a,b){return q(l(b))})};c.escapeRegExpString=function(b,c){return b.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,function(a){return c&&-1!==c.indexOf(a)?a:"\\"+a})};c.numericHash=function(b){for(var c=0,a=0;a<b.length;a++)c=(c<<5)-c+b.charCodeAt(a),c|=0;return c}})},"@dojo/framework/shim/string":function(){(function(d){"object"===typeof module&&"object"===typeof module.exports?(d=d(require,exports),void 0!==d&&(module.exports=d)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ../has/has ./support/util".split(" "),
d)})(function(d,c){Object.defineProperty(c,"__esModule",{value:!0});var h=d("tslib"),m=d("./global"),q=d("../has/has");d=d("./support/util");c.HIGH_SURROGATE_MIN=55296;c.HIGH_SURROGATE_MAX=56319;c.LOW_SURROGATE_MIN=56320;c.LOW_SURROGATE_MAX=57343;if(q.default("es6-string")&&q.default("es6-string-raw"))c.fromCodePoint=m.default.String.fromCodePoint,c.raw=m.default.String.raw,c.codePointAt=d.wrapNative(m.default.String.prototype.codePointAt),c.endsWith=d.wrapNative(m.default.String.prototype.endsWith),
c.includes=d.wrapNative(m.default.String.prototype.includes),c.normalize=d.wrapNative(m.default.String.prototype.normalize),c.repeat=d.wrapNative(m.default.String.prototype.repeat),c.startsWith=d.wrapNative(m.default.String.prototype.startsWith);else{var b=function(b,c,a,e,g){void 0===g&&(g=!1);if(null==c)throw new TypeError("string."+b+" requires a valid string to search against.");b=c.length;return[c,String(a),Math.min(Math.max(e!==e?g?b:0:e,0),b)]};c.fromCodePoint=function(){for(var b=0;b<arguments.length;b++);
b=arguments.length;if(!b)return"";for(var l=String.fromCharCode,a=[],e=-1,g="";++e<b;){var n=Number(arguments[e]);if(!(isFinite(n)&&Math.floor(n)===n&&0<=n&&1114111>=n))throw RangeError("string.fromCodePoint: Invalid code point "+n);65535>=n?a.push(n):(n-=65536,a.push((n>>10)+c.HIGH_SURROGATE_MIN,n%1024+c.LOW_SURROGATE_MIN));if(e+1===b||16384<a.length)g+=l.apply(null,a),a.length=0}return g};c.raw=function(b){for(var c=[],a=1;a<arguments.length;a++)c[a-1]=arguments[a];var a=b.raw,e="",g=c.length;if(null==
b||null==b.raw)throw new TypeError("string.raw requires a valid callSite object with a raw value");for(var n=0,k=a.length;n<k;n++)e+=a[n]+(n<g&&n<k-1?c[n]:"");return e};c.codePointAt=function(b,l){void 0===l&&(l=0);if(null==b)throw new TypeError("string.codePointAt requries a valid string.");var a=b.length;l!==l&&(l=0);if(!(0>l||l>=a)){var e=b.charCodeAt(l);return e>=c.HIGH_SURROGATE_MIN&&e<=c.HIGH_SURROGATE_MAX&&a>l+1&&(b=b.charCodeAt(l+1),b>=c.LOW_SURROGATE_MIN&&b<=c.LOW_SURROGATE_MAX)?1024*(e-
c.HIGH_SURROGATE_MIN)+b-c.LOW_SURROGATE_MIN+65536:e}};c.endsWith=function(c,l,a){if(""===l)return!0;if("undefined"===typeof a)a=c.length;else if(null===a||isNaN(a))return!1;a=h.__read(b("endsWith",c,l,a,!0),3);c=a[0];l=a[1];a=a[2];var e=a-l.length;return 0>e?!1:c.slice(e,a)===l};c.includes=function(c,l,a){void 0===a&&(a=0);a=h.__read(b("includes",c,l,a),3);c=a[0];l=a[1];a=a[2];return-1!==c.indexOf(l,a)};c.repeat=function(b,c){void 0===c&&(c=0);if(null==b)throw new TypeError("string.repeat requires a valid string.");
c!==c&&(c=0);if(0>c||Infinity===c)throw new RangeError("string.repeat requires a non-negative finite count.");for(var a="";c;)c%2&&(a+=b),1<c&&(b+=b),c>>=1;return a};c.startsWith=function(c,l,a){void 0===a&&(a=0);l=String(l);a=h.__read(b("startsWith",c,l,a),3);c=a[0];l=a[1];a=a[2];var e=a+l.length;return e>c.length?!1:c.slice(a,e)===l}}q.default("es2017-string")?(c.padEnd=d.wrapNative(m.default.String.prototype.padEnd),c.padStart=d.wrapNative(m.default.String.prototype.padStart)):(c.padEnd=function(b,
l,a){void 0===a&&(a=" ");if(null===b||void 0===b)throw new TypeError("string.repeat requires a valid string.");if(Infinity===l)throw new RangeError("string.padEnd requires a non-negative finite count.");if(null===l||void 0===l||0>l)l=0;b=String(b);l-=b.length;0<l&&(b+=c.repeat(a,Math.floor(l/a.length))+a.slice(0,l%a.length));return b},c.padStart=function(b,l,a){void 0===a&&(a=" ");if(null===b||void 0===b)throw new TypeError("string.repeat requires a valid string.");if(Infinity===l)throw new RangeError("string.padStart requires a non-negative finite count.");
if(null===l||void 0===l||0>l)l=0;b=String(b);l-=b.length;0<l&&(b=c.repeat(a,Math.floor(l/a.length))+a.slice(0,l%a.length)+b);return b})})},"esri/core/Message":function(){define(["require","exports","./object"],function(d,c,h){function m(c,b){return c.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,function(c,l){if(""===l)return"$";c=h.getDeepValue(l,b);c=null==c?"":c;if("undefined"===typeof c)throw Error('could not find key "'+l+'" in template');return c.toString()})}return function(){function c(b,
k,l){this instanceof c&&(this.name=b,this.message=k&&m(k,l)||"",this.details=l)}c.prototype.toString=function(){return"["+this.name+"]: "+this.message};return c}()})},"esri/core/events":function(){define(["require","exports"],function(d,c){function h(c){return c&&("function"===typeof c.on||"function"===typeof c.addEventListener)}function m(c,b,k){if(!h(c))throw new TypeError("target is not a Evented or EventTarget object");if("on"in c)return c.on(b,k);if(Array.isArray(b)){for(var l=b.slice(),a=0;a<
l.length;a++)c.addEventListener(l[a],k);return{remove:function(){for(var a=0;a<l.length;a++)c.removeEventListener(l[a],k)}}}c.addEventListener(b,k);return{remove:function(){c.removeEventListener(b,k)}}}Object.defineProperty(c,"__esModule",{value:!0});c.isEventTarget=h;c.on=m;c.once=function(c,b,k){if(!h(c))throw new TypeError("target is not a Evented or EventTarget object");if("once"in c)return c.once(b,k);var l=m(c,b,function(a){l.remove();k.call(c,a)});return{remove:function(){l.remove()}}};c.pausable=
function(c,b,k){var l=!1,a=m(c,b,function(a){l||k.call(c,a)});return{resume:function(){l=!1},pause:function(){l=!0},remove:function(){a.remove()}}};c.ieKeyNormalizationMap={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};c.eventKey=function(d){d=d.key;return c.ieKeyNormalizationMap[d]||d}})},"esri/core/promiseUtils":function(){define("require exports tslib @dojo/framework/shim/AbortController ./clock ./Error ./events ./Logger ./maybe @dojo/framework/shim/Promise".split(" "),
function(d,c,h,m,q,b,k,l,a){function e(a){return Promise.all(a)}function g(a){return new Promise(function(b,e){try{a(b,e)}catch(C){Promise.resolve().then(function(){return e(C)})}})}function n(a){void 0===a&&(a="Aborted");return new b("AbortError",a)}function t(){return new m.default}function f(a){if(v(a))throw n();}function r(b){return a.isSome(b)?"aborted"in b?b:b.signal:b}function v(b){b=r(b);return a.isSome(b)&&b.aborted}function z(b,e){b=r(b);if(!a.isNone(b))if(b.aborted)e();else return k.once(b,
"abort",function(){return e()})}function A(a){return a&&"AbortError"===a.name}function p(){var a=null,b=g(function(b,e){a={resolve:b,reject:e}});a.promise=b;return a}function u(a){if(a){if("function"!==typeof a.forEach){var b=Object.keys(a),e=b.map(function(b){return a[b]});return u(e).then(function(a){var e={};b.forEach(function(b,f){return e[b]=a[f]});return e})}var f=w;return g(function(b){var e=[],g=a.length;0===g&&b(e);a.forEach(function(a){var c={promise:a||f(a)};e.push(c);c.promise.then(function(a){c.value=
a}).catch(function(a){c.error=a}).then(function(){--g;0===g&&b(e)})})})}}function w(a){void 0===a&&(a=void 0);return Promise.resolve(a)}function y(a,b,e){void 0===b&&(b=void 0);var f=t();z(e,function(){return f.abort()});return g(function(e,g){var c=setTimeout(function(){c=0;e(b)},a);z(f,function(){c&&(clearTimeout(c),g(n()))})})}function x(a){return a&&"object"===typeof a&&"then"in a&&"function"===typeof a.then?a:w(a)}Object.defineProperty(c,"__esModule",{value:!0});var E=l.getLogger("esri");c.all=
e;c.filter=function(a,b){var f=a.slice();return e(a.map(function(a,e){return b(a,e)})).then(function(a){return f.filter(function(b,e){return a[e]})})};c.create=g;c.createAbortError=n;c.createAbortController=t;c.throwIfAborted=f;c.isAborted=v;c.throwIfAbortError=function(a){if(A(a))throw a;};c.throwIfNotAbortError=function(a){if(!A(a))throw a;};c.onAbort=z;c.onAbortOrThrow=function(b,e){b=r(b);if(!a.isNone(b))return f(b),k.once(b,"abort",function(){return e(n())})};c.isAbortError=A;c.ignoreAbortErrors=
function(a){return a.catch(function(a){if(!A(a))throw a;})};c.logOnError=function(b,e){return b.catch(function(b){A(b)||(e=a.isSome(e)?e:E,e.error(b))})};c.createDeferred=p;c.eachAlways=u;c.isThenable=function(a){return a&&"function"===typeof a.then};c.eachAlwaysValues=function(a){return u(a).then(function(a){return a.filter(function(a){return!!a.value}).map(function(a){return a.value})})};c.first=function(a){return a&&a.length?g(function(b,e){for(var f=0;f<a.length;f++)a[f].then(b,e)}):w()};c.reject=
function(a){return Promise.reject(a)};c.resolve=w;c.after=y;c.timeout=function(a,e,f,g){var c=f&&"abort"in f?f:null;null!=g||c||(g=f);var r=setTimeout(function(){r=0;c&&c.abort()},e),n=function(){throw g||new b("promiseUtils:timeout","The wrapped promise did not resolve within "+e+" ms");};return a.then(function(a){if(0===r)throw n();clearTimeout(r);return a},function(a){clearTimeout(r);throw 0===r?n():a;})};c.isPromiseLike=function(a){return a&&"function"===typeof a.then};c.when=x;c.debounce=function(a,
b){void 0===b&&(b=-1);var e,f,g,c,r=null,l=function(){for(var k=[],d=0;d<arguments.length;d++)k[d]=arguments[d];if(e)return f=k,c&&c.reject(n()),c=p(),k=c.promise,r&&(d=r,r=null,d.abort()),k;g=c||p();c=null;if(0<b){var w=t(),m=e=x(a.apply(void 0,h.__spreadArrays(k,[w.signal])));y(b).then(function(){e===m&&(c?w.abort():r=w)})}else e=1,e=x(a.apply(void 0,k));var k=function(){var a=f;f=g=e=r=null;null!=a&&l.apply(void 0,a)},d=e,v=g;d.then(k,k);d.then(v.resolve,v.reject);return v.promise};return l};c.createResolver=
function(){var a,b,e=g(function(e,f){a=e;b=f}),f=function(b){a(b)};f.resolve=function(b){return a(b)};f.reject=function(a){return b(a)};f.timeout=function(a,b){return q.default.setTimeout(function(){return f.reject(b)},a)};f.promise=e;return f};c.always=function(a,b){return a.then(b,b)}})},"@dojo/framework/shim/AbortController":function(){(function(d){"object"===typeof module&&"object"===typeof module.exports?(d=d(require,exports),void 0!==d&&(module.exports=d)):"function"===typeof define&&define.amd&&
define(["require","exports","./global","../has/has","./array"],d)})(function(d,c){Object.defineProperty(c,"__esModule",{value:!0});var h=d("./global"),m=d("../has/has"),q=d("./array");c.ShimAbortSignal=h.default.AbortSignal;m.default("abort-signal")||(h.default.AbortSignal=c.ShimAbortSignal=function(){function b(){this._aborted=!1;this.listeners={}}Object.defineProperty(b.prototype,"aborted",{get:function(){return this._aborted},enumerable:!0,configurable:!0});b.prototype.addEventListener=function(b,
c){b in this.listeners||(this.listeners[b]=[]);this.listeners[b].push(c)};b.prototype.removeEventListener=function(b,c){if(b in this.listeners){var a=q.findIndex(this.listeners[b],function(a){return a===c});0<=a&&this.listeners[b].splice(a,1)}};b.prototype.dispatchEvent=function(b){var c=this,a=b.type;"abort"===a&&(this._aborted=!0,"function"===typeof this.onabort&&this.onabort.call(this,b));if(!(a in this.listeners))return!1;this.listeners[a].forEach(function(a){setTimeout(function(){return a.call(c,
b)},0)});return!b.preventDefault};return b}());c.ShimAbortController=h.default.AbortController;m.default("abort-controller")||(h.default.AbortController=c.ShimAbortController=function(){function b(){this.signal=new c.ShimAbortSignal}b.prototype.abort=function(){var b;try{b=new Event("abort")}catch(l){"undefined"!==typeof document?(b=document.createEvent("Event"),b.initEvent("abort",!1,!1)):b={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(b)};return b}());c.default=c.ShimAbortController})},
"@dojo/framework/shim/array":function(){(function(d){"object"===typeof module&&"object"===typeof module.exports?(d=d(require,exports),void 0!==d&&(module.exports=d)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ./iterator ./number ../has/has ./support/util".split(" "),d)})(function(d,c){Object.defineProperty(c,"__esModule",{value:!0});var h=d("tslib"),m=d("./global"),q=d("./iterator"),b=d("./number"),k=d("../has/has");d=d("./support/util");if(k.default("es6-array")&&
k.default("es6-array-fill"))c.from=m.default.Array.from,c.of=m.default.Array.of,c.copyWithin=d.wrapNative(m.default.Array.prototype.copyWithin),c.fill=d.wrapNative(m.default.Array.prototype.fill),c.find=d.wrapNative(m.default.Array.prototype.find),c.findIndex=d.wrapNative(m.default.Array.prototype.findIndex);else{var l=function(a){if(isNaN(a))return 0;a=Number(a);isFinite(a)&&(a=Math.floor(a));return Math.min(Math.max(a,0),b.MAX_SAFE_INTEGER)},a=function(a){a=Number(a);return isNaN(a)?0:0!==a&&isFinite(a)?
(0<a?1:-1)*Math.floor(Math.abs(a)):a},e=function(a,b){return 0>a?Math.max(b+a,0):Math.min(a,b)};c.from=function(a,b,e){if(null==a)throw new TypeError("from: requires an array-like object");b&&e&&(b=b.bind(e));e=l(a.length);var f="function"===typeof this?Object(new this(e)):Array(e);if(!q.isArrayLike(a)&&!q.isIterable(a))return f;if(q.isArrayLike(a)){if(0===e)return[];for(var g=0;g<a.length;g++)f[g]=b?b(a[g],g):a[g]}else{g=0;try{for(var c=h.__values(a),n=c.next();!n.done;n=c.next()){var t=n.value;
f[g]=b?b(t,g):t;g++}}catch(w){d={error:w}}finally{try{n&&!n.done&&(k=c.return)&&k.call(c)}finally{if(d)throw d.error;}}}void 0!==a.length&&(f.length=e);return f;var d,k};c.of=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return Array.prototype.slice.call(a)};c.copyWithin=function(b,c,t,f){if(null==b)throw new TypeError("copyWithin: target must be an array-like object");var g=l(b.length);c=e(a(c),g);t=e(a(t),g);f=e(void 0===f?g:a(f),g);f=Math.min(f-t,g-c);g=1;c>t&&c<t+f&&(g=
-1,t+=f-1,c+=f-1);for(;0<f;)t in b?b[c]=b[t]:delete b[c],c+=g,t+=g,f--;return b};c.fill=function(b,c,t,f){var g=l(b.length);t=e(a(t),g);for(f=e(void 0===f?g:a(f),g);t<f;)b[t++]=c;return b};c.find=function(a,b,e){b=c.findIndex(a,b,e);return-1!==b?a[b]:void 0};c.findIndex=function(a,b,e){var f=l(a.length);if(!b)throw new TypeError("find: second argument must be a function");e&&(b=b.bind(e));for(e=0;e<f;e++)if(b(a[e],e,a))return e;return-1}}k.default("es7-array")?c.includes=d.wrapNative(m.default.Array.prototype.includes):
c.includes=function(a,e,c){void 0===c&&(c=0);var f;f=a.length;f=Number(f);isNaN(f)?f=0:(isFinite(f)&&(f=Math.floor(f)),f=Math.min(Math.max(f,0),b.MAX_SAFE_INTEGER));for(;c<f;++c){var g=a[c];if(e===g||e!==e&&g!==g)return!0}return!1}})},"@dojo/framework/shim/iterator":function(){(function(d){"object"===typeof module&&"object"===typeof module.exports?(d=d(require,exports),void 0!==d&&(module.exports=d)):"function"===typeof define&&define.amd&&define(["require","exports","./Symbol","./string"],d)})(function(d,
c){function h(a){return a&&"function"===typeof a[Symbol.iterator]}function m(a){return a&&"number"===typeof a.length}function q(a){if(h(a))return a[Symbol.iterator]();if(m(a))return new l(a)}Object.defineProperty(c,"__esModule",{value:!0});d("./Symbol");var b=d("./string"),k={done:!0,value:void 0},l=function(){function a(a){this._nextIndex=-1;h(a)?this._nativeIterator=a[Symbol.iterator]():this._list=a}a.prototype.next=function(){return this._nativeIterator?this._nativeIterator.next():this._list?++this._nextIndex<
this._list.length?{done:!1,value:this._list[this._nextIndex]}:k:k};a.prototype[Symbol.iterator]=function(){return this};return a}();c.ShimIterator=l;c.isIterable=h;c.isArrayLike=m;c.get=q;c.forOf=function(a,e,c){function g(){l=!0}var l=!1;if(m(a)&&"string"===typeof a)for(var f=a.length,r=0;r<f;++r){var d=a[r];if(r+1<f){var k=d.charCodeAt(0);k>=b.HIGH_SURROGATE_MIN&&k<=b.HIGH_SURROGATE_MAX&&(d+=a[++r])}e.call(c,d,a,g);if(l)break}else if(f=q(a))for(r=f.next();!r.done;){e.call(c,r.value,a,g);if(l)break;
r=f.next()}}})},"@dojo/framework/shim/number":function(){(function(d){"object"===typeof module&&"object"===typeof module.exports?(d=d(require,exports),void 0!==d&&(module.exports=d)):"function"===typeof define&&define.amd&&define(["require","exports","./global"],d)})(function(d,c){function h(b){return"number"===typeof b&&q.default.isFinite(b)}function m(b){return h(b)&&Math.floor(b)===b}Object.defineProperty(c,"__esModule",{value:!0});var q=d("./global");c.EPSILON=1;c.MAX_SAFE_INTEGER=Math.pow(2,
53)-1;c.MIN_SAFE_INTEGER=-c.MAX_SAFE_INTEGER;c.isNaN=function(b){return"number"===typeof b&&q.default.isNaN(b)};c.isFinite=h;c.isInteger=m;c.isSafeInteger=function(b){return m(b)&&Math.abs(b)<=c.MAX_SAFE_INTEGER}})},"esri/core/clock":function(){define(["require","exports","./global"],function(d,c,h){function m(c){return{setTimeout:function(b,d){var l=c.setTimeout(b,d);return{remove:function(){return c.clearTimeout(l)}}}}}Object.defineProperty(c,"__esModule",{value:!0});c.wrap=m;c.default=m(h)})},
"esri/core/maybe":function(){define(["require","exports"],function(d,c){function h(c,d,b){return null!=c?b(c):d}Object.defineProperty(c,"__esModule",{value:!0});c.isSome=function(c){return null!=c};c.isNone=function(c){return null==c};c.isUndefined=function(c){return void 0===c};c.applySome=function(c,d){return null!=c?d(c):null};c.unwrap=function(c){return c};c.unwrapOr=function(c,d){return null!=c?c:"function"===typeof d?d():d};c.destroyMaybe=function(c){null!=c&&c.destroy();return null};c.mapSome=
function(c,d){var b=[];c.forEach(function(c){c=d(c);null!=c&&b.push(c)});return b};c.mapMany=function(c,d){for(var b=[],k=0;k<c.length;k++)b.push(h(c[k],null,d));return b};c.forEachSome=function(c,d){for(var b=0;b<c.length;b++)h(c[b],null,d)};c.mapOr=h;c.andThen=function(c,d){return null!=c?d(c):null};c.mapSomeFirst=function(c,d){for(var b=0;b<c.length;b++){var k=d(c[b]);if(null!=k)return k}return null};c.get=function(c){for(var d=[],b=1;b<arguments.length;b++)d[b-1]=arguments[b];for(var b=c,k=0;k<
d.length&&b;)b=b[d[k++]];return b}})},"esri/core/workers/registry":function(){define(["require","exports","@dojo/framework/shim/Promise"],function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.registry={geometryEngineWorker:function(){return new Promise(function(c,m){d(["../../geometry/geometryEngineWorker"],c,m)})},CSVSourceWorker:function(){return new Promise(function(c,m){d(["../../layers/graphics/sources/support/CSVSourceWorker"],c,m)})},EdgeProcessingWorker:function(){return new Promise(function(c,
m){d(["../../views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker"],c,m)})},ElevationSamplerWorker:function(){return new Promise(function(c,m){d(["../../geometry/support/meshUtils/ElevationSamplerWorker"],c,m)})},GeoJSONSourceWorker:function(){return new Promise(function(c,m){d(["../../layers/graphics/sources/geojson/GeoJSONSourceWorker"],c,m)})},LercWorker:function(){return new Promise(function(c,m){d(["../../layers/support/LercWorker"],c,m)})},MemorySourceWorker:function(){return new Promise(function(c,
m){d(["../../layers/graphics/sources/support/MemorySourceWorker"],c,m)})},PBFDecoderWorker:function(){return new Promise(function(c,m){d(["../../views/3d/support/PBFDecoderWorker"],c,m)})},Pipeline:function(){return new Promise(function(c,m){d(["../../views/2d/layers/features/Pipeline"],c,m)})},PointCloudWorker:function(){return new Promise(function(c,m){d(["../../views/3d/layers/PointCloudWorker"],c,m)})},RasterWorker:function(){return new Promise(function(c,m){d(["../../layers/support/RasterWorker"],
c,m)})},SceneLayerWorker:function(){return new Promise(function(c,m){d(["../../views/3d/layers/SceneLayerWorker"],c,m)})},WorkerTileHandler:function(){return new Promise(function(c,m){d(["../../views/2d/engine/vectorTiles/WorkerTileHandler"],c,m)})}}})},"esri/core/workers/utils":function(){define(["require","exports","../has"],function(d,c,h){function m(b){return b&&"object"===typeof b&&("result"in b||"transferList"in b)}function q(b){if(!b||!b.length)return null;if(h("esri-workers-arraybuffer-transfer"))return b;
b=b.filter(function(a){return!(a instanceof ArrayBuffer||a&&a.constructor&&"ArrayBuffer"===a.constructor.name)});return b.length?b:null}Object.defineProperty(c,"__esModule",{value:!0});var b;(function(b){b[b.HANDSHAKE=0]="HANDSHAKE";b[b.CONFIGURE=1]="CONFIGURE";b[b.CONFIGURED=2]="CONFIGURED";b[b.OPEN=3]="OPEN";b[b.OPENED=4]="OPENED";b[b.RESPONSE=5]="RESPONSE";b[b.INVOKE=6]="INVOKE";b[b.ABORT=7]="ABORT";b[b.CLOSE=8]="CLOSE";b[b.OPEN_PORT=9]="OPEN_PORT";b[b.ON=10]="ON"})(b=c.MessageType||(c.MessageType=
{}));var k=0;c.newJobId=function(){return k++};c.isTranferableResult=m;c.toInvokeError=function(b){return b?"string"===typeof b?JSON.stringify({name:"message",message:b}):b.toJSON?JSON.stringify(b):JSON.stringify({name:b.name,message:b.message,details:b.details,stack:b.stack}):null};c.postMessage=function(c,a,e,g){a.type===b.OPEN_PORT?c.postMessage(a,[a.port]):a.type!==b.INVOKE&&a.type!==b.RESPONSE?c.postMessage(a):(m(e)?(g=q(e.transferList),a.data=e.result):(g=q(g),a.data=e),g?c.postMessage(a,g):
c.postMessage(a))};c.receiveMessage=function(b){return b?(b=b.data)?"string"===typeof b?JSON.parse(b):b:null:null}})},"esri/views/support/Scheduler":function(){define("require exports @dojo/framework/shim/number ../../core/Logger ../../core/maybe ../../core/PooledArray ../../core/watchUtils ./debugFlags".split(" "),function(d,c,h,m,q,b,k,l){function a(a){return a in c.taskPriorities?c.taskPriorities[a]:"number"===typeof a?a:1}var e;Object.defineProperty(c,"__esModule",{value:!0});var g=m.getLogger("esri.views.support.Scheduler");
c.newScheduler=function(a){return new t.Scheduler(a)};(function(a){a.REMOTE_CLIENT="remote client";a.STREAM_DATA_LOADER="stream data loader";a.TERRAIN_SURFACE="terrain surface";a.SURFACE_GEOMETRY_UPDATES="surface geometry updates";a.I3S_CONTROLLER="I3S controller";a.POINT_CLOUD_LAYER="point cloud";a.FEATURE_TILE_FETCHER="feature fetcher";a.FEATURE_FETCH_QUEUE="feature fetch queue";a.GRAPHICS_CORE="Graphics3D";a.LABELER="labeler";a.GRAPHICS_DECONFLICTOR="graphics deconflictor";a.FILTER_VISIBILITY=
"Graphics3D filter visibility";a.FEATURE_QUERY_ENGINE="feature query";a.SCALE_VISIBILITY="Graphics3D scale visibility";a.FRUSTUM_VISIBILITY="Graphics3D frustum visibility";a.POINT_OF_INTEREST_FREQUENT="POI frequent";a.POINT_OF_INTEREST_INFREQUENT="POI infrequent";a.FEATURE_TILE_TREE="feature tile tree";a.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree";a.ELEVATION_ALIGNMENT="elevation alignment";a.TEXT_TEXTURE_ATLAS="text texture atlas";a.OVERLAY_MANAGER="overlay manager";a.LINE_OF_SIGHT_TOOL="line of sight tool";
a.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool";a[a.TEST_PRIO=1]="TEST_PRIO"})(d=c.Task||(c.Task={}));c.taskPriorities=(e={},e[d.REMOTE_CLIENT]=1,e[d.STREAM_DATA_LOADER]=1,e[d.FEATURE_FETCH_QUEUE]=1,e[d.TERRAIN_SURFACE]=2,e[d.SURFACE_GEOMETRY_UPDATES]=2,e[d.I3S_CONTROLLER]=4,e[d.POINT_CLOUD_LAYER]=4,e[d.FEATURE_TILE_FETCHER]=4,e[d.GRAPHICS_CORE]=6,e[d.LABELER]=6,e[d.GRAPHICS_DECONFLICTOR]=6,e[d.FILTER_VISIBILITY]=8,e[d.FEATURE_QUERY_ENGINE]=8,e[d.SCALE_VISIBILITY]=8,e[d.FRUSTUM_VISIBILITY]=
8,e[d.POINT_OF_INTEREST_FREQUENT]=6,e[d.POINT_OF_INTEREST_INFREQUENT]=30,e[d.FEATURE_TILE_TREE]=16,e[d.FEATURE_TILE_TREE_ACTIVE]=1,e[d.ELEVATION_ALIGNMENT]=12,e[d.TEXT_TEXTURE_ATLAS]=12,e[d.OVERLAY_MANAGER]=12,e[d.LINE_OF_SIGHT_TOOL]=16,e[d.LINE_OF_SIGHT_TOOL_INTERACTIVE]=1,e);c.getTaskPriority=a;var n=1E3/30,t;(function(e){var c=function(){function c(a){var c=this;this._now=a;this._budget=null;this._state=1;this._tasks=new b;this._runQueue=new b;this._load=0;this._idleStateCallbacks=new b;this._idleUpdatesStartFired=
!1;this._maxReschedule=r;this._forceTask=!1;this._safetyBudget=0;this._debug=!1;this._debugHandle=k.init(l,"SCHEDULER_LOG_SLOW_TASKS",function(a){return c._debug=a});this._budget=new e.Budget(a);var f=this,g;this._test={get state(){return q.isNone(g)?f._state:g},set state(a){g=a},FRAME_SAFETY_BUDGET:5,idleBudget:100,get budget(){return f._budget.budget},usedBudget:0,startTime:0,updateTask:function(a){return c._updateTask(a)},getState:function(a){return c._getState(a)},getRuntime:function(a){return c._getRuntime(a)}}}
c.prototype.destroy=function(){this._debugHandle&&this._debugHandle.remove()};c.prototype.registerTask=function(b,e,c){var f=this,g=a(b),r=new d(b,e,c,g);this._tasks.push(r);return{remove:function(){return f._removeTask(r)},set task(a){r.setPriority(a)}}};c.prototype.registerIdleStateCallbacks=function(a,b){var e=this,c={idleBegin:a,idleEnd:b};this._idleStateCallbacks.push(c);2===this.state&&this._idleUpdatesStartFired&&c.idleBegin();var f=this;return{remove:function(){return e._removeIdleStateCallbacks(c)},
set idleBegin(a){f._idleUpdatesStartFired&&(c.idleEnd(),2===f._state&&a());c.idleBegin=a},set idleEnd(a){c.idleEnd=a}}};Object.defineProperty(c.prototype,"now",{get:function(){return this._now()},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"load",{get:function(){return this._load},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"state",{get:function(){return q.isNone(this._test.state)?this._state:this._test.state},set:function(a){this._state!==a&&(this._state=
a,2!==this.state&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forEach(function(a){return a.idleEnd()})))},enumerable:!0,configurable:!0});c.prototype.updateBudget=function(a){this._test.usedBudget=0;this._test.startTime=a.elapsedFrameTime;this._safetyBudget=5;var b=a.frameDuration,e=1;switch(this.state){case 2:this._safetyBudget=0;b=Math.max(100,a.frameDuration);e=30;break;case 1:b=Math.max(n,a.frameDuration)}b-=a.elapsedFrameTime+this._safetyBudget;if(2!==
this.state&&0>b&&!this._forceTask)return this._forceTask=!0,!1;b=Math.max(b,e);this._budget.reset(b,this.state);this._maxReschedule=r;this._updateLoad();return this._schedule()};c.prototype.frame=function(){this._forceTask=!1;switch(this.state){case 2:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forEach(function(a){return a.idleBegin()}));this._runIdle();break;case 1:this._runInteracting();break;default:this._runAnimating()}this._test.usedBudget=this._budget.elapsed};
c.prototype._removeIdleStateCallbacks=function(a){this._idleUpdatesStartFired&&a.idleEnd();this._idleStateCallbacks.removeUnordered(a)};c.prototype._removeTask=function(a){this._tasks.removeUnordered(a);this._runQueue.removeUnordered(a)};c.prototype._updateTask=function(a){this._tasks.forEach(function(b){b.name===a&&b.setPriority(a)})};c.prototype._getState=function(a){if(this._runQueue.some(function(b){return b.name===a}))return f.SCHEDULED;var b=f.IDLE;this._tasks.forEach(function(e){e.name===a&&
e.needsUpdate()&&(1>=e.schedule?b=f.READY:b!==f.READY&&(b=f.WAITING))});return b};c.prototype._getRuntime=function(a){var b=0;this._tasks.forEach(function(e){e.name===a&&(b+=e.runtime)});return b};c.prototype._runIdle=function(){this._run()};c.prototype._runInteracting=function(){this._run()};c.prototype._runAnimating=function(){this._run()};c.prototype._updateLoad=function(){var a=0;this._tasks.forEach(function(b){return b.needsUpdate()?++a:a});this._load=.9*this._load+a*(1-.9)};c.prototype._schedule=
function(){var a=this;if(0>=this._maxReschedule)return!1;this._runQueue.filterInPlace(function(a){if(a.needsUpdate())return!0;a.schedule=a.priority;return!1});for(var b=function(){var b=!1,c=0;e._tasks.forEach(function(e){if(0!==e.schedule&&e.needsUpdate())switch(b=!0,c=Math.max(c,e.priority),e.schedule){case 1:e.schedule=0;a._runQueue.push(e);break;default:--e.schedule}});if(!b)return{value:!1};e._maxReschedule===r&&(e._maxReschedule=c);--e._maxReschedule},e=this;0===this._runQueue.length;){var c=
b();if("object"===typeof c)return c.value}return!0};c.prototype._run=function(){do for(;0<this._runQueue.length;){var a=this._runQueue.pop();this._budget.resetProgress();var b=this._budget.now();try{a.update(this._budget)}catch(y){g.error('Exception in task "'+a.name+'"',y)}a.schedule=a.priority;a.runtime+=this._budget.now()-b;this._debug&&this._budget.elapsed>2*this._budget.budget&&console.log("Task",a.name,"used",this._budget.elapsed,"of max",this._budget.budget,"ms");if(0>=this._budget.remaining)return}while(this._schedule())};
Object.defineProperty(c.prototype,"test",{get:function(){return this._test},enumerable:!0,configurable:!0});return c}();e.Scheduler=c;var d=function(){function b(a,b,e,c){this.name=a;this.update=b;this.needsUpdate=e;this._priority=c;this.runtime=0;this.schedule=this._priority}Object.defineProperty(b.prototype,"priority",{get:function(){return this._priority},enumerable:!0,configurable:!0});b.prototype.setPriority=function(b){this.name=b;this._priority=a(b);0!==this.schedule&&(this.schedule=this._priority)};
return b}(),c=function(){function a(a){this.now=a;this._budget=this._begin=0;this._state=2;this._didWork=!1;this._enabled=!0}a.prototype.run=function(a){if(this.done)return!1;!0===a()&&(this._didWork=!0);return!0};Object.defineProperty(a.prototype,"done",{get:function(){return this._didWork&&this.elapsed>=this._budget&&this._enabled},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"budget",{get:function(){return this._budget},enumerable:!0,configurable:!0});a.prototype.madeProgress=
function(){this._didWork=!0};Object.defineProperty(a.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"enabled",{get:function(){return this._enabled},set:function(a){this._enabled=a},enumerable:!0,configurable:!0});a.prototype.reset=function(a,b){this._begin=this.now();this._budget=a;this._state=b;this._didWork=!1};Object.defineProperty(a.prototype,"remaining",{get:function(){return Math.max(this._budget-this.elapsed,0)},enumerable:!0,
configurable:!0});Object.defineProperty(a.prototype,"elapsed",{get:function(){return this.now()-this._begin},enumerable:!0,configurable:!0});a.prototype.resetProgress=function(){this._didWork=!1};Object.defineProperty(a.prototype,"hasProgressed",{get:function(){return this._didWork},enumerable:!0,configurable:!0});return a}();e.Budget=c})(t||(t={}));var f;(function(a){a.SCHEDULED="s";a.READY="r";a.WAITING="w";a.IDLE="i"})(f=c.TaskState||(c.TaskState={}));c.noBudget=function(){var a=new t.Budget(function(){return performance.now()});
a.enabled=!1;return a}();var r=h.MAX_SAFE_INTEGER})},"esri/core/PooledArray":function(){define(["require","exports","tslib","./arrayUtils","./HeapSort"],function(d,c,h,m,q){return function(){function b(b){var c=this;this.data=[];this._length=0;this._allocator=null;this._deallocator=function(){};this._shrink=function(){};this._hint=new m.PositionHint;b&&(b.initialSize&&(this.data=Array(b.initialSize)),b.allocator?(this._allocator=b.allocator,this._deallocator=b.deallocator):"deallocator"in b&&(this._deallocator=
b.deallocator),b.shrink&&(this._shrink=function(){c.data.length>1.5*c.length&&(c.data.length=Math.floor(1.1*c.length))}))}b.prototype.toArray=function(){return this.data.slice(0,this.length)};b.prototype.getItemAt=function(b){if(!(0>b||b>=this._length))return this.data[b]};Object.defineProperty(b.prototype,"length",{get:function(){return this._length},set:function(b){if(b>this._length)if(this._allocator)for(;this._length<b;)this.data[this._length++]=this._allocator(this.data[this._length]);else this._length=
b;else{if(this._deallocator)for(var c=b;c<this._length;++c)this.data[c]=this._deallocator(this.data[c]);this._length=b;this._shrink()}},enumerable:!0,configurable:!0});b.prototype.clear=function(){this.length=0};b.prototype.prune=function(){this.clear();this.data=[]};b.prototype.push=function(b){this.data[this._length++]=b};b.prototype.pushArray=function(b,c){void 0===c&&(c=b.length);for(var a=0;a<c;a++)this.data[this._length++]=b[a]};b.prototype.fill=function(b,c){for(var a=0;a<c;a++)this.data[this._length++]=
b};b.prototype.pushNew=function(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));++this._length;return this.back()};b.prototype.pop=function(){if(0!==this.length){var b=this.data[this.length-1];--this.length;this._shrink();return b}};b.prototype.iterableRemoveMany=function(b){var c,a;return h.__generator(this,function(e){switch(e.label){case 0:c=[],a=0,e.label=1;case 1:if(!(a<this.length)||a>=this.length)return[3,4];0>m.indexOf(b.data,this.data[a],b.length,b._hint)&&
c.push(this.data[a]);return[4];case 2:e.sent(),e.label=3;case 3:return++a,[3,1];case 4:return this.data=c,this._length=this.data.length,[2]}})};b.prototype.remove=function(b){var c=m.indexOf(this.data,b,this.length,this._hint);if(-1!==c)return this.data.splice(c,1),--this.length,b};b.prototype.removeUnordered=function(b){b=m.removeUnordered(this.data,b,this.length,this._hint);void 0!==b&&--this.length;return b};b.prototype.removeUnorderedIndex=function(b){if(!(b>=this.length||0>b))return this.swapElements(b,
this.length-1),this.pop()};b.prototype.removeUnorderedMany=function(b,c,a){void 0===c&&(c=b.length);this.length=m.removeUnorderedMany(this.data,b,this.length,c,this._hint,a)};b.prototype.front=function(){if(0!==this.length)return this.data[0]};b.prototype.back=function(){if(0!==this.length)return this.data[this.length-1]};b.prototype.swapElements=function(b,c){var a;b>=this.length||c>=this.length||b===c||(a=[this.data[c],this.data[b]],this.data[b]=a[0],this.data[c]=a[1])};b.prototype.sort=function(b){q.sort(this.data,
0,this.length,b)};b.prototype.iterableSort=function(b){return q.iterableSort(this.data,0,this.length,b)};b.prototype.some=function(b,c){for(var a=0;a<this.length;++a)if(b.call(c,this.data[a],a,this.data))return!0;return!1};b.prototype.filterInPlace=function(b,c){for(var a=0,e=0;e<this._length;++e){var g=this.data[e];b.call(c,g,e,this.data)&&(this.data[e]=this.data[a],this.data[a]=g,a++)}if(this._deallocator)for(e=a;e<this._length;e++)this.data[e]=this._deallocator(this.data[e]);this._length=a;return this};
b.prototype.forEach=function(b,c){for(var a=this.length,e=0;e<Math.min(this.length,a);++e)b.call(c,this.data[e],e,this.data)};b.prototype.iterableForEach=function(){var b;return h.__generator(this,function(c){switch(c.label){case 0:b=0,c.label=1;case 1:return b<this.length?[4,this.data[b]]:[3,4];case 2:c.sent(),c.label=3;case 3:return++b,[3,1];case 4:return[2]}})};b.prototype.map=function(b,c){for(var a=Array(this.length),e=0;e<this.length;++e)a[e]=b.call(c,this.data[e],e,this.data);return a};b.prototype.reduce=
function(b,c){for(var a=0;a<this.length;++a)c=b(c,this.data[a],a,this.data);return c};return b}()})},"esri/core/arrayUtils":function(){define(["require","exports","@dojo/framework/shim/array","./RandomLCG"],function(d,c,h,m){function q(a,b,c,g){g=g||e;for(var f=Math.max(0,g.last-10),r=f;r<c;++r)if(a[r]===b)return g.last=r;c=Math.min(f,c);for(r=0;r<c;++r)if(a[r]===b)return g.last=r;return-1}function b(a,b){return-1===a.indexOf(b)}function k(a,b,e){return!a.some(b.bind(null,e))}function l(a){return a}
Object.defineProperty(c,"__esModule",{value:!0});c.find=h.find;c.findIndex=h.findIndex;c.from=h.from;c.includes=h.includes;c.unique=function(a,b){return b?a.filter(function(a,e,c){return h.findIndex(c,b.bind(null,a))===e}):a.filter(function(a,b,e){return e.indexOf(a)===b})};c.equals=function(a,b,e){if(!a&&!b)return!0;if(!a||!b||a.length!==b.length)return!1;if(e)for(var c=0;c<a.length;c++){if(!e(a[c],b[c]))return!1}else for(c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0};c.difference=function(a,
e,c){var f;c?(f=e.filter(k.bind(null,a,c)),a=a.filter(k.bind(null,e,c))):(f=e.filter(b.bind(null,a)),a=a.filter(b.bind(null,e)));return{added:f,removed:a}};c.intersect=function(a,b,e){return a&&b?e?a.filter(function(a){return-1<h.findIndex(b,function(b){return e(a,b)})}):a.filter(function(a){return-1<b.indexOf(a)}):[]};var a=!!Array.prototype.fill;c.constant=function(b,e){if(a)return Array(b).fill(e);for(var c=Array(b),f=0;f<b;f++)c[f]=e;return c};c.range=function(a,b){void 0===b&&(b=a,a=0);for(var e=
Array(b-a),c=a;c<b;c++)e[c-a]=c;return e};c.binaryIndexOf=function(a,b,e){for(var c=a.length,f=0,g=c-1;f<g;){var r=f+Math.floor((g-f)/2);b>a[r]?f=r+1:g=r}g=a[f];return e?b>=a[c-1]?-1:g===b?f:f-1:g===b?f:-1};c.flatten=function(a){return a.reduce(function(a,b){return a.concat(b||[])},[])};d=function(){return function(){this.last=0}}();c.PositionHint=d;var e=new d;c.indexOf=q;c.removeUnordered=function(a,b,e,c){var f=null==e?a.length:e;c=q(a,b,f,c);if(-1!==c)return a[c]=a[f-1],null==e&&a.pop(),b};var g=
new Set;c.removeUnorderedMany=function(a,b,c,n,d,l){void 0===c&&(c=a.length);void 0===n&&(n=b.length);if(0===n||0===c)return c;g.clear();for(var f=0;f<n;++f)g.add(b[f]);d=d||e;for(f=b=Math.max(0,d.last-10);f<c;++f)if(g.has(a[f])&&(l&&l.push(a[f]),g.delete(a[f]),a[f]=a[c-1],--c,--f,0===g.size||0===c))return g.clear(),c;for(f=0;f<b;++f)if(g.has(a[f])&&(l&&l.push(a[f]),g.delete(a[f]),a[f]=a[c-1],--c,--f,0===g.size||0===c))return g.clear(),c;g.clear();return c};c.pickRandom=function(a,b,e){var c=a.length;
if(b>=c)return a.slice(0);e=(n.seed=e)?function(){return n.getFloat()}:Math.random;for(var f=new Set,g=[];g.length<b;){var r=Math.floor(e()*c);f.has(r)||(f.add(r),g.push(a[r]))}return g};c.shuffle=function(a,b){b=(n.seed=b)?function(){return n.getFloat()}:Math.random;for(var e=a.length-1;0<e;e--){var c=Math.floor(b()*(e+1)),f=a[e];a[e]=a[c];a[c]=f}return a};var n=new m;c.keysOfMap=function(a){var b=Array(a.size),e=0;a.forEach(function(a,c){return b[e++]=c});return b};c.keysOfSet=function(a,b){void 0===
b&&(b=l);var e=Array(a.size),c=0;a.forEach(function(a){return e[c++]=b(a)});return e};c.fromMapValues=function(a){if(Array.from)return Array.from(a.values());var b=Array(a.size),e=0;a.forEach(function(a){return b[e++]=a});return b};c.remove=function(a,b){var e=a.indexOf(b);return-1!==e?(a.splice(e,1),b):null}})},"esri/core/RandomLCG":function(){define(["require","exports"],function(d,c){return function(){function c(c){void 0===c&&(c=1);this._seed=c}Object.defineProperty(c.prototype,"seed",{set:function(d){this._seed=
null==d?Math.random()*c._m:d},enumerable:!0,configurable:!0});c.prototype.getInt=function(){return this._seed=(c._a*this._seed+c._c)%c._m};c.prototype.getFloat=function(){return this.getInt()/(c._m-1)};c.prototype.getIntRange=function(c,d){return Math.round(this.getFloatRange(c,d))};c.prototype.getFloatRange=function(d,h){h-=d;var b=this.getInt()/c._m;return d+Math.floor(b*h)};c._m=2147483647;c._a=48271;c._c=0;return c}()})},"esri/core/HeapSort":function(){define(["require","exports","tslib"],function(d,
c,h){var m;(function(c){function b(b,a,e,c){for(var g=a,d=e>>>1,f=b[g-1];a<=d;){a=g<<1;a<e&&0>c(b[a-1],b[a])&&++a;var r=b[a-1];if(0>=c(r,f))break;b[g-1]=r;g=a}b[g-1]=f}function d(b,a){return b<a?-1:b>a?1:0}c.sort=function(c,a,e,g){void 0===a&&(a=0);void 0===e&&(e=c.length);void 0===g&&(g=d);for(var n=e>>>1;n>a;n--)b(c,n,e,g);for(var l=a+1,n=e-1;n>a;n--)e=c[a],c[a]=c[n],c[n]=e,b(c,l,n,g)};c.iterableSort=function(c,a,e,g){var n,l,f;return h.__generator(this,function(r){switch(r.label){case 0:void 0===
a&&(a=0),void 0===e&&(e=c.length),void 0===g&&(g=d),n=e>>>1,r.label=1;case 1:if(!(n>a))return[3,4];b(c,n,e,g);return[4];case 2:r.sent(),r.label=3;case 3:return n--,[3,1];case 4:l=a+1,n=e-1,r.label=5;case 5:if(!(n>a))return[3,8];f=c[a];c[a]=c[n];c[n]=f;b(c,l,n,g);return[4];case 6:r.sent(),r.label=7;case 7:return n--,[3,5];case 8:return[2]}})}})(m||(m={}));return m})},"esri/core/watchUtils":function(){define(["require","exports","./events","./lang","./promiseUtils"],function(d,c,h,m,q){function b(a,
b,e,c,f){f=a.watch(b,function(b,f,g,n){e&&!e(b)||c.call(a,b,f,g,n)},f);if(Array.isArray(b))for(var g=0;g<b.length;g++){var n=a.get(b[g]);e&&e(n)&&c.call(a,n,n,b,a)}else n=a.get(b),e&&e(n)&&c.call(a,n,n,b,a);return f}function k(a,e,c,f,g){function n(){k&&(k.remove(),k=null)}var r="function"===typeof f?f:null,d="object"===typeof f?f:null;"boolean"===typeof f&&(g=f);var l=!1,k,t=q.createDeferred();q.onAbort(d,function(){n();t.reject(q.createAbortError())});f={then:t.promise.then.bind(t.promise),catch:t.promise.catch.bind(t.promise),
remove:n};Object.freeze(f);k=b(a,e,c,function(b,e,c,f){l=!0;n();r&&r.call(a,b,e,c,f);t.resolve({value:b,oldValue:e,propertyName:c,target:f})},g);l&&n();return f}function l(a){return!!a}function a(a){return!a}function e(a){return!0===a}function g(a){return!1===a}function n(a){return void 0!==a}function t(a){return void 0===a}function f(a,b,e,c){var f=Array.isArray(b)?b:-1<b.indexOf(",")?b.split(","):[b];b=a.watch(b,e,c);for(c=0;c<f.length;c++){var g=f[c].trim().replace(r,"$1"),n=a.get(g);e.call(a,
n,n,g,a)}return b}Object.defineProperty(c,"__esModule",{value:!0});c.whenValidOnce=k;var r=/\?(\.|$)/g;c.init=f;c.watch=function(a,b,e,c){return a.watch(b,e,c)};c.once=function(a,b,e,c){return k(a,b,null,e,c)};c.when=function(a,e,c,f){return b(a,e,l,c,f)};c.whenOnce=function(a,b,e,c){return k(a,b,l,e,c)};c.whenNot=function(e,c,f,g){return b(e,c,a,f,g)};c.whenNotOnce=function(b,e,c,f){return k(b,e,a,c,f)};c.whenTrue=function(a,c,f,g){return b(a,c,e,f,g)};c.whenTrueOnce=function(a,b,c,f){return k(a,
b,e,c,f)};c.whenFalse=function(a,e,c,f){return b(a,e,g,c,f)};c.whenFalseOnce=function(a,b,e,c){return k(a,b,g,e,c)};c.whenDefined=function(a,e,c,f){return b(a,e,n,c,f)};c.whenDefinedOnce=function(a,b,e,c){return k(a,b,n,e,c)};c.whenUndefined=function(a,e,c,f){return b(a,e,t,c,f)};c.whenUndefinedOnce=function(a,b,e,c){return k(a,b,t,e,c)};c.whenEqual=function(a,e,c,f,g){return b(a,e,function(a){return m.equals(c,a)},f,g)};c.whenEqualOnce=function(a,b,e,c,f){return k(a,b,function(a){return m.equals(e,
a)},c,f)};c.pausable=function(a,b,e,c){var f=!1,g=a.watch(b,function(b,c,g,n){f||e.call(a,b,c,g,n)},c);return{remove:function(){g.remove()},pause:function(){f=!0},resume:function(){f=!1}}};c.on=function(a,b,e,c,g,n,r){function d(b){var c=l[b];c&&(n&&n(c.target,b,a,e),c.handle.remove(),delete l[b])}var l={},k=f(a,b,function(b,f,n){d(n);h.isEventTarget(b)&&(l[n]={handle:h.on(b,e,c),target:b},g&&g(b,n,a,e))},r);return{remove:function(){k.remove();for(var a in l)d(a)}}}})},"esri/views/support/debugFlags":function(){define(["require",
"exports","tslib","../../core/Accessor","../../core/accessorSupport/decorators"],function(d,c,h,m,q){return new (function(b){function c(){var c=null!==b&&b.apply(this,arguments)||this;c.SCHEDULER_LOG_SLOW_TASKS=!1;return c}h.__extends(c,b);h.__decorate([q.property()],c.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0);return c=h.__decorate([q.subclass("esri.views.support.DebugFlags")],c)}(m))})},"esri/core/Accessor":function(){define("require exports tslib ./deprecate ./Logger ./accessorSupport/decorators ./accessorSupport/get ./accessorSupport/Properties ./accessorSupport/set ./accessorSupport/testSupport ./accessorSupport/watch".split(" "),
function(d,c,h,m,q,b,k,l,a,e,g){function n(a){var b=typeof a;if(null==a)return{value:a};if(Array.isArray(a))return{type:[a[0]],value:null};if("object"===b)return a.constructor&&a.constructor.__accessorMetadata__||a instanceof Date?{type:a.constructor,value:a}:a;if("boolean"===b)return{type:Boolean,value:a};if("string"===b)return{type:String,value:a};if("number"===b)return{type:Number,value:a};if("function"===b)return{type:a,value:null}}return function(){function c(){for(var a=[],b=0;b<arguments.length;b++)a[b]=
arguments[b];if(this.constructor===c)throw Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");Object.defineProperty(this,"__accessor__",{enumerable:!1,value:new l.default(this)});0<a.length&&this.normalizeCtorArgs&&(this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,a));if(e.interceptor)e.interceptor.onInstanceConstruct(this)}c.createSubclass=function(a){void 0===a&&(a={});if(Array.isArray(a))throw Error("Multi-inheritance unsupported since 4.16");
var e=a.properties,c=a.declaredClass,f=a.constructor;delete a.declaredClass;delete a.properties;delete a.constructor;var g=this,d=function(a){function b(){for(var b=[],e=0;e<arguments.length;e++)b[e]=arguments[e];e=a.apply(this,b)||this;f&&f.apply(e,b);return e}h.__extends(b,a);return b}(g);d.__accessorMetadata__=g.__accessorMetadata__;var l=function(b){var e=a[b];d.prototype[b]="function"===typeof e?function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];this.inherited=function(){if(g.prototype[b])return g.prototype[b].apply(this,
a)};c=e.apply(this,a);this.inherited=null;return c}:a[b]},k;for(k in a)l(k);for(k in e)l=n(e[k]),b.property(l)(d.prototype,k);return b.subclass(c)(d)};c.prototype.postscript=function(a){var b=this.__accessor__;a=b.ctorArgs||a;b.initialize();a&&(this.set(a),b.ctorArgs=null);b.constructed();this.initialize()};c.prototype.initialize=function(){};c.prototype.destroy=function(){if(this.destroyed)try{throw Error("instance is already destroyed");}catch(f){console.warn(f.stack)}else if(g.removeTarget(this),
this.__accessor__.destroy(),e.interceptor)e.interceptor.onInstanceDestroy(this)};Object.defineProperty(c.prototype,"initialized",{get:function(){return this.__accessor__&&this.__accessor__.initialized||!1},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"constructed",{get:function(){return this.__accessor__&&2===this.__accessor__.lifecycle||!1},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"destroyed",{get:function(){return this.__accessor__&&this.__accessor__.destroyed||
!1},enumerable:!0,configurable:!0});c.prototype.get=function(a){return k.default(this,a)};c.prototype.hasOwnProperty=function(a){return this.__accessor__?this.__accessor__.has(a):Object.prototype.hasOwnProperty.call(this,a)};c.prototype.isInstanceOf=function(a){m.deprecatedFunction(q.getLogger(this.declaredClass),"isInstanceOf",{replacement:"Use instanceof directly",version:"4.16"});return this instanceof a};c.prototype.keys=function(){return this.__accessor__?this.__accessor__.keys():[]};c.prototype.set=
function(b,e){a.default(this,b,e);return this};c.prototype.watch=function(a,b,e){return g.default(this,a,b,e)};c.prototype._clearOverride=function(a){return this.__accessor__.clearOverride(a)};c.prototype._override=function(a,b){return this.__accessor__.override(a,b)};c.prototype._isOverridden=function(a){return this.__accessor__.isOverridden(a)};c.prototype.notifyChange=function(a){this.__accessor__.propertyInvalidated(a)};c.prototype._get=function(a){return this.__accessor__.internalGet(a)};c.prototype._set=
function(a,b){this.__accessor__.internalSet(a,b);return this};return c}()})},"esri/core/deprecate":function(){define(["require","exports","./has"],function(d,c,h){function m(b,c,d){void 0===d&&(d={});if(h("esri-deprecation-warnings")){var a=d.replacement,e=d.version,g=d.see;d=d.warnOnce;a&&(c+="\n\t\ud83d\udee0\ufe0f Replacement: "+a);e&&(c+="\n\t\u2699\ufe0f Version: "+e);g&&(c+="\n\t\ud83d\udd17 See "+g+" for more details.");a=c;e=d;void 0===e&&(e=!1);e&&q.has(a)||(e&&q.add(a),b.warn("\ud83d\uded1 DEPRECATED - "+
a))}}Object.defineProperty(c,"__esModule",{value:!0});var q=new Set;c.deprecatedModule=function(b,c,d){void 0===d&&(d={});h("esri-deprecation-warnings")&&m(b,"Module: "+c,d)};c.deprecatedFunction=function(b,c,d){void 0===d&&(d={});if(h("esri-deprecation-warnings")){var a=d.moduleName;m(b,"Function: "+((a?a+"::":"")+c+"()"),d)}};c.deprecatedProperty=function(b,c,d){void 0===d&&(d={});if(h("esri-deprecation-warnings")){var a=d.moduleName;m(b,"Property: "+((a?a+"::":"")+c),d)}};c.deprecated=m})},"esri/core/accessorSupport/decorators":function(){define("require exports tslib ./decorators/aliasOf ./decorators/autoDestroy ./decorators/cast ./decorators/declared ./decorators/enumeration ./decorators/property ./decorators/reader ./decorators/shared ./decorators/subclass ./decorators/writer ./decorators/persistable".split(" "),
function(d,c,h,m,q,b,k,l,a,e,g,n,t,f){Object.defineProperty(c,"__esModule",{value:!0});h.__exportStar(m,c);h.__exportStar(q,c);h.__exportStar(b,c);h.__exportStar(k,c);h.__exportStar(l,c);h.__exportStar(a,c);h.__exportStar(e,c);h.__exportStar(g,c);h.__exportStar(n,c);h.__exportStar(t,c);h.__exportStar(f,c)})},"esri/core/accessorSupport/decorators/aliasOf":function(){define(["require","exports","tslib","./property"],function(d,c,h,m){Object.defineProperty(c,"__esModule",{value:!0});c.aliasOf=function(c,
b){c=b?h.__assign(h.__assign({},b),{source:c}):c;return m.property({aliasOf:c})}})},"esri/core/accessorSupport/decorators/property":function(){define("require exports ../../Logger ../ensureType ../get ../metadata ../set".split(" "),function(d,c,h,m,q,b,k){function l(a){var b=0,e=a;if(m.isLongFormType(a))return m.ensureLongFormType(a);for(;Array.isArray(e)&&1===e.length&&"string"!==typeof e[0]&&"number"!==typeof e[0];)e=e[0],b++;return m.isOneOf(e)?0===b?m.ensureOneOf(e):m.ensureNArrayTyped(m.ensureOneOf(e),
b):1===b?m.ensureArray(e):1<b?m.ensureNArray(e,b):a.from?a.from:m.default(a)}function a(a,b){return function(e){e=+a(e);null!=b.step&&(e=Math.round(e/b.step)*b.step);null!=b.min&&(e=Math.max(b.min,e));null!=b.max&&(e=Math.min(b.max,e));return e}}Object.defineProperty(c,"__esModule",{value:!0});var e=h.getLogger("esri.core.accessorSupport.decorators.property");c.property=function(c){void 0===c&&(c={});return function(g,d,f){if(g===Function.prototype)throw Error("Inappropriate use of @property() on a static field: "+
g.name+"."+d+". Accessor does not support static properties.");var n=b.getOwnPropertyMetadata(g,d);f&&(f.get||f.set?(n.get=f.get||n.get,n.set=f.set||n.set):"value"in f&&("value"in c&&e.warn('@property() will redefine the value of "'+d+'" on "'+g.constructor.name+'" already defined in the metadata',c),n.value=c.value=f.value));"readOnly"in c&&(n.readOnly=c.readOnly);if(g=c.aliasOf){var h="string"===typeof g?g:g.source;g="string"===typeof g?null:!0===g.overridable;var t;n.dependsOn=[h];n.get=function(){var a=
q.default(this,h);if("function"===typeof a){t||(t=h.split(".").slice(0,-1).join("."));var b=q.default(this,t);b&&(a=a.bind(b))}return a};n.readOnly||(n.set=g?function(a){void 0!==a?this._override(d,a):this._clearOverride(d)}:function(a){k.default(this,h,a)})}g=c.type;f=c.types;n.cast||(g?n.cast=l(g):f&&(Array.isArray(f)?n.cast=m.ensureArrayTyped(m.ensureOneOfType(f[0])):n.cast=m.ensureOneOfType(f)));c.range&&(n.cast=a(n.cast,c.range));b.mergeProperty(n,c)}};c.propertyJSONMeta=function(a,e,c){a=b.getOwnPropertyMetadata(a,
c);a.json||(a.json={});a=a.json;void 0!==e&&(a.origins||(a.origins={}),a.origins[e]||(a.origins[e]={}),a=a.origins[e]);return a}})},"esri/core/accessorSupport/ensureType":function(){define(["require","exports","../compilerUtils","../Logger"],function(d,c,h,m){function q(a){return null==a?a:new Date(a)}function b(a){return null==a?a:!!a}function k(a){return null==a?a:a.toString()}function l(a){if(null==a)return a;a=parseFloat(a);return isNaN(a)?0:a}function a(a){return null==a?a:Math.round(parseFloat(a))}
function e(a){return a&&a.constructor&&void 0!==a.constructor.__accessorMetadata__}function g(a,b){return null!=b&&a&&!(b instanceof a)}function n(a){return a&&a.Type?"function"===typeof a.Type?a.Type:a.Type.base:null}function t(a,b){var e;(e=!b||!b.constructor)||(e=b.constructor,e=!(e&&"isCollection"in e));if(e)return f(a,b)?b:new a(b);e=n(a.prototype.itemType);var c=n(b.constructor.prototype.itemType);if(!e)return b;if(!c)return new a(b);if(e===c)return b;if(e.prototype.isPrototypeOf(c.prototype))return new a(b);
f(a,b);return b}function f(a,b){return e(b)?(C.error("Accessor#set","Assigning an instance of '"+(b.declaredClass||"unknown")+"' which is not a subclass of '"+v(a)+"'"),!0):!1}function r(a,b){return null==b?b:a&&"isCollection"in a?t(a,b):g(a,b)?f(a,b)?b:new a(b):b}function v(a){return a&&a.prototype&&a.prototype.declaredClass||"unknown"}function z(e){switch(e){case Number:return l;case B:return a;case Boolean:return b;case String:return k;case Date:return q;default:return r.bind(null,e)}}function A(a,
b){var e=z(a);return 1===arguments.length?e:e(b)}function p(a,b,e){return 1===arguments.length?p.bind(null,a):b?Array.isArray(b)?b.map(function(b){return a(b,e)}):[a(b,e)]:b}function u(a,b,e){return 0!==b&&Array.isArray(e)?e.map(function(e){return u(a,b-1,e)}):a(e)}function w(a,b,e){if(2===arguments.length)return w.bind(null,a,b);if(!e)return e;e=u(a,b,e);for(var c=b,f=e;0<c&&Array.isArray(f);)c--,f=f[0];if(void 0!==f)for(f=0;f<c;f++)e=[e];return e}function y(a,b){if(2===arguments.length)return y(a).call(null,
b);for(var e=new Set,c=a.filter(function(a){return"function"!==typeof a}),f=a.filter(function(a){return"function"===typeof a}),n=0;n<a.length;n++){var r=a[n];"string"!==typeof r&&"number"!==typeof r||e.add(r)}var d=null,l=null;return function(a,b){if(null==a)return a;var n=typeof a,r="string"===n||"number"===n;if(r&&(e.has(a)||f.some(function(a){return"string"===n&&a===String||"number"===n&&a===Number}))||"object"===n&&f.some(function(b){return!g(a,b)}))return a;r&&c.length?(d||(d=c.map(function(a){return"string"===
typeof a?"'"+a+"'":""+a}).join(", ")),C.error("Accessor#set","'"+a+"' is not a valid value for this property, only the following values are valid: "+d)):"object"===typeof a&&f.length?(l||(l=f.map(function(a){return v(a)}).join(", ")),C.error("Accessor#set","'"+a+"' is not a valid value for this property, value must be one of "+l)):C.error("Accessor#set","'"+a+"' is not a valid value for this property");b&&(b.valid=!1);return null}}function x(a,b){if(2===arguments.length)return x(a).call(null,b);var c=
{},f=[],n=[],r;for(r in a.typeMap){var d=a.typeMap[r];c[r]=A(d);f.push(v(d));n.push(r)}var l="string"===typeof a.key?function(b){return b[a.key]}:a.key;return function(b){if(a.base&&!g(a.base,b)||null==b)return b;var r=l(b)||a.defaultKeyValue,d=c[r];if(!d)return C.error("Accessor#set","Invalid property value, value needs to be one of "+("'"+f.join("', '")+"'")+", or a plain object that can autocast (having .type \x3d "+("'"+n.join("', '")+"'")+")"),null;if(!g(a.typeMap[r],b))return b;if("string"===
typeof a.key&&!e(b)){var r={},k;for(k in b)k!==a.key&&(r[k]=b[k]);return d(r)}return d(b)}}function E(a){switch(a.type){case "native":return A(a.value);case "array":return p(E(a.value));case "one-of":return H(a);default:h.neverReached(a)}return null}function H(a){var b=null;return function(e,c){if(P(e,a))return e;null==b&&(b=N(a));C.error("Accessor#set","Invalid property value, value needs to be of type "+b);c&&(c.valid=!1);return null}}function N(a){switch(a.type){case "native":switch(a.value){case Number:return"number";
case String:return"string";case Boolean:return"boolean";case B:return"integer";case Date:return"date";default:return v(a.value)}case "array":return"array of "+N(a.value);case "one-of":return a=a.values.map(function(a){return N(a)}),"one of "+a.slice(0,a.length-1)+" or "+a[a.length-1];default:h.neverReached(a)}return"unknown"}function P(a,b){if(null==a)return!0;switch(b.type){case "native":switch(b.value){case Number:case B:return"number"===typeof a;case Boolean:return"boolean"===typeof a;case String:return"string"===
typeof a}return a instanceof b.value;case "array":return Array.isArray(a)?!a.some(function(a){return!P(a,b.value)}):!1;case "one-of":return b.values.some(function(b){return P(a,b)})}}Object.defineProperty(c,"__esModule",{value:!0});var C=m.getLogger("esri.core.Accessor");c.ensureDate=q;c.ensureBoolean=b;c.ensureString=k;c.ensureNumber=l;c.ensureInteger=a;c.isClassedType=e;c.requiresType=g;c.ensureClass=r;c.ensureType=A;c.ensureArrayTyped=p;c.ensureArray=function(a,b){return 1===arguments.length?p(A.bind(null,
a)):p(A.bind(null,a),b)};c.ensureNArrayTyped=w;c.ensureNArray=function(a,b,e){return 2===arguments.length?w(A.bind(null,a),b):w(A.bind(null,a),b,e)};c.isOneOf=function(a){return Array.isArray(a)?!a.some(function(b){b=typeof b;return!("string"===b||"number"===b||"function"===b&&1<a.length)}):!1};c.ensureOneOf=y;c.ensureOneOfType=x;var B=function(){return function(){}}();c.Integer=B;c.types={native:function(a){return{type:"native",value:a}},array:function(a){return{type:"array",value:a}},oneOf:function(a){return{type:"one-of",
values:a}}};c.isLongFormType=function(a){if(!(a&&"type"in a))return!1;switch(a.type){case "native":case "array":case "one-of":return!0;default:h.neverReachedSilent(a)}return!1};c.ensureLongFormType=E;c.default=A})},"esri/core/compilerUtils":function(){define(["require","exports","./has"],function(d,c,h){Object.defineProperty(c,"__esModule",{value:!0});c.neverReached=function(c){};c.neverReachedSilent=function(c){};c.typeCast=function(c){return function(){return c}};c.tuple=function(){for(var c=[],
d=0;d<arguments.length;d++)c[d]=arguments[d];return c}})},"esri/core/accessorSupport/get":function(){define(["require","exports","./utils"],function(d,c,h){function m(b,a,e){b="?"===b[b.length-1]?b.slice(0,-1):b;if(null!=e.getItemAt||Array.isArray(e)){var c=parseInt(b,10);if(!isNaN(c))return Array.isArray(e)?e[c]:e.getItemAt(c)}c=h.getProperties(e);return a?h.isPropertyDeclared(c,b)?c.get(b):e[b]:h.isPropertyDeclared(c,b)?c.internalGet(b):e[b]}function q(b,a,e,c){if(null==b)return b;if((b=m(a[c],
e,b))||!(c<a.length-1))return c===a.length-1?b:q(b,a,e,c+1)}function b(b,a,e,c){void 0===e&&(e=!1);void 0===c&&(c=0);return"string"===typeof a&&-1===a.indexOf(".")?m(a,e,b):q(b,h.pathToArray(a),e,c)}function k(c,a){return b(c,a,!0)}Object.defineProperty(c,"__esModule",{value:!0});c.valueOf=b;c.get=k;c.exists=function(c,a){return void 0!==b(a,c,!0)};c.default=k})},"esri/core/accessorSupport/utils":function(){define(["require","exports","../handleUtils","../lang"],function(d,c,h,m){function q(b,a,e){return a?
Object.keys(a).reduce(function(b,c){var g=null,f="merge";e&&(g=e.path?e.path+"."+c:c,f=e.policy(g));if("replace"===f)return b[c]=a[c],b;if(void 0===b[c])return b[c]=m.clone(a[c]),b;var n=b[c],f=a[c];if(n===f)return b;if(Array.isArray(f)||Array.isArray(b))n=n?Array.isArray(n)?b[c]=n.concat():b[c]=[n]:b[c]=[],f&&(Array.isArray(f)||(f=[f]),f.forEach(function(a){-1===n.indexOf(a)&&n.push(a)}));else if(f&&"object"===typeof f)if(e){var d=e.path;e.path=g;b[c]=q(n,f,e);e.path=d}else b[c]=q(n,f,null);else if(!b.hasOwnProperty(c)||
a.hasOwnProperty(c))b[c]=f;return b},b||{}):b}function b(b){return Array.isArray(b)?b:b.split(".")}function k(b){if(Array.isArray(b)||-1<b.indexOf(",")){b=Array.isArray(b)?b:b.split(",");for(var a=0;a<b.length;a++)b[a]=b[a].trim();return 1===b.length?b[0]:b}return b.trim()}Object.defineProperty(c,"__esModule",{value:!0});c.getProperties=function(b){return b?b.__accessor__?b.__accessor__:b.propertyInvalidated?b:null:null};c.isPropertyDeclared=function(b,a){return b&&b.metadatas&&null!=b.metadatas[a]};
c.merge=function(b,a,e){return e?q(b,a,{policy:e,path:""}):q(b,a,null)};c.pathToStringOrArray=function(c){return!c||"string"===typeof c&&-1===c.indexOf(".")?c:b(c)};c.pathToArray=b;c.splitPath=k;c.parseConditionalPath=function(c){if(-1===c.indexOf("?"))return null;c=b(c);for(var a=Array(c.length),e=0;e<c.length;e++){var g=c[e];a[e]="?"===g[g.length-1];a[e]&&(c[e]=g.slice(0,-1))}return{fullPath:c.join("."),conditional:a}};c.parse=function(b,a,e,c){a=k(a);return Array.isArray(a)?(a=a.map(function(a){return c(b,
a.trim(),e)}),h.handlesGroup(a)):c(b,a.trim(),e)};c.once=function(b){var a=!1;return function(){a||(a=!0,b())}}})},"esri/core/handleUtils":function(){define(["require","exports","./maybe"],function(d,c,h){function m(c){return{remove:function(){c&&(c(),c=null)}}}Object.defineProperty(c,"__esModule",{value:!0});c.handlesGroup=function(c){return m(function(){return c.forEach(function(b){return h.isSome(b)&&b.remove()})})};c.makeHandle=m;c.refHandle=function(c){return m(function(){var b=c();h.isSome(b)&&
b.remove()})};c.destroyHandle=function(c){return m(function(){return c.destroy()})};c.timeoutHandle=function(c,b){var d=setTimeout(c,b);return{remove:function(){return clearTimeout(d)}}}})},"esri/core/accessorSupport/metadata":function(){define(["require","exports","../lang","./utils"],function(d,c,h,m){function q(b){var e=b.constructor.__accessorMetadata__,c=Object.getPrototypeOf(b).constructor.__accessorMetadata__;if(!e)Object.defineProperty(b.constructor,"__accessorMetadata__",{value:new a({}),
enumerable:!1,configurable:!1,writable:!1});else if(e===c){var e=Object.create(c.properties),g;for(g in e)e[g]=h.clone(e[g]);e=new a(e);e.autoDestroy=c.autoDestroy;Object.defineProperty(b.constructor,"__accessorMetadata__",{value:e,enumerable:!1,configurable:!1,writable:!1})}return b.constructor.__accessorMetadata__}function b(a){return q(a).properties}function k(a){return e.test(a)?"replace":"merge"}function l(a){return g.test(a)?k(a.slice(11)):"merge"}Object.defineProperty(c,"__esModule",{value:!0});
var a=function(){return function(a){this.autoDestroy=!1;this.properties=a}}();c.ClassMetadata=a;c.getOwnClassMetadata=q;c.getOwnPropertiesMetadata=b;c.getOwnPropertyMetadata=function(a,e){a=b(a);var c=a[e];c||(c=a[e]={});return c};c.setPropertyMetadata=function(a,e,c){b(a)[e]=c};c.merge=function(a,b){return m.merge(a,b,l)};c.mergeProperty=function(a,b){return m.merge(a,b,k)};var e=/^[^.]+\.(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/,g=/^properties\./})},"esri/core/accessorSupport/set":function(){define(["require",
"exports","../has","../Logger","./get"],function(d,c,h,m,q){function b(c,d,a){if(c&&d)if("object"===typeof d){a=0;for(var e=Object.getOwnPropertyNames(d);a<e.length;a++){var g=e[a];b(c,g,d[g])}}else-1!==d.indexOf(".")?(d=d.split("."),g=d.splice(d.length-1,1)[0],b(q.default(c,d),g,a)):c[d]=a}Object.defineProperty(c,"__esModule",{value:!0});m.getLogger("esri.core.accessorSupport.set");c.set=b;c.default=b})},"esri/core/accessorSupport/decorators/autoDestroy":function(){define(["require","exports","../metadata"],
function(d,c,h){Object.defineProperty(c,"__esModule",{value:!0});c.autoDestroy=function(){return function(c,d){h.getOwnClassMetadata(c).autoDestroy=!0;return c[d]}}})},"esri/core/accessorSupport/decorators/cast":function(){define(["require","exports","../ensureType","../metadata"],function(d,c,h,m){function q(a){var e="__accessorMetadata__"in a?h.ensureType(a):a;return function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];a.push(e);if("number"===typeof a[2])throw Error("Using @cast has parameter decorator is not supported since 4.16");
return b.apply(this,a)}}function b(a,b,c,n){m.getOwnPropertyMetadata(a,b).cast=n}function k(a){return function(b,c){m.getOwnPropertyMetadata(b,a).cast=b[c]}}Object.defineProperty(c,"__esModule",{value:!0});var l=Object.prototype.toString;c.cast=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(3!==a.length||"string"!==typeof a[1]){if(1===a.length&&"[object Function]"===l.call(a[0]))return q(a[0]);if(1===a.length&&"string"===typeof a[0])return k(a[0])}}})},"esri/core/accessorSupport/decorators/declared":function(){define(["require",
"exports","../../deprecate","../../has","../../Logger"],function(d,c,h,m,q){Object.defineProperty(c,"__esModule",{value:!0});c.declared=function(b){for(var c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];if(0<c.length)throw Error("Multi-inheritance unsupported since 4.16");m("esri-deprecation-warnings")&&h.deprecated(q.getLogger("esri.core.accessorSupport.decorators"),"'extends declared(superclass)' syntax",{version:"4.16",see:"https://arcg.is/T8fr4"});return b}})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["require",
"exports","../../jsonMap","./property"],function(d,c,h,m){Object.defineProperty(c,"__esModule",{value:!0});c.enumeration=function(c,b){void 0===b&&(b={ignoreUnknown:!0});c=c instanceof h.JSONMap?c:new h.JSONMap(c,b);return m.property({type:b&&b.ignoreUnknown?c.apiValues:String,json:{type:c.jsonValues,read:{reader:c.read},write:{writer:c.write}}})}})},"esri/core/jsonMap":function(){define(["require","exports"],function(d,c){Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function c(c,
b){var d=this;void 0===b&&(b={ignoreUnknown:!1});this.jsonToAPI=c;this.options=b;this.apiValues=[];this.jsonValues=[];this.apiToJSON=this.invertMap(c);this.apiValues=this.getKeysSorted(this.apiToJSON);this.jsonValues=this.getKeysSorted(this.jsonToAPI);this.read=function(b){return d.fromJSON(b)};this.write=function(b,a,c){b=d.toJSON(b);void 0!==b&&(a[c]=b)}}c.prototype.toJSON=function(c){return this.apiToJSON.hasOwnProperty(c)?this.apiToJSON[c]:this.options.ignoreUnknown?void 0:c};c.prototype.fromJSON=
function(c){return this.jsonToAPI.hasOwnProperty(c)?this.jsonToAPI[c]:this.options.ignoreUnknown?void 0:c};c.prototype.invertMap=function(c){var b={},d;for(d in c)b[c[d]]=d;return b};c.prototype.getKeysSorted=function(c){var b=[],d;for(d in c)b.push(d);b.sort();return b};return c}();c.JSONMap=h;c.strict=function(){return function(c){return new h(c,{ignoreUnknown:!0})}};c.default=h})},"esri/core/accessorSupport/decorators/reader":function(){define(["require","exports","../../object","./property"],
function(d,c,h,m){Object.defineProperty(c,"__esModule",{value:!0});c.reader=function(c,b,d){var k,a;void 0===b||Array.isArray(b)?(a=c,d=b,k=[void 0]):(a=b,k=Array.isArray(c)?c:[c]);return function(b,c){var e=b.constructor.prototype;k.forEach(function(g){g=m.propertyJSONMeta(b,g,a);g.read&&"object"!==typeof g.read&&(g.read={});h.setDeepValue("read.reader",e[c],g);d&&(g.read.source=(g.read.source||[]).concat(d))})}}})},"esri/core/accessorSupport/decorators/shared":function(){define(["require","exports"],
function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.shared=function(c){return function(d,h){d[h]=c}}})},"esri/core/accessorSupport/decorators/subclass":function(){define(["require","exports","tslib","../extensions","../metadata"],function(d,c,h,m,q){function b(a,b){return null==b.get?function(){return this.__accessor__?this.__accessor__.getterStatic(a,b):b.value}:function(){return this.__accessor__?this.__accessor__.getterComputed(a,b):b.value}}function k(a){var c=a.prototype,e=c.declaredClass,
d=q.getOwnClassMetadata(c).properties;m.processClassMetadatas(d,e);for(var f={},c=function(a){var c=d[a];f[a]={enumerable:!0,configurable:!0,get:b(a,c),set:function(b){var e=this.__accessor__;if(!e)Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:b});else if(!Object.isFrozen(this)){if(e.initialized&&c.readOnly)throw new TypeError("[accessor] cannot assign to read-only property '"+a+"' of "+this.declaredClass);if(2===e.lifecycle&&c.constructOnly)throw new TypeError("[accessor] cannot assign to construct-only property '"+
a+"' of "+this.declaredClass);e.set(a,b)}}}},e=0,r=Object.getOwnPropertyNames(d);e<r.length;e++)c(r[e]);Object.defineProperties(a.prototype,f)}Object.defineProperty(c,"__esModule",{value:!0});var l=new Set,a=new Set;c.subclass=function(b){return function(c){c.prototype.declaredClass=b;m.processPrototypeMetadatas(q.getOwnClassMetadata(c.prototype).properties,b);k(c);for(var e=[],g=[],f=c.prototype;f;)f.hasOwnProperty("initialize")&&!l.has(f.initialize)&&(l.add(f.initialize),e.push(f.initialize)),f.hasOwnProperty("destroy")&&
!a.has(f.destroy)&&(a.add(f.destroy),g.push(f.destroy)),f=Object.getPrototypeOf(f);l.clear();a.clear();f=function(a){function b(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];f=a.apply(this,c)||this;f.constructor===b&&"function"===typeof f.postscript&&(e.length&&Object.defineProperty(f,"initialize",{enumerable:!1,configurable:!0,value:function(){for(var a=e.length-1;0<=a;a--)e[a].call(this)}}),g.length&&Object.defineProperty(f,"destroy",{enumerable:!1,configurable:!0,value:function(){for(var a=
0;a<g.length;a++)g[a].call(this)}}),f.postscript.apply(f,c));return f}h.__extends(b,a);return b}(c);f.__accessorMetadata__=q.getOwnClassMetadata(c.prototype);f.prototype.declaredClass=b;return f}};c.processClass=k})},"esri/core/accessorSupport/extensions":function(){define(["require","exports","./extensions/computedProperty","./extensions/serializableProperty"],function(d,c,h,m){Object.defineProperty(c,"__esModule",{value:!0});var q=[h.default,m.default];c.processPrototypeMetadatas=function(b,c){for(var d=
0;d<q.length;d++){var a=q[d];if(a.processPrototypePropertyMetadata)for(var e in b)a.processPrototypePropertyMetadata(e,b[e],b,c)}};c.processClassMetadatas=function(b,c){for(var d=0;d<q.length;d++){var a=q[d];if(a.processClassPropertyMetadata)for(var e in b)a.processClassPropertyMetadata(e,b[e],b,c)}};c.instanceCreated=function(b,c){for(var d=Object.getOwnPropertyNames(c),a=0;a<q.length;a++){var e=q[a];e.instanceCreated&&e.instanceCreated(b,c,d)}}})},"esri/core/accessorSupport/extensions/computedProperty":function(){define("require exports ../../has ../../Logger ../utils ../wire".split(" "),
function(d,c,h,m,q,b){Object.defineProperty(c,"__esModule",{value:!0});m.getLogger("esri.core.accessorSupport.extensions.computedProperty");c.ComputedPropertyExtension={processClassPropertyMetadata:function(c,d,a,e){d.dependsOn&&d.dependsOn.length&&(d.wire=b.create(d.dependsOn,function(a){return q.getProperties(a).propertyInvalidated(c)}))},instanceCreated:function(b,c,a){for(var e=0;e<a.length;e++){var g=c[a[e]];g.wire&&g.wire(b)}}};c.default=c.ComputedPropertyExtension})},"esri/core/accessorSupport/wire":function(){define(["require",
"exports","./utils"],function(d,c,h){function m(b,c,d){c=h.splitPath(c);if(Array.isArray(c)){for(var e=[],f=0;f<c.length;f++)e.push((new q(c[f],d)).install(b));return new l(e)}b=(new q(c,d)).install(b);return new a(b)}Object.defineProperty(c,"__esModule",{value:!0});var q=function(){function a(a,b){this.path=a;this.callback=b;this.conditional=this.chain=null;if(-1<a.indexOf(".")){if(a=h.parseConditionalPath(a))this.path=a.fullPath,this.conditional=a.conditional;this.chain=h.pathToArray(this.path)}else"?"===
a[a.length-1]&&(this.path=a.slice(0,a.length-1),this.conditional=[!0],this.chain=[this.path]);this.callback=b;return this}a.prototype.install=function(a){a=this.chain?new k(this,a):new b(this,a);return a};a.prototype.notify=function(a){this.callback(a,this.path)};return a}(),b=function(){function a(a,b){this.binding=a;this.target=b;h.getProperties(b).addCursor(this.binding.path,this)}a.prototype.destroy=function(){this.target&&(h.getProperties(this.target).removeCursor(this.binding.path,this),this.target=
this.binding=null)};a.prototype.propertyDestroyed=function(a,b){h.getProperties(this.target).removeCursor(b,this)};a.prototype.propertyInvalidated=function(){this.binding&&this.binding.notify(this.target)};a.prototype.propertyCommitted=function(){this.binding&&this.binding.notify(this.target)};return a}(),k=function(){function a(a,b){this.binding=a;this.target=b;this.stack=[];this.properties=h.getProperties(b);this.stack.push({properties:this.properties,propertyName:a.chain[0]});this.properties.addCursor(a.chain[0],
this);this.moveForward();return this}a.prototype.destroy=function(){for(;;){var a=this.stack.pop();if(null==a)break;a.properties.removeCursor(a.propertyName,this)}this.target=this.binding=null};a.prototype.propertyDestroyed=function(a,b){this.moveBackward(a,b)};a.prototype.propertyInvalidated=function(){this.binding&&this.binding.notify(this.target)};a.prototype.propertyCommitted=function(a,b){this.binding&&(this.moveBackward(a,b),this.moveForward(),this.binding.notify(this.target))};a.prototype.moveBackward=
function(a,b){for(var c=this.stack,e=c[c.length-1];e.properties!==a&&e.propertyName!==b;)e.properties.removeCursor(e.propertyName,this),c.pop(),e=c[c.length-1]};a.prototype.moveForward=function(){var a=this.stack,b=a[a.length-1];if(1!==a.length||!this.binding.conditional||!this.binding.conditional[a.length-1]||b.properties.metadatas[b.propertyName])if(b=b.properties.internalGet(b.propertyName),(b=h.getProperties(b))&&a.length<this.binding.chain.length){var c=this.binding.chain[a.length];this.binding.conditional&&
this.binding.conditional[a.length]&&!b.metadatas[c]||(this.stack.push({properties:b,propertyName:c}),b.addCursor(c,this),this.moveForward())}};return a}(),l=function(){function a(a){this.cursors=a}a.prototype.remove=function(){for(var a=this.cursors;0<a.length;)a.pop().destroy();this.cursors=null};return a}(),a=function(){function a(a){this.cursor=a}a.prototype.remove=function(){this.cursor.destroy();this.cursor=null};return a}();c.create=function(b,c){b=h.splitPath(b);if(Array.isArray(b)){for(var e=
[],g=0;g<b.length;g++)e.push(new q(b[g],c));return function(a){for(var b=[],c=0;c<e.length;c++)b[c]=e[c].install(a);return new l(b)}}var f=new q(b,c);return function(b){return new a(f.install(b))}};c.wire=m;c.default=m})},"esri/core/accessorSupport/extensions/serializableProperty":function(){define("require exports ../ensureType ./serializableProperty/originAliases ./serializableProperty/reader ./serializableProperty/shorthands ./serializableProperty/writer".split(" "),function(d,c,h,m,q,b,k){function l(a,
b,c){var e=a&&a.json;a&&a.json&&a.json.origins&&c&&(a=a.json.origins[c.origin])&&("any"===b||b in a)&&(e=a);return e}Object.defineProperty(c,"__esModule",{value:!0});c.originSpecificReadPropertyDefinition=function(a,b){return l(a,"read",b)};c.originSpecificWritePropertyDefinition=function(a,b){return l(a,"write",b)};c.originSpecificPropertyDefinition=l;c.SerializablePropertyExtension={processPrototypePropertyMetadata:function(a,c){if(b.process(c)){m.process(c);for(var e=c.type,d=0;Array.isArray(e)&&
!h.isOneOf(e);)e=e[0],d++;if(c.json.origins)for(var l in c.json.origins){var f=c.json.origins[l];q.create(e,d,a,f);k.create(e,d,a,f)}q.create(e,d,a,c.json);k.create(e,d,a,c.json)}}};c.default=c.SerializablePropertyExtension})},"esri/core/accessorSupport/extensions/serializableProperty/originAliases":function(){define(["require","exports"],function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.process=function(c){if(c.json&&c.json.origins){var d=c.json.origins,h={"web-document":["web-scene",
"web-map"]};c=function(b){if(d[b]){var c=d[b];h[b].forEach(function(a){d[a]=c});delete d[b]}};for(var b in h)c(b)}}})},"esri/core/accessorSupport/extensions/serializableProperty/reader":function(){define(["require","exports","../../../Logger","../../../object","./type"],function(d,c,h,m,q){function b(b,c){if(1<c)return a(b,c);if(1===c)return e(b);if(g(b)){var f=e(b.prototype.itemType.Type);return function(a,c,e){return(a=f(a,c,e))?new b(a):a}}return k(b)}function k(a){return a.prototype.read?function(b,
c,e){if(null==b)return b;c=typeof b;if("object"!==c)t.error("Expected JSON value of type 'object' to deserialize type '"+a.prototype.declaredClass+"', but got '"+c+"'");else return c=new a,c.read(b,e),c}:a.fromJSON}function l(a,b,c,e){return 0!==e&&Array.isArray(b)?b.map(function(b){return l(a,b,c,e-1)}):a(b,null,c)}function a(a,b){a=k(a);var c=l.bind(null,a);return function(a,e,f){if(null==a)return a;a=c(a,f,b);e=b;for(f=a;0<e&&Array.isArray(f);)e--,f=f[0];if(void 0!==f)for(f=0;f<e;f++)a=[a];return a}}
function e(a){var b=k(a);return function(a,c,e){return null==a?a:Array.isArray(a)?a.map(function(a){return b(a,null,e)}):[b(a,null,e)]}}function g(a){return q.isCollection(a)?(a=a.prototype.itemType)&&a.Type&&"function"===typeof a.Type?n(a.Type):!1:!1}function n(a){return Array.isArray(a)?!1:!!a&&a.prototype&&("read"in a.prototype||"fromJSON"in a||g(a))}Object.defineProperty(c,"__esModule",{value:!0});var t=h.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");c.create=function(a,
c,e,g){(!g.read||!g.read.reader&&!1!==g.read.enabled)&&n(a)&&m.setDeepValue("read.reader",b(a,c),g)}})},"esri/core/accessorSupport/extensions/serializableProperty/type":function(){define(["require","exports"],function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.isCollection=function(c){return!!c&&c.prototype&&c.prototype.declaredClass&&0===c.prototype.declaredClass.indexOf("esri.core.Collection")}})},"esri/core/accessorSupport/extensions/serializableProperty/shorthands":function(){define(["require",
"exports"],function(d,c){function h(b){b.name&&(b.read?"object"===typeof b.read?void 0===b.read.source&&(b.read.source=b.name):b.read={source:b.name}:b.read={source:b.name},b.write?"object"===typeof b.write?void 0===b.write.target&&(b.write.target=b.name):b.write={target:b.name}:b.write={target:b.name})}function m(b){"boolean"===typeof b.read?b.read={enabled:b.read}:"function"===typeof b.read?b.read={enabled:!0,reader:b.read}:b.read&&"object"===typeof b.read&&void 0===b.read.enabled&&(b.read.enabled=
!0)}function q(b){"boolean"===typeof b.write?b.write={enabled:b.write}:"function"===typeof b.write?b.write={enabled:!0,writer:b.write}:b.write&&"object"===typeof b.write&&void 0===b.write.enabled&&(b.write.enabled=!0)}Object.defineProperty(c,"__esModule",{value:!0});c.process=function(b){b.json||(b.json={});m(b.json);q(b.json);h(b.json);if(b.json.origins)for(var c in b.json.origins)m(b.json.origins[c]),q(b.json.origins[c]),h(b.json.origins[c]);return!0}})},"esri/core/accessorSupport/extensions/serializableProperty/writer":function(){define(["require",
"exports","../../../object","./type"],function(d,c,h,m){function q(a,c,e,f){h.setDeepValue(e,b(a,f),c)}function b(a,b){return a&&"function"===typeof a.write?a.write({},b):a&&"function"===typeof a.toJSON?a.toJSON():"number"===typeof a?k(a):a}function k(a){return-Infinity===a?-Number.MAX_VALUE:Infinity===a?Number.MAX_VALUE:isNaN(a)?null:a}function l(a,c,e,f){null===a?a=null:a&&"function"===typeof a.map?(a=a.map(function(a){return b(a,f)}),"function"===typeof a.toArray&&(a=a.toArray())):a=[b(a,f)];h.setDeepValue(e,
a,c)}function a(c,e,d){return 0!==d&&Array.isArray(c)?c.map(function(b){return a(b,e,d-1)}):b(c,e)}function e(b){return function(c,e,f,g){if(null===c)c=null;else{c=a(c,g,b);g=b;for(var d=c;0<g&&Array.isArray(d);)g--,d=d[0];if(void 0!==d)for(d=0;d<g;d++)c=[c]}h.setDeepValue(f,c,e)}}Object.defineProperty(c,"__esModule",{value:!0});c.create=function(a,b,c,f){!f.write||f.write.writer||!1===f.write.enabled&&!f.write.overridePolicy||(1===b||m.isCollection(a)?f.write.writer=l:f.write.writer=1<b?e(b):q)};
c.numberToJSON=k})},"esri/core/accessorSupport/decorators/writer":function(){define(["require","exports","../../object","./property"],function(d,c,h,m){Object.defineProperty(c,"__esModule",{value:!0});c.writer=function(c,b,d){var k,a;void 0===b?(a=c,k=[void 0]):"string"!==typeof b?(a=c,k=[void 0],d=b):(a=b,k=Array.isArray(c)?c:[c]);return function(b,c){var e=b.constructor.prototype;k.forEach(function(g){g=m.propertyJSONMeta(b,g,a);g.write&&"object"!==typeof g.write&&(g.write={});d&&h.setDeepValue("write.target",
d,g);h.setDeepValue("write.writer",e[c],g)})}}})},"esri/core/accessorSupport/decorators/persistable":function(){define("require exports tslib ../../maybe ../../multiOriginJSONSupportUtils ../../urlUtils ../../uuid ../metadata ../PropertyOrigin ./property ../../../portal/support/resourceUtils ../../../support/persistableUrlUtils @dojo/framework/shim/Promise".split(" "),function(d,c,h,m,q,b,k,l,a,e,g,n){function t(c,e,d){var k=l.getOwnPropertyMetadata(e,d);return{read:function(a,b,c){a=n.read(a,b,c);
if(k.type===String)return a;if("function"===typeof k.type)return new k.type({url:a})},write:{writer:function(e,l,w,p){if(p&&p.resources){var t;t=m.isNone(e)?null:"string"===typeof e?e:e.url;t=t?n.toJSON(t,h.__assign(h.__assign({},p),{verifyItemRelativeUrls:p&&p.verifyItemRelativeUrls?{writtenUrls:p.verifyItemRelativeUrls.writtenUrls,rootPath:null}:null})):null;var y=k.type!==String&&(!q.isMultiOriginJSONMixin(this)||p&&p.origin&&this.originIdOf(d)>a.nameToId(p.origin));if(p&&p.portalItem&&m.isSome(t)&&
!b.isAbsolute(t))if(y){var y=p.portalItem.resourceFromPath(t),u=v(e,t,p),A=g.resourceContentExtension(u),x=b.getPathExtension(y.path);A!==x?f(this,d,e,t,l,w,p,c):(r(this,d,y,u,p.resources.toUpdate),l[w]=t)}else p.resources.toKeep.push({resource:p.portalItem.resourceFromPath(t)}),l[w]=t;else p&&p.portalItem&&(m.isNone(t)||m.isSome(n.itemIdFromResourceUrl(t))||b.isBlobProtocol(t)||y)?f(this,d,e,t,l,w,p,c):l[w]=t}else l[w]="string"===typeof e?n.toJSON(e,p):e.write({},p)}}}}function f(a,c,e,f,d,n,h,l){var w=
k.generateUUID();e=v(e,f,h);var p=b.join(m.get(l,"prefix"),w);l=p+"."+g.resourceContentExtension(e);var t=h.portalItem.resourceFromPath(l);b.isBlobProtocol(f)&&h.resources.pendingOperations.push(z(f).then(function(a){t.path=p+"."+g.resourceContentExtension(a);d[n]=t.itemRelativeUrl}).catch(function(){}));r(a,c,t,e,h.resources.toAdd);d[n]=t.itemRelativeUrl}function r(a,b,c,e,f){f.push({resource:c,content:e,finish:function(c){"string"===typeof a[b]?a[b]=c.url:a[b].url=c.url}})}function v(a,b,c){return"string"===
typeof a?{url:b}:new Blob([JSON.stringify(a.toJSON(c))],{type:"application/json"})}function z(a){return h.__awaiter(this,void 0,void 0,function(){var b,c;return h.__generator(this,function(e){switch(e.label){case 0:return[4,new Promise(function(a,b){d(["../../../request"],a,b)})];case 1:return b=e.sent(),[4,b(a,{responseType:"blob"})];case 2:return c=e.sent().data,[2,c]}})})}Object.defineProperty(c,"__esModule",{value:!0});c.persistable=function(a){var b=m.isSome(a)&&a.origins?a.origins:[void 0];
return function(c,f){var g;a:if(m.isSome(a)&&"resource"===a.type)g=t(a,c,f);else{switch(m.isSome(a)&&a.type?a.type:"other"){case "other":g={read:!0,write:!0};break a;case "url":g={read:n.read,write:n.write};break a}g=void 0}for(var d=0;d<b.length;d++){var r=e.propertyJSONMeta(c,b[d],f),k;for(k in g)r[k]=g[k]}}}})},"esri/core/multiOriginJSONSupportUtils":function(){define(["require","exports"],function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.isMultiOriginJSONMixin=function(c){return c&&
"getAtOrigin"in c&&"originOf"in c}})},"esri/core/urlUtils":function(){define("require exports tslib ../config ../kernel ./Error ./global ./Logger ./maybe ./string".split(" "),function(d,c,h,m,q,b,k,l,a,e){function g(a){var b={path:null,query:null},c=new Y(a),e=a.indexOf("?");null===c.query?b.path=a:(b.path=a.substring(0,e),b.query=n(c.query));c.fragment&&(b.hash=c.fragment,null===c.query&&(b.path=b.path.substring(0,b.path.length-(c.fragment.length+1))));return b}function n(a){var b={},c=0;for(a=a.split("\x26");c<
a.length;c++){var e=a[c];if(e){var f=e.indexOf("\x3d"),g=void 0,d=void 0;0>f?(g=decodeURIComponent(e),d=""):(g=decodeURIComponent(e.slice(0,f)),d=decodeURIComponent(e.slice(f+1)));e=b[g];"string"===typeof e&&(e=b[g]=[e]);Array.isArray(e)?e.push(d):b[g]=d}}return b}function t(a){return a&&"object"===typeof a&&"toJSON"in a&&"function"===typeof a.toJSON}function f(a,b){return a?b&&"function"===typeof b?Object.keys(a).map(function(c){return encodeURIComponent(c)+"\x3d"+encodeURIComponent(b(c,a[c]))}).join("\x26"):
Object.keys(a).map(function(c){var e=a[c];if(null==e)return"";var f=encodeURIComponent(c)+"\x3d";return(c=b&&b[c])?f+encodeURIComponent(c(e)):Array.isArray(e)?e.map(function(a){return t(a)?f+encodeURIComponent(JSON.stringify(a)):f+encodeURIComponent(a)}).join("\x26"):t(e)?f+encodeURIComponent(JSON.stringify(e)):f+encodeURIComponent(e)}).filter(function(a){return a}).join("\x26"):""}function r(a){var b=a.indexOf("?");-1!==b?(V.path=a.slice(0,b),V.query=a.slice(b+1)):(V.path=a,V.query=null);return V}
function v(a){a=r(a).path;a&&"/"===a[a.length-1]||(a+="/");a=O(a,!0);return a=a.toLowerCase()}function z(a){var b=M.proxyRules;a=v(a);for(var c=0;c<b.length;c++)if(0===a.indexOf(b[c].urlPrefix))return b[c]}function A(a){a=w(a);var b=a.indexOf("/sharing");return 0<b?a.substring(0,b):a.replace(/\/+$/,"")}function p(a,b,c){void 0===c&&(c=!1);a=I(a);b=I(b);return c||a.scheme===b.scheme?a.host.toLowerCase()===b.host.toLowerCase()&&a.port===b.port:!1}function u(a,b,e){void 0===b&&(b=c.appBaseUrl);if(D(a))return e&&
e.preserveProtocolRelative?a:"http"===c.appUrl.scheme&&c.appUrl.authority===x(a).slice(2)?"http:"+a:"https:"+a;if(!L(a)){e=y;if("/"===a[0]){var f=b.indexOf("//"),f=b.indexOf("/",f+2);b=-1===f?b:b.slice(0,f)}return e(b,a)}return a}function w(a){a=a.trim();a=u(a);if(/^https?:\/\//i.test(a)){var b=r(a);a=b.path.replace(/\/{2,}/g,"/");a=a.replace("/","//");b.query&&(a+="?"+b.query)}a=a.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2");return a=K(a)}function y(){for(var b=[],c=0;c<arguments.length;c++)b[c]=
arguments[c];if((c=b.filter(a.isSome))&&c.length){b=[];if(E(c[0])){var e=c[0],f=e.indexOf("//");-1!==f&&(b.push(e.slice(0,f+1)),ca.test(c[0])&&(b[0]+="/"),c[0]=e.slice(f+2))}else"/"===c[0][0]&&b.push("");c=c.reduce(function(a,b){return b?a.concat(b.split("/")):a},[]);for(e=0;e<c.length;e++)f=c[e],".."===f&&0<b.length&&".."!==b[b.length-1]?b.pop():(!f&&e===c.length-1||f&&("."!==f||0===b.length))&&b.push(f);return b.join("/")}}function x(a,b){void 0===b&&(b=!1);if(H(a)||N(a))return null;var c=a.indexOf("://");
if(-1===c&&D(a))c=2;else if(-1!==c)c+=3;else return null;c=a.indexOf("/",c);-1!==c&&(a=a.slice(0,c));b&&(a=O(a,!0));return a}function E(a){return D(a)||L(a)}function H(a){return a&&"blob:"===a.slice(0,5)}function N(a){return"data:"===a.slice(0,5)}function P(a){a=C(a);if(!a||!a.isBase64)return null;a=atob(a.data);for(var b=new Uint8Array(a.length),c=0;c<a.length;c++)b[c]=a.charCodeAt(c);return b.buffer}function C(a){return(a=a.match(aa))?{mediaType:a[1],isBase64:!!a[2],data:a[3]}:null}function B(a){var b=
P(a);if(!b)return null;a=C(a);return new Blob([b],{type:a.mediaType})}function D(a){return a&&"/"===a[0]&&"/"===a[1]}function L(a){return T.test(a)}function J(a){return S.test(a)||"http"===c.appUrl.scheme&&D(a)}function G(a){return D(a)?"https:"+a:a.replace(S,"https:")}function F(){return"https"===c.appUrl.scheme}function O(a,b){void 0===b&&(b=!1);if(D(a))return a.slice(2);a=a.replace(T,"");b&&1<a.length&&"/"===a[0]&&"/"===a[1]&&(a=a.slice(2));return a}function K(a){var b=M.httpsDomains;if(!J(a))return a;
var f=a.indexOf("/",7),g;g=-1===f?a:a.slice(0,f);g=g.toLowerCase().slice(7);if(U.test(g))if(e.endsWith(g,":80"))g=g.slice(0,-3),a=a.replace(":80","");else return a;if("http"===c.appUrl.scheme&&g===c.appUrl.authority&&!Q.test(a))return a;if(F()&&g===c.appUrl.authority||b&&b.some(function(a){return g===a||e.endsWith(g,"."+a)})||F()&&!z(a))a=G(a);return a}function I(a){if("string"===typeof a)return new Y(u(a));a.scheme||(a.scheme=c.appUrl.scheme);return a}function ba(a,b,c){a=g(a);var e=a.query||{};
e[b]=String(c);return a.path+"?"+f(e)}Object.defineProperty(c,"__esModule",{value:!0});var W=l.getLogger("esri.core.urlUtils"),M=m.request,T=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,S=/^\s*http:/i,R=/^\s*https:/i,ca=/^\s*file:/i,U=/:\d+$/,Q=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,Z=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,X=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,Y=function(){function a(a){void 0===a&&(a="");this.uri=a;this.port=this.host=this.password=
this.user=this.fragment=this.query=this.path=this.authority=this.scheme=null;a=this.uri.match(Z);this.scheme=a[2]||(a[1]?"":null);this.authority=a[4]||(a[3]?"":null);this.path=a[5];this.query=a[7]||(a[6]?"":null);this.fragment=a[9]||(a[8]?"":null);null!=this.authority&&(a=this.authority.match(X),this.user=a[3]||null,this.password=a[4]||null,this.host=a[6]||a[7],this.port=a[9]||null)}a.prototype.toString=function(){return this.uri};return a}();c.Url=Y;c.appUrl=new Y(m.applicationUrl);c.trustedServersUrlCache=
{};c.appBaseUrl=function(){var a=c.appUrl.path,a=a.substring(0,a.lastIndexOf(a.split("/")[a.split("/").length-1]));return""+(c.appUrl.scheme+"://"+c.appUrl.host+(null!=c.appUrl.port?":"+c.appUrl.port:""))+a}();c.urlToObject=g;c.queryToObject=n;c.objectToQuery=f;c.getProxyUrl=function(a){void 0===a&&(a=!1);var e,f=M.proxyUrl;if("string"===typeof a){if(e=a,e=R.test(e)||"https"===c.appUrl.scheme&&D(e),a=z(a))f=a.proxyUrl}else e=!!a;if(!f)throw W.warn("esri/config: esriConfig.request.proxyUrl is not set."),
new b("urlutils:proxy-not-set","esri/config: esriConfig.request.proxyUrl is not set.");e&&F()&&(f=G(f));return g(f)};c.addProxy=function(a){var b=z(a),c,e;b&&(e=r(b.proxyUrl),c=e.path,e=e.query?n(e.query):null);c&&(b=g(a),a=c+"?"+b.path,(c=f(h.__assign(h.__assign({},e),b.query)))&&(a=a+"?"+c));return a};var V={path:"",query:""};c.addProxyRule=function(a){a={proxyUrl:a.proxyUrl,urlPrefix:v(a.urlPrefix)};for(var b=M.proxyRules,c=a.urlPrefix,e=b.length,f=0;f<b.length;f++){var g=b[f].urlPrefix;if(0===
c.indexOf(g)){if(c.length===g.length)return-1;e=f;break}0===g.indexOf(c)&&(e=f+1)}b.splice(e,0,a);return e};c.getProxyRule=z;c.hasSamePortal=function(a,b){a=A(a);b=A(b);return O(a)===O(b)};c.getInterceptor=function(a){var b=function(b){return null==b||b instanceof RegExp&&b.test(a)||"string"===typeof b&&e.startsWith(a,b)},c=M.interceptors;if(c)for(var f=0;f<c.length;f++){var g=c[f];if(Array.isArray(g.urls)){if(g.urls.some(b))return g}else if(b(g.urls))return g}return null};c.hasSameOrigin=p;c.isTrustedServer=
function(a){if("string"===typeof a)if(E(a))a=I(a);else return!0;if(p(a,c.appUrl))return!0;for(var b=M.trustedServers||[],e=0;e<b.length;e++){var f;f=b[e];c.trustedServersUrlCache[f]||(L(f)||D(f)?c.trustedServersUrlCache[f]=[new Y(u(f))]:c.trustedServersUrlCache[f]=[new Y("http://"+f),new Y("https://"+f)]);f=c.trustedServersUrlCache[f];for(var g=0;g<f.length;g++)if(p(a,f[g]))return!0}return!1};c.makeAbsolute=u;c.makeRelative=function(a,b,e){void 0===b&&(b=c.appBaseUrl);if(!E(a))return a;var f=w(a),
g=f.toLowerCase();b=w(b).toLowerCase().replace(/\/+$/,"");if((e=e?w(e).toLowerCase().replace(/\/+$/,""):null)&&0!==b.indexOf(e))return a;for(var d=function(a,b,c){c=a.indexOf(b,c);return-1===c?a.length:c},r=d(g,"/",g.indexOf("//")+2),n=-1;g.slice(0,r+1)===b.slice(0,r)+"/";){n=r+1;if(r===g.length)break;r=d(g,"/",r+1)}if(-1===n||e&&n<e.length)return a;a=f.slice(n);f=b.slice(n-1).replace(/[^/]+/g,"").length;if(0<f)for(g=0;g<f;g++)a="../"+a;else a="./"+a;return a};c.normalize=w;c.join=y;c.getOrigin=x;
c.isAbsolute=E;c.isBlobProtocol=H;c.isDataProtocol=N;c.dataToArrayBuffer=P;var aa=/^data:(.*?)(;base64)?,(.*)$/;c.dataComponents=C;c.makeData=function(a){return a.isBase64?"data:"+a.mediaType+";base64,"+a.data:"data:"+a.mediaType+","+a.data};c.dataToBlob=B;c.downloadDataAsFile=function(a,b){var c;a:if(c=document.createElement("a"),"download"in c){var e=null;if(k.URL&&k.URL.createObjectURL){e=B(a);if(!e){c=!1;break a}e=k.URL.createObjectURL(e)}c.download=b;c.href=e||a;c.style.display="none";document.body.appendChild(c);
c.click();document.body.removeChild(c);e&&k.URL.revokeObjectURL(e);c=void 0}else c=!1;c||window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(B(a),b)};c.isProtocolRelative=D;c.hasProtocol=L;c.toHTTP=function(a){return D(a)?"http:"+a:a.replace(R,"http:")};c.toHTTPS=G;c.isAppHTTPS=F;c.removeFile=function(a){var b=0;if(E(a)){var c=a.indexOf("//");-1!==c&&(b=c+2)}c=a.lastIndexOf("/");return c<b?a:a.slice(0,c+1)};c.removeTrailingSlash=function(a){return a.replace(/\/+$/,"")};c.changeDomain=
function(a,b,c){if(!(b&&c&&a&&E(a)))return a;var e=a.indexOf("//"),f=a.indexOf("/",e+2),g=a.indexOf(":",e+2),f=Math.min(0>f?a.length:f,0>g?a.length:g);if(a.slice(e+2,f).toLowerCase()!==b.toLowerCase())return a;b=a.slice(0,e+2);a=a.slice(f);return""+b+c+a};c.isSVG=function(a){return ma.test(a)};c.removeQueryParameters=function(a,b){a=g(a);var c=Object.keys(a.query||{});0<c.length&&b&&b.warn("removeQueryParameters()","Url query parameters are not supported, the following parameters have been removed: "+
c.join(", ")+".");return a.path};c.addQueryParameter=ba;c.addQueryParameters=function(a,b){a=g(a);var c=a.query||{},e;for(e in b)c[e]=b[e];return(b=f(c))?a.path+"?"+b:a.path};c.removeQueryParameter=function(a,b){var c=g(a),e=c.path,c=c.query;if(!c)return a;delete c[b];return(a=f(c))?e+"?"+a:e};c.addTokenParameter=function(a){var b=q.id&&q.id.findCredential(a);return b&&b.token?ba(a,"token",b.token):a};c.getPathExtension=function(b){return a.isNone(b)?null:(b=b.match(ea))?b[1]:null};var ea=/.*?\.([^\/]*)$/,
ma=/(^data:image\/svg|\.svg$)/i})},"esri/core/uuid":function(){define(["require","exports","./global"],function(d,c,h){Object.defineProperty(c,"__esModule",{value:!0});c.generateUUID=function(){var c=m.getRandomValues(new Uint16Array(8));c[3]=c[3]&4095|16384;c[4]=c[4]&16383|32768;var b=function(b){return c[b].toString(16)};return b(0)+b(1)+"-"+b(2)+"-"+b(3)+"-"+b(4)+"-"+b(5)+b(6)+b(7)};var m=h.crypto||h.msCrypto})},"esri/core/accessorSupport/PropertyOrigin":function(){define(["require","exports"],
function(d,c){function h(c){switch(c){case "defaults":return 0;case "service":return 2;case "portal-item":return 3;case "web-scene":return 4;case "web-map":return 5;case "user":return 6}}function m(c){switch(c){case 0:return"defaults";case 2:return"service";case 3:return"portal-item";case 4:return"web-scene";case 5:return"web-map";case 6:return"user"}}Object.defineProperty(c,"__esModule",{value:!0});c.nameToId=h;c.idToName=m;c.readableNameToId=function(c){return h(c)};c.idToReadableName=function(c){return m(c)};
c.writableNameToId=function(c){return h(c)};c.idToWritableName=function(c){return m(c)}})},"esri/portal/support/resourceUtils":function(){define("require exports tslib ../../request ../../core/Error ../../core/maybe ../../core/urlUtils ../../core/urlUtils".split(" "),function(d,c,h,m,q,b,k,l){function a(a){var b=a.lastIndexOf("/");return-1===b?[".",a]:[a.slice(0,b),a.slice(b+1)]}function e(c){var e;e=l.getPathExtension(c);e=b.isNone(e)?[c,""]:[c.slice(0,c.length-e.length-1),"."+e];c=e[1];e=a(e[0]);
return[e[0],e[1],c]}function g(a){return h.__awaiter(this,void 0,void 0,function(){var b;return h.__generator(this,function(c){switch(c.label){case 0:return a instanceof Blob?[2,a]:[4,m(a.url,{responseType:"blob"})];case 1:return b=c.sent(),[2,b.data]}})})}function n(a){if(a instanceof Blob)return a.type;a=l.getPathExtension(a.url);return t[a]||v}Object.defineProperty(c,"__esModule",{value:!0});c.fetchResources=function(a,c,e){void 0===c&&(c={});return h.__awaiter(this,void 0,void 0,function(){var f,
g,d,r,n,l,t,p,m,q,v;return h.__generator(this,function(h){switch(h.label){case 0:return[4,a.load(e)];case 1:return h.sent(),f=k.join(a.itemUrl,"resources"),g=c.start,d=void 0===g?1:g,r=c.num,n=void 0===r?10:r,l=c.sortOrder,t=void 0===l?"asc":l,p=c.sortField,m=void 0===p?"created":p,q={query:{start:d,num:n,sortOrder:t,sortField:m},signal:b.get(e,"signal")},[4,a.portal._request(f,q)];case 2:return v=h.sent(),[2,{total:v.total,nextStart:v.nextStart,resources:v.resources.map(function(b){return{created:new Date(b.created),
size:b.size,resource:a.resourceFromPath(b.resource)}})}]}})})};c.addOrUpdateResource=function(c,e,f,d){return h.__awaiter(this,void 0,void 0,function(){var r,n,l,w,t,p;return h.__generator(this,function(h){switch(h.label){case 0:if(!c.hasPath())throw new q("portal-item-resource-"+e+":invalid-path","Resource does not have a valid path");return[4,c.portalItem.load(d)];case 1:return h.sent(),r=k.join(c.portalItem.userItemUrl,"add"===e?"addResources":"updateResources"),n=a(c.path),l=n[0],w=n[1],[4,g(f)];
case 2:return t=h.sent(),p=new FormData,l&&"."!==l&&p.append("resourcesPrefix",l),p.append("fileName",w),p.append("file",t,w),p.append("f","json"),b.isSome(d)&&d.access&&p.append("access",d.access),[4,c.portalItem.portal._request(r,{method:"post",body:p,signal:b.get(d,"signal")})];case 3:return h.sent(),[2,c]}})})};c.removeResource=function(a,c,e){return h.__awaiter(this,void 0,void 0,function(){var f;return h.__generator(this,function(g){switch(g.label){case 0:if(!c.hasPath())throw new q("portal-item-resources-remove:invalid-path",
"Resource does not have a valid path");return[4,a.load(e)];case 1:return g.sent(),f=k.join(a.userItemUrl,"removeResources"),[4,a.portal._request(f,{method:"post",query:{resource:c.path},signal:b.get(e,"signal")})];case 2:return g.sent(),c.portalItem=null,[2]}})})};c.removeAllResources=function(a,c){return h.__awaiter(this,void 0,void 0,function(){var e;return h.__generator(this,function(f){switch(f.label){case 0:return[4,a.load(c)];case 1:return f.sent(),e=k.join(a.userItemUrl,"removeResources"),
[2,a.portal._request(e,{method:"post",query:{deleteAll:!0},signal:b.get(c,"signal")})]}})})};c.splitPrefixFileNameAndExtension=e;c.contentToBlob=g;c.getSiblingOfSameType=function(a,b){if(!a.hasPath())return null;var c=e(a.path);return a.portalItem.resourceFromPath(k.join(c[0],b+c[2]))};c.resourceContentType=n;c.resourceContentExtension=function(a){return f[n(a)]||z};var t={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",
svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip"},f={},r;for(r in t)f[t[r]]=r;var v="text/plain",z=f[v]})},"esri/request":function(){define("require exports tslib ./config ./kernel ./core/Error ./core/global ./core/has ./core/lang ./core/maybe ./core/promiseUtils ./core/string ./core/urlUtils ./support/requestUtils @dojo/framework/shim/Promise".split(" "),function(d,c,h,m,q,b,k,l,a,e,g,n,t,f){function r(a,b){return h.__awaiter(this,void 0,void 0,
function(){var c,f,d,r,n,k,w,m;return h.__generator(this,function(q){switch(q.label){case 0:return c=t.isDataProtocol(a),(f=t.isBlobProtocol(a))||c||(a=t.normalize(a)),d={url:a,requestOptions:h.__assign({},e.unwrap(b))},(r=t.getInterceptor(a))?[4,E(r,d)]:[3,2];case 1:n=q.sent();if(null!=n)return[2,{data:n,getHeader:K,requestOptions:d.requestOptions,url:d.url}];r.after||r.error||(r=null);q.label=2;case 2:a=d.url;b=d.requestOptions;if("image"===b.responseType){if(l("host-webworker"))throw A("request:invalid-parameters",
Error("responseType 'image' is not supported in Web Workers or Node environment"),d);}else if(c)throw A("request:invalid-parameters",Error("Data URLs are not supported for responseType \x3d "+b.responseType),d);if("head"===b.method){if(b.body)throw A("request:invalid-parameters",Error("body parameter cannot be set when method is 'head'"),d);if(c||f)throw A("request:invalid-parameters",Error("data and blob URLs are not supported for method 'head'"),d);}return[4,p()];case 3:q.sent();if(D)return[2,D.execute(a,
b)];k=g.createAbortController();g.onAbort(b,function(){return k.abort()});w={controller:k,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:r,params:d,redoRequest:!1,useIdentity:L.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1};return[4,P(w)];case 4:return m=q.sent(),r&&r.after&&r.after(m),[2,m]}})})}function v(a){t.isBlobProtocol(a)||t.isDataProtocol(a)||(a=t.getOrigin(a))&&-1===r._corsServers.indexOf(a)&&r._corsServers.push(a)}function z(a){a=t.getOrigin(a);return!a||
n.endsWith(a,".arcgis.com")||-1!==r._corsServers.indexOf(a)||t.isTrustedServer(a)}function A(c,e,f,d){var r="Error",n={url:f.url,requestOptions:f.requestOptions,getHeader:K,ssl:!1};if(e instanceof b)return e.details?(e.details=a.clone(e.details),e.details.url=f.url,e.details.requestOptions=f.requestOptions):e.details=n,e;if(e){f=d&&function(a){return d.headers.get(a)};var k=d&&d.status,h=e.message;h&&(r=h);f&&(n.getHeader=f);n.httpStatus=(null!=e.httpCode?e.httpCode:e.code)||k||0;n.subCode=e.subcode;
n.messageCode=e.messageCode;n.messages="string"===typeof e.details?[e.details]:e.details}return g.isAbortError(e)?g.createAbortError():new b(c,r,n)}function p(){return h.__awaiter(this,void 0,void 0,function(){var a;return h.__generator(this,function(b){switch(b.label){case 0:return l("host-webworker")?D?[3,2]:[4,new Promise(function(a,b){d(["./core/workers/request"],a,b)})]:[3,3];case 1:D=b.sent(),b.label=2;case 2:return[3,6];case 3:if(r._abortableFetch)return[3,6];if(!l("esri-abortable-fetch"))return[3,
4];r._abortableFetch=k.fetch.bind(k);return[3,6];case 4:return a=r,[4,new Promise(function(a,b){d(["whatwg-fetch"],a,b)})];case 5:a._abortableFetch=b.sent().fetch,b.label=6;case 6:return[2]}})})}function u(){return h.__awaiter(this,void 0,void 0,function(){return h.__generator(this,function(a){switch(a.label){case 0:return q.id?[3,2]:[4,new Promise(function(a,b){d(["./identity/IdentityManager"],a,b)})];case 1:a.sent(),a.label=2;case 2:return[2]}})})}function w(a){return h.__awaiter(this,void 0,void 0,
function(){var b,c,e,f,d,n,l,w;return h.__generator(this,function(h){switch(h.label){case 0:b=a.params.url;c=a.params.requestOptions;e=a.controller.signal;f=c.body;l=n=d=null;J&&"HTMLFormElement"in k&&(f instanceof FormData?d=f:f instanceof HTMLFormElement&&(n=f,d=new FormData(n)));"string"===typeof f&&(l=f);a.fetchOptions={cache:c.cacheBust&&!r._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:c.headers||{},method:"head"===c.method?"HEAD":"GET",mode:"cors",redirect:"follow",
signal:e};if(d||l)a.fetchOptions.body=d||l;"anonymous"===c.authMode&&(a.useIdentity=!1);a.hasToken=!!(/token=/i.test(b)||c.query&&c.query.token||d&&d.get&&d.get("token")||n&&n.elements.token);if(!a.useIdentity||a.hasToken||a.credentialToken||y(b)||g.isAborted(e))return[3,11];w=void 0;return"immediate"!==c.authMode?[3,3]:[4,u()];case 1:return h.sent(),[4,q.id.getCredential(b,{signal:e})];case 2:return w=h.sent(),a.credential=w,[3,10];case 3:return"no-prompt"!==c.authMode?[3,9]:[4,u()];case 4:h.sent(),
h.label=5;case 5:return h.trys.push([5,7,,8]),[4,q.id.getCredential(b,{prompt:!1,signal:e})];case 6:return w=h.sent(),a.credential=w,[3,8];case 7:return h.sent(),[3,8];case 8:return[3,10];case 9:q.id&&(w=q.id.findCredential(b)),h.label=10;case 10:w&&(a.credentialToken=w.token,a.useSSL=!!w.ssl),h.label=11;case 11:return[2]}})})}function y(a){return O.some(function(b){return b.test(a)})}function x(a){return h.__awaiter(this,void 0,void 0,function(){var b,c,e,f,d,n,k,w,p,m,y,u,x,E,C,D,P,F,G,I,O,K,ia;
return h.__generator(this,function(M){switch(M.label){case 0:b=a.params.url;c=a.params.requestOptions;e=a.fetchOptions;f=t.isBlobProtocol(b)||t.isDataProtocol(b);d=c.responseType||"json";n=f?0:null!=c.timeout?c.timeout:L.timeout;k=!1;if(!f){a.useSSL&&(b=t.toHTTPS(b));c.cacheBust&&"default"===e.cache&&(b=t.addQueryParameter(b,"request.preventCache",Date.now()));w=h.__assign({},c.query);a.credentialToken&&(w.token=a.credentialToken);p=t.objectToQuery(w);l("esri-url-encodes-apostrophe")&&(p=p.replace(/'/g,
"%27"));m=b.length+1+p.length;y=void 0;k="post"===c.method||!!c.body||m>L.maxUrlLength;if(u=c.useProxy||!!t.getProxyRule(b))x=t.getProxyUrl(b),y=x.path,!k&&y.length+1+m>L.maxUrlLength&&(k=!0),x.query&&(w=h.__assign(h.__assign({},x.query),w));if("HEAD"===e.method&&(k||u)){if(k){if(m>L.maxUrlLength)throw A("request:invalid-parameters",Error("URL exceeds maximum length"),a.params);throw A("request:invalid-parameters",Error("cannot use POST request when method is 'head'"),a.params);}if(u)throw A("request:invalid-parameters",
Error("cannot use proxy when method is 'head'"),a.params);}k?(e.method="POST",c.body?b=t.addQueryParameters(b,w):(e.body=t.objectToQuery(w),e.headers["Content-Type"]="application/x-www-form-urlencoded")):b=t.addQueryParameters(b,w);u&&(a.useProxy=!0,b=y+"?"+b);w.token&&J&&e.body instanceof FormData&&(E=e.body,E.set?E.set("token",w.token):E.append("token",w.token));c.hasOwnProperty("withCredentials")?a.withCredentials=c.withCredentials:t.isTrustedServer(b)?a.withCredentials=!0:q.id&&(C=q.id.findServerInfo(b))&&
C.webTierAuth&&(a.withCredentials=!0);a.withCredentials&&(e.credentials="include")}D=0;P=!1;0<n&&(D=setTimeout(function(){P=!0;a.controller.abort()},n));M.label=1;case 1:return M.trys.push([1,18,19,20]),"image"!==c.responseType||"default"!==e.cache||"GET"!==e.method||k||H(c.headers)||!f&&!a.useProxy&&L.proxyUrl&&!z(b)?[3,3]:[4,B(b,a)];case 2:return G=M.sent(),[3,17];case 3:return[4,r._abortableFetch(b,e)];case 4:F=M.sent();a.useProxy||v(b);if(!F.ok||"HEAD"===e.method)return[3,17];I=d;switch(I){case "array-buffer":return[3,
5];case "blob":return[3,7];case "image":return[3,7]}return[3,9];case 5:return[4,F.arrayBuffer()];case 6:return G=M.sent(),[3,11];case 7:return[4,F.blob()];case 8:return G=M.sent(),[3,11];case 9:return[4,F.text()];case 10:return G=M.sent(),[3,11];case 11:D&&(clearTimeout(D),D=0);if("json"===d||"xml"===d||"document"===d)if(G)switch(d){case "json":G=JSON.parse(G);break;case "xml":G=N(G,"application/xml");break;case "document":G=N(G,"text/html")}else G=null;if(!G)return[3,17];if("array-buffer"!==d&&"blob"!==
d)return[3,15];O=F.headers.get("Content-Type");if(!(/application\/json|text\/plain/i.test(O)&&750>=G["blob"===d?"size":"byteLength"]))return[3,15];M.label=12;case 12:return M.trys.push([12,14,,15]),[4,(new Response(G)).json()];case 13:return K=M.sent(),K.error&&(G=K),[3,15];case 14:return M.sent(),[3,15];case 15:return"image"===d&&G instanceof Blob?[4,B(URL.createObjectURL(G),a,!0)]:[3,17];case 16:G=M.sent(),M.label=17;case 17:return[3,20];case 18:ia=M.sent();if("AbortError"===ia.name){if(P)throw Error("Timeout exceeded");
throw g.createAbortError("Request canceled");}if(!F&&ia instanceof TypeError&&L.proxyUrl&&!c.body&&"post"!==c.method&&"head"!==c.method&&!a.useProxy)a.redoRequest=!0,t.addProxyRule({proxyUrl:L.proxyUrl,urlPrefix:t.removeFile(t.urlToObject(b).path)});else throw ia;return[3,20];case 19:return D&&clearTimeout(D),[7];case 20:return[2,[F,G]]}})})}function E(a,c){return h.__awaiter(this,void 0,void 0,function(){var e,f,g;return h.__generator(this,function(d){switch(d.label){case 0:if(null!=a.responseData)return[2,
a.responseData];a.headers&&(c.requestOptions.headers=h.__assign(h.__assign({},c.requestOptions.headers),a.headers));a.query&&(c.requestOptions.query=h.__assign(h.__assign({},c.requestOptions.query),a.query));if(!a.before)return[3,5];f=e=void 0;d.label=1;case 1:return d.trys.push([1,3,,4]),[4,a.before(c)];case 2:return f=d.sent(),[3,4];case 3:return g=d.sent(),e=A("request:interceptor",g,c),[3,4];case 4:if(f instanceof Error||f instanceof b)e=A("request:interceptor",f,c);if(e)throw a.error&&a.error(e),
e;return[2,f];case 5:return[2]}})})}function H(a){if(a)for(var b=0,c=Object.getOwnPropertyNames(a);b<c.length;b++)if(a[c[b]])return!0;return!1}function N(a,b){var c;try{c=(new DOMParser).parseFromString(a,b)}catch(M){}if(!c||c.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return c}function P(a){return h.__awaiter(this,void 0,void 0,function(){var b,c,e,f,g,d,n,r,k,l,p;return h.__generator(this,function(h){switch(h.label){case 0:return[4,w(a)];case 1:h.sent(),
h.label=2;case 2:h.trys.push([2,8,,9]),h.label=3;case 3:return[4,x(a)];case 4:p=h.sent(),b=p[0],c=p[1],h.label=5;case 5:return[4,C(a,b,c)];case 6:if(!h.sent())return[3,3];h.label=7;case 7:return[3,9];case 8:throw e=h.sent(),f=A("request:server",e,a.params,b),f.details.ssl=a.useSSL,a.interceptor&&a.interceptor.error&&a.interceptor.error(f),f;case 9:return g=a.params.url,/\/sharing\/rest\/(accounts|portals)\/self/i.test(g)&&!a.hasToken&&!a.credentialToken&&c&&c.user&&c.user.username&&!t.isTrustedServer(g)&&
(d=t.getOrigin(g,!0))&&L.trustedServers.push(d),(n=a.credential)&&q.id&&(k=(r=q.id.findServerInfo(n.server))&&r.owningSystemUrl)&&(k=k.replace(/\/?$/,"/sharing"),(l=q.id.findCredential(k,n.userId))&&-1===q.id._getIdenticalSvcIdx(k,l)&&l.resources.unshift(k)),[2,{data:c,getHeader:b?function(a){return b.headers.get(a)}:K,requestOptions:a.params.requestOptions,ssl:a.useSSL,url:a.params.url}]}})})}function C(b,c,e){return h.__awaiter(this,void 0,void 0,function(){var f,g,d,n,r,k,l;return h.__generator(this,
function(h){switch(h.label){case 0:if(b.redoRequest)return b.redoRequest=!1,[2,!1];if(!c)return[2,!0];if(!c.ok)throw Error("Unable to load "+c.url+" status: "+c.status);e&&e.error&&(f=a.mixin(Error(),e.error));f&&(g=Number(f.code),d=f.hasOwnProperty("subcode")?Number(f.subcode):null,n=(n=f.messageCode)&&n.toUpperCase());r=b.params.requestOptions.authMode;return 403===g&&(4===d||f.message&&-1<f.message.toLowerCase().indexOf("ssl")&&-1===f.message.toLowerCase().indexOf("permission"))?b.useSSL?[3,6]:
(b.useSSL=!0,[2,!1]):[3,1];case 1:return!b.useIdentity||"no-prompt"===r&&498!==g||-1===G.indexOf(g)||y(b.params.url)||!(403!==g||-1===F.indexOf(n)&&(null==d||2===d&&b.credentialToken))?[3,6]:[4,u()];case 2:h.sent(),h.label=3;case 3:return h.trys.push([3,5,,6]),[4,q.id.getCredential(b.params.url,{error:A("request:server",f,b.params),prompt:"no-prompt"!==r,signal:b.controller.signal,token:b.credentialToken})];case 4:return k=h.sent(),b.credential=k,b.credentialToken=k.token,b.useSSL=b.useSSL||k.ssl,
[2,!1];case 5:l=h.sent();if("no-prompt"===r)return b.credential=null,b.credentialToken=null,[2,!1];f=l;return[3,6];case 6:if(f)throw f;return[2,!0]}})})}function B(a,b,c){void 0===c&&(c=!1);var e=b.controller.signal,g=new Image;g.crossOrigin=b.withCredentials?"use-credentials":"anonymous";g.alt="";g.src=a;return f.loadImageAsync(g,a,c,e)}var D,L=m.request,J="FormData"in k,G=[499,498,403,401],F=["COM_0056","COM_0057","SB_0008"],O=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],
K=function(){return null};r._abortableFetch=null;r._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];return r})},"esri/support/requestUtils":function(){define(["require","exports","../core/has","../core/maybe","../core/promiseUtils"],function(d,c,h,m,q){function b(){try{return new DOMException("Aborted","AbortError")}catch(l){var b=Error();b.name="AbortError";return b}}Object.defineProperty(c,"__esModule",{value:!0});c.loadImageAsync=function(c,d,a,e){void 0===a&&
(a=!1);return q.create(function(g,n){if(q.isAborted(e))n(b());else{var k=function(){l();n(Error("Unable to load "+d))},f=function(){var a=c;l();g(a)},r=function(){if(c){var a=c;l();a.src="";n(b())}},l=function(){h("esri-image-decode")||(c.removeEventListener("error",k),c.removeEventListener("load",f));c=f=k=null;m.isSome(e)&&e.removeEventListener("abort",r);r=null;a&&URL.revokeObjectURL(d)};m.isSome(e)&&e.addEventListener("abort",r);h("esri-image-decode")?c.decode().then(f,k):(c.addEventListener("error",
k),c.addEventListener("load",f))}})}})},"esri/support/persistableUrlUtils":function(){define(["require","exports","../core/maybe","../core/urlUtils"],function(d,c,h,m){function q(b,c){var e=c&&c.url&&c.url.path;b&&e&&(b=m.makeAbsolute(b,e,{preserveProtocolRelative:!0}),c.portalItem&&c.readResourcePaths&&(e=m.makeRelative(b,c.portalItem.itemUrl),a.test(e)&&c.readResourcePaths.push(c.portalItem.resourceFromPath(e).path)));return k(b,c&&c.portal)}function b(a,b){if(!a)return a;!m.isAbsolute(a)&&b&&b.blockedRelativeUrls&&
b.blockedRelativeUrls.push(a);var c=m.makeAbsolute(a);if(b){var e=b.verifyItemRelativeUrls&&b.verifyItemRelativeUrls.rootPath||b.url&&b.url.path;e&&(e=k(e,b.portal),c=m.makeRelative(k(c,b.portal),e,e),c!==a&&b.verifyItemRelativeUrls&&b.verifyItemRelativeUrls.writtenUrls.push(c))}a=c;c=(b=b&&b.portal)&&!b.isPortal&&b.urlKey&&b.customBaseUrl?m.changeDomain(a,b.urlKey+"."+b.customBaseUrl,b.portalHostname):a;m.isAbsolute(c)&&(c=m.normalize(c));return c}function k(a,b){if(!b||b.isPortal||!b.urlKey||!b.customBaseUrl)return a;
var c=b.urlKey+"."+b.customBaseUrl;return m.hasSameOrigin(m.appUrl,m.appUrl.scheme+"://"+c)?m.changeDomain(a,b.portalHostname,c):m.changeDomain(a,c,b.portalHostname)}Object.defineProperty(c,"__esModule",{value:!0});c.fromJSON=q;c.toJSON=b;c.read=function(a,b,c){return q(a,c)};c.write=function(a,c,d,k){a=b(a,k);void 0!==a&&(c[d]=a)};var l=/\/items\/([^\/]+)\/resources\//,a=/^\.\/resources\//;c.itemIdFromResourceUrl=function(a){a=h.isSome(a)?a.match(l):null;return h.isSome(a)?a[1]:null}})},"esri/core/accessorSupport/Properties":function(){define("require exports ../has ../lang ../Logger ../ObjectPool ./extensions ./PropertyOrigin ./Store".split(" "),
function(d,c,h,m,q,b,k,l,a){Object.defineProperty(c,"__esModule",{value:!0});q.getLogger("esri.core.accessorSupport.Properties");d=function(){function b(b){this.host=b;this._origin=6;this.ctorArgs=this.cursors=null;this.destroyed=!1;this.dirties={};this.lifecycle=0;this.overridden=null;this.store=new a.Store;b=this.host.constructor.__accessorMetadata__;this.metadatas=b.properties;this.autoDestroy=b.autoDestroy}b.prototype.initialize=function(){this.lifecycle=1;k.instanceCreated(this.host,this.metadatas)};
b.prototype.constructed=function(){this.lifecycle=2};b.prototype.destroy=function(){this.destroyed=!0;var a=this.cursors;if(a)for(var b=0,c=Object.getOwnPropertyNames(a);b<c.length;b++){var e=c[b],d=a[e];if(d){for(;0<d.length;)d.pop().propertyDestroyed(this,e);a[e]=null}}if(this.autoDestroy)for(e in this.metadatas)(a=this.internalGet(e))&&a&&"function"===typeof a.destroy&&(a.destroy(),this.metadatas[e].nonNullable||this.internalSet(e,null))};Object.defineProperty(b.prototype,"initialized",{get:function(){return 0!==
this.lifecycle},enumerable:!0,configurable:!0});b.prototype.clearOverride=function(a){this.isOverridden(a)&&(this.overridden[a]=!1,this.propertyInvalidated(a))};b.prototype.get=function(a){var b=this.metadatas[a],c=b.get;return!this.store.has(a)||c&&this.dirties[a]?c?(b=c.call(this.host),this.store.set(a,b,1),this.propertyCommitted(a),b):b.value:this.store.get(a)};b.prototype.getterStatic=function(a,b){return this.store.has(a)?this.store.get(a):b.value};b.prototype.getterComputed=function(a,b){if(this.store.has(a)&&
!this.dirties[a])return this.store.get(a);b=b.get.call(this.host);this.store.set(a,b,1);this.propertyCommitted(a);return b};b.prototype.originOf=function(a){var b=this.store.originOf(a);return void 0===b&&(a=this.metadatas[a])&&a.hasOwnProperty("value")?"defaults":l.idToName(b)};b.prototype.has=function(a){return this.metadatas[a]?this.store.has(a):!1};b.prototype.internalGet=function(a){if(this.metadatas[a]){var b=this.store;return b.has(a)?b.get(a):this.metadatas[a].value}};b.prototype.internalSet=
function(a,b){return this.setAtOrigin(a,b,this.initialized?this._origin:0)};b.prototype.setAtOrigin=function(a,b,c){if(this.metadatas[a]){var e=this.store.get(a);m.equals(b,e)&&c===this.store.originOf(a)&&this.store.has(a,c)&&!this.isOverridden(a)||(this.propertyInvalidated(a),this.store.set(a,b,c),this.propertyCommitted(a))}};b.prototype.isOverridden=function(a){return null!=this.overridden&&!0===this.overridden[a]};b.prototype.keys=function(){return Object.keys(this.metadatas)};b.prototype.override=
function(a,b){if(this.metadatas[a]){this.overridden||(this.overridden={});var c=this.metadatas[a];if(!c.nonNullable||null!=b){if(c=c.cast){b=this.cast(c,b);var c=b.valid,d=b.value;e.release(b);if(!c)return;b=d}this.overridden[a]=!0;this.internalSet(a,b)}}};b.prototype.set=function(a,b){if(this.metadatas[a]){var c=this.metadatas[a];if(!c.nonNullable||null!=b){var d=c.set;if(c=c.cast){b=this.cast(c,b);var c=b.valid,g=b.value;e.release(b);if(!c)return;b=g}d?d.call(this.host,b):this.internalSet(a,b)}}};
b.prototype.setDefaultOrigin=function(a){this._origin=l.nameToId(a)};b.prototype.getDefaultOrigin=function(){return l.idToName(this._origin)};b.prototype.propertyInvalidated=function(a){var b=this.dirties;this.isOverridden(a)||(b[a]=!0);if(b=this.cursors&&this.cursors[a])for(var c=0;c<b.length;c++)b[c].propertyInvalidated(this,a)};b.prototype.propertyCommitted=function(a){var b=this.cursors&&this.cursors[a];this.dirties[a]=!1;if(b)for(var c=0;c<b.length;c++)b[c].propertyCommitted(this,a)};b.prototype.addCursor=
function(a,b){this.cursors||(this.cursors={});var c=this.cursors[a];c||(this.cursors[a]=c=[]);c.push(b)};b.prototype.removeCursor=function(a,b){var c=this.cursors[a];this.cursors[a]&&(c.splice(c.indexOf(b),1),0===c.length&&(this.cursors[a]=null))};b.prototype.cast=function(a,b){var c=e.acquire();c.valid=!0;c.value=b;a&&(c.value=a.call(this.host,b,c));return c};return b}();h=function(){function a(){this.value=null;this.valid=!0}a.prototype.acquire=function(){this.valid=!0};a.prototype.release=function(){this.value=
null};return a}();var e=new b(h);c.default=d})},"esri/core/ObjectPool":function(){define(["require","exports","tslib"],function(d,c,h){return function(){function c(c,b,d,h,a){void 0===h&&(h=1);void 0===a&&(a=0);this.ctor=c;this.acquireFunction=b;this.releaseFunction=d;this.allocationSize=h;this._pool=Array(a);this._initialSize=a;if(this.ctor)for(c=0;c<a;c++)this._pool[c]=new this.ctor;this.allocationSize=Math.max(h,1)}c.prototype.destroy=function(){this.prune(0)};c.prototype.acquire=function(){for(var d=
[],b=0;b<arguments.length;b++)d[b]=arguments[b];b=this.ctor;if(c.test.disabled)b=new b;else{if(0===this._pool.length)for(var k=this.allocationSize,l=0;l<k;l++)this._pool[l]=new b;b=this._pool.pop()}this.acquireFunction?this.acquireFunction.apply(this,h.__spreadArrays([b],d)):b&&b.acquire&&"function"===typeof b.acquire&&b.acquire.apply(b,d);return b};c.prototype.release=function(d){d&&!c.test.disabled&&(this.releaseFunction?this.releaseFunction(d):d&&d.release&&"function"===typeof d.release&&d.release(),
this._pool.push(d))};c.prototype.prune=function(c){void 0===c&&(c=this._initialSize);if(!(c>=this._pool.length)){for(var b=c;b<this._pool.length;++b)this._dispose(this._pool[b]);this._pool.length=c}};c.prototype._dispose=function(c){c.dispose&&"function"===typeof c.dispose&&c.dispose()};c.test={disabled:!1};return c}()})},"esri/core/accessorSupport/Store":function(){define(["require","exports","../arrayUtils","../lang"],function(d,c,h,m){Object.defineProperty(c,"__esModule",{value:!0});d=function(){function c(){this._values=
new Map}c.prototype.clone=function(b){var d=new c;this._values.forEach(function(c,a){b&&b.has(a)||d.set(a,m.clone(c))});return d};c.prototype.get=function(b){return this._values.get(b)};c.prototype.originOf=function(){return 6};c.prototype.keys=function(){return h.keysOfMap(this._values)};c.prototype.set=function(b,c){this._values.set(b,c)};c.prototype.delete=function(b){this._values.delete(b)};c.prototype.has=function(b){return this._values.has(b)};c.prototype.forEach=function(b){this._values.forEach(b)};
return c}();c.Store=d})},"esri/core/accessorSupport/testSupport":function(){define(["require","exports"],function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.interceptor=null})},"esri/core/accessorSupport/watch":function(){define("require exports ../ArrayPool ../lang ../ReentrantObjectPool ../scheduling ./get ./utils ./wire".split(" "),function(d,c,h,m,q,b,k,l,a){function e(a){A.has(a)?p.splice(p.indexOf(a),1):A.add(a);p.push(a);u||(u=b.schedule(n))}function g(a){if(!a.removed){var b=
a.callback,c=a.path,e=a.oldValue,f=a.target,d=k.valueOf(f,a.propertyPath,!0);m.equals(e,d)||(a.oldValue=d,b.call(f,d,e,c,f))}}function n(){for(var a=10;u&&a--;){u=null;var b=p;p=z.acquire();A.clear();for(var c=z.acquire(),e=0,f=b;e<f.length;e++){var d=f[e],r=d.uid;g(d);r===d.uid&&d.removed&&c.push(d)}for(e=0;e<p.length;e++)d=p[e],d.removed&&(c.push(d),A.delete(d),p.splice(e,1),--e);for(e=0;e<c.length;e++)v.pool.release(c[e]);z.release(b);z.release(c);w.forEach(function(a){return a()})}}function t(b,
c,f){var d=l.parse(b,c,f,function(b,c,f){var g=k.valueOf(b,c,!0),r,n,h=a.wire(b,c,function(a,b){a.__accessor__.destroyed||r&&r.uid!==n?d.remove():(r||(r=v.pool.acquire(a,b,g,f),n=r.uid,g=null),e(r))});return{remove:l.once(function(){h.remove();r&&(r.uid!==n||r.removed||(r.removed=!0,e(r)),r=null);d=h=g=null})}});return d}function f(b,c,e){var f=l.parse(b,c,e,function(b,c,e){var d=k.valueOf(b,c,!0),g=!1;return a.wire(b,c,function(a,b){if(a.__accessor__.destroyed)f.remove();else if(!g){g=!0;var c=k.valueOf(a,
b,!0);m.equals(d,c)||e.call(a,c,d,b,a);d=k.valueOf(a,b,!0);g=!1}})});return f}function r(a,b,c,e){void 0===e&&(e=!1);return!a.__accessor__||a.__accessor__.destroyed?{remove:function(){}}:e?f(a,b,c):t(a,b,c)}Object.defineProperty(c,"__esModule",{value:!0});var v=function(){function a(){this.uid=0;this.callback=this.oldValue=this.path=this.target=null;this.removed=!1;this.propertyPath=null}a.prototype.acquire=function(b,c,e,f){this.target=b;this.path=c;this.oldValue=e;this.callback=f;this.propertyPath=
l.pathToStringOrArray(c);this.uid=++a.uid;this.removed=!1};a.prototype.release=function(){this.target=this.path=this.propertyPath=this.callback=this.oldValue=null;this.uid=++a.uid;this.removed=!0};a.pool=new q.ReentrantObjectPool(a);a.uid=0;return a}(),z=new h,A=new Set,p=z.acquire(),u;c.dispatchTarget=function(a){for(var b=z.copy(p),c=0;c<b.length;c++){var e=b[c];e.target===a&&(g(e),A.delete(e),p.splice(p.indexOf(e),1))}};c.removeTarget=function(a){for(var b=0;b<p.length;b++){var c=p[b];c.target===
a&&(c.removed=!0)}};c.dispatch=n;var w=new Set;c.afterDispatch=function(a){w.add(a);return{remove:function(){w.delete(a)}}};c.watch=r;c.isValueInUse=function(a){return p.some(function(b){return b.oldValue===a})};c.default=r})},"esri/core/ArrayPool":function(){define(["require","exports","./ObjectPool"],function(d,c,h){function m(b){b.length=0}var q=Array.prototype.splice;d=function(){function c(b,a){void 0===b&&(b=50);void 0===a&&(a=50);this._pool=new h(Array,void 0,m,a,b)}c.prototype.acquire=function(){return this._pool.acquire()};
c.prototype.copy=function(b){var a=this.acquire();b.unshift(0,0);q.apply(a,b);b.splice(0,2);return a};c.prototype.release=function(b){this._pool.release(b)};c.prototype.prune=function(){this._pool.prune(0)};c.acquire=function(){return b.acquire()};c.copy=function(c){return b.copy(c)};c.release=function(c){return b.release(c)};c.prune=function(){b.prune()};return c}();var b=new d(100);return d})},"esri/core/ReentrantObjectPool":function(){define(["require","exports","tslib","./ObjectPool"],function(d,
c,h,m){Object.defineProperty(c,"__esModule",{value:!0});d=function(c){function b(){var b=null!==c&&c.apply(this,arguments)||this;b._set=new Set;return b}h.__extends(b,c);b.prototype.destroy=function(){c.prototype.destroy.call(this);this._set=null};b.prototype.acquire=function(){for(var b=[],d=0;d<arguments.length;d++)b[d]=arguments[d];b=c.prototype.acquire.apply(this,b);this._set.delete(b);return b};b.prototype.release=function(b){b&&!this._set.has(b)&&(c.prototype.release.call(this,b),this._set.add(b))};
b.prototype._dispose=function(b){this._set.delete(b);c.prototype._dispose.call(this,b)};return b}(m);c.ReentrantObjectPool=d})},"esri/core/scheduling":function(){define(["require","exports","./nextTick","./PooledArray","./promiseUtils"],function(d,c,h,m,q){function b(a){void 0===a&&(a=performance.now());c.debug.rafId=null;0<A.length&&(c.debug.rafId=k());c.debug.executeFrameTasks(a)}function k(){return c.debug.requestNextFrame?c.debug.requestNextFrame(e):e()}function l(){A.forEach(function(a){a.removed&&
u.push(a)});A.removeUnorderedMany(u.data,u.length);u.clear()}function a(){for(;z.length;){var a=z.shift();a.isActive&&(a.isActive=!1,a.callback())}c.debug.willDispatch=!1}function e(){return requestAnimationFrame(b)}Object.defineProperty(c,"__esModule",{value:!0});var g=function(){return function(a){this.phases=a;this.paused=!1;this.ticks=-1;this.removed=!1}}(),n=function(){function a(a){this.callback=a;this.isActive=!0}a.prototype.remove=function(){this.isActive=!1};return a}(),t=-1,f=0,r={time:0,
deltaTime:0,elapsedFrameTime:0,frameDuration:0},v=["prepare","preRender","render","postRender","update"],z=[],A=new m,p=function(){function a(a){this._task=a}a.prototype.remove=function(){this._task.removed=!0};a.prototype.pause=function(){this._task.paused=!0};a.prototype.resume=function(){this._task.paused=!1};return a}();c.FrameTaskHandle=p;c.debug={frameTasks:A,rafId:null,requestNextFrame:null,willDispatch:!1,clearFrameTasks:function(a){void 0===a&&(a=!1);A.forEach(function(a){a.removed=!0});
a&&l()},dispatch:a,executeFrameTasks:function(a){void 0===a&&(a=performance.now());0>t&&(t=a);var b=a-t,c=0<f?f:1E3/60,e=Math.max(0,b-c);t=a;for(var d=function(f){var d=v[f];A.forEach(function(g){g.paused||g.removed||(0===f&&g.ticks++,g.phases[d]&&(r.time=a,r.deltaTime=0===g.ticks?0:b,r.elapsedFrameTime=performance.now()-a,r.frameDuration=c-e,g.phases[d].call(g,r)))})},g=0;g<v.length;g++)d(g);l()}};c.schedule=function(b){b=new n(b);z.push(b);c.debug.willDispatch||(c.debug.willDispatch=!0,h(a));return b};
c.addFrameTask=function(a){a=new g(a);A.push(a);c.debug.rafId||(t=-1,c.debug.rafId=k());return new p(a)};c.setFrameDuration=function(a){f=Math.max(0,a)};c.requestNextFrame=k;var u=new m;c.waitTicks=function(a,b){void 0===a&&(a=1);var c=q.createResolver(),e=function(){q.isAborted(b)?c.reject(q.createAbortError()):0===a?c():(--a,h(function(){return e()}))};e();return c.promise}})},"esri/core/nextTick":function(){define(["require","exports","./global","@dojo/framework/shim/Promise"],function(d,c,h){function m(c){b.push(c);
1===b.length&&q(function(){for(var a=0,c=k;a<c.length;a++)(0,c[a])();a=b.slice();for(c=b.length=0;c<a.length;c++)(0,a[c])()})}var q=function(){return h.queueMicrotask?h.queueMicrotask:function(b){h.Promise.resolve().then(b)}}(),b=[],k=[];(function(b){b.before=function(a){k.push(a);return{remove:function(){k=k.filter(function(b){return b!==a})}}}})(m||(m={}));return m})},"esri/core/workers/request":function(){define(["require","exports","tslib","../Error","../global"],function(d,c,h,m,q){Object.defineProperty(c,
"__esModule",{value:!0});var b;c.execute=function(c,d){void 0===d&&(d={});var a=d.responseType;a?"json"!==a&&"text"!==a&&"blob"!==a&&"array-buffer"!==a&&(a="text"):a="json";var e=d&&d.signal;delete d.signal;return q.invokeStaticMessage("request",{url:c,options:d},{signal:e}).then(function(e){var g=e.data,k,f,r;if(g&&("json"===a||"text"===a||"blob"===a)&&(k=new Blob([g]),"json"===a||"text"===a)&&(b||(b=new FileReaderSync),f=b.readAsText(k),"json"===a)){try{r=JSON.parse(f||null)}catch(v){throw e=h.__assign(h.__assign({},
v),{url:c,requestOptions:d}),new m("request:server",v.message,e);}if(r.error)throw e=h.__assign(h.__assign({},r.error),{url:c,requestOptions:d}),new m("request:server",r.error.message,e);}switch(a){case "json":break;case "text":r=f;break;case "blob":r=k;break;default:r=g}return{data:r,requestOptions:d,ssl:e.ssl,url:c}})}})},"esri/views/2d/engine/vectorTiles/WorkerTileHandler":function(){define(["require","exports","../../../../core/promiseUtils","./WorkerTile","./style/StyleRepository"],function(d,
c,h,m,q){return function(){function b(){this._tiles=new Map;this._spriteInfo={};this._glyphInfo={}}b.prototype.reset=function(){this._spriteInfo={};this._glyphInfo={};var b=this._tiles;b.forEach(function(b){return b.setObsolete()});b.clear();return h.resolve()};b.prototype.getLayers=function(){return this._layers};b.prototype.setLayers=function(b){this._layers=(new q(b.style)).layers;this._enableCachingTiles=b.enableCachingTiles;return h.resolve({data:""})};b.prototype.createTileAndParse=function(b,
c){for(var a=this,e=b.key,d=new m,n={},k=0,f=Object.keys(b.sourceName2DataAndRefKey);k<f.length;k++){var r=f[k];n[r]=b.sourceName2DataAndRefKey[r].refKey}d.initialize(e,n,this,b.rotation);return d.setDataAndParse(b.sourceName2DataAndRefKey,c).then(function(b){a._enableCachingTiles&&a._tiles.set(e,d);return b}).catch(function(a){d.setObsolete();d.release();if(!h.isAbortError(a))throw a;})};b.prototype.updateSymbols=function(b,c){var a=this._tiles.get(b.key);return a?a.updateSymbols(b.rotation,c):h.reject()};
b.prototype.updateStyle=function(b,c){this._layers=(new q(b)).layers;this._tiles.forEach(function(a){a.reparse(c).then(function(b){c.client.invoke("updateTileData",{tileId:a.tileKey,tileData:b.result})})});return h.resolve({data:""})};b.prototype.destructTileData=function(b){if(this._enableCachingTiles){var c=this._tiles.get(b);c&&(c.release(),this._tiles.delete(b))}};b.prototype.fetchSprites=function(b,c,a){var e=[],d=this._spriteInfo;b.forEach(function(a){void 0===d[a]&&e.push(a)});return 0===e.length?
h.resolve():c.invoke("getSprites",e,{signal:a&&a.signal}).then(function(a){for(var b in a)d[b]=a[b]})};b.prototype.getSpriteItems=function(){return this._spriteInfo};b.prototype.fetchGlyphs=function(b,c,a,e,d){var g=[],k=this._glyphInfo[c];k?a.forEach(function(a){k[a]||g.push(a)}):(k=this._glyphInfo[c]=[],a.forEach(function(a){return g.push(a)}));return 0===g.length?h.resolve():e.invoke("getGlyphs",{tileID:b,font:c,codePoints:g},d).then(function(a){for(var b=0;b<a.length;b++)a[b]&&(k[b]=a[b])})};
b.prototype.getGlyphItems=function(b){return this._glyphInfo[b]};return b}()})},"esri/views/2d/engine/vectorTiles/WorkerTile":function(){define("require exports tslib ../../../../core/maybe ../../../../core/promiseUtils ./BackgroundBucket ./CircleBucket ./FillBucket ./GeometryUtils ./IndexMemoryBuffer ./LineBucket ./Placement ./SymbolBucket ./TileParser ./VertexMemoryBuffer ../../tiling/enums".split(" "),function(d,c,h,m,q,b,k,l,a,e,g,n,t,f,r,v){return function(){function c(){this.rotation=0;this.status=
v.TileStatus.INITIALIZED;this._symbolBuckets=[];this.placementEngine=new n.PlacementEngine;this.fillVertexBuffer=new r.FillVertexBuffer(!1);this.fillDDVertexBuffer=new r.FillVertexBuffer(!0);this.fillIndexBuffer=new e.TriangleIndexBuffer;this.outlineVertexBuffer=new r.OutlineVertexBuffer(!1);this.outlineDDVertexBuffer=new r.OutlineVertexBuffer(!0);this.outlineIndexBuffer=new e.TriangleIndexBuffer;this.lineVertexBuffer=new r.LineVertexBuffer(!1);this.lineDDVertexBuffer=new r.LineVertexBuffer(!0);this.lineIndexBuffer=
new e.TriangleIndexBuffer;this.iconVertexBuffer=new r.SymbolVertexBuffer(!1);this.iconDDVertexBuffer=new r.SymbolVertexBuffer(!0);this.iconIndexBuffer=new e.TriangleIndexBuffer;this.textVertexBuffer=new r.SymbolVertexBuffer(!1);this.textDDVertexBuffer=new r.SymbolVertexBuffer(!0);this.textIndexBuffer=new e.TriangleIndexBuffer;this.circleVertexBuffer=new r.CircleVertexBuffer;this.circleIndexBuffer=new e.TriangleIndexBuffer}c.prototype.initialize=function(b,c,e,f){void 0===f&&(f=0);this.tileKey=b;this.refKeys=
c;this._workerTileHandler=e;this.rotation=f;this.placementEngine.setAngle(a.C_DEG_TO_RAD*f)};c.prototype.release=function(){this.tileKey="";this.refKeys=null;this.status=v.TileStatus.INITIALIZED;this.rotation=0;this.resetData();this._workerTileHandler=null};c.prototype.resetData=function(){this.fillVertexBuffer.reset();this.fillDDVertexBuffer.reset();this.fillIndexBuffer.reset();this.outlineVertexBuffer.reset();this.outlineDDVertexBuffer.reset();this.outlineIndexBuffer.reset();this.lineVertexBuffer.reset();
this.lineDDVertexBuffer.reset();this.lineIndexBuffer.reset();this.iconVertexBuffer.reset();this.iconDDVertexBuffer.reset();this.iconIndexBuffer.reset();this.textVertexBuffer.reset();this.textDDVertexBuffer.reset();this.textIndexBuffer.reset();this.circleVertexBuffer.reset();this.circleIndexBuffer.reset();this.placementEngine.reset();this._symbolBuckets.length=0};c.prototype.reparse=function(a){this.resetData();return this.setDataAndParse(this._data,a)};c.prototype.setDataAndParse=function(a,c){var e=
this,f=c&&c.signal;if(m.isSome(f)){var d=function(){f.removeEventListener("abort",d);e.status=v.TileStatus.INVALID};f.addEventListener("abort",d)}this._data=a;return this._parse(a,c).then(function(a){e.status=v.TileStatus.READY;for(var c=new Uint32Array([1,e.fillVertexBuffer.sizeInBytes,2,e.fillDDVertexBuffer.sizeInBytes,3,e.fillIndexBuffer.sizeInBytes,4,e.outlineVertexBuffer.sizeInBytes,5,e.outlineDDVertexBuffer.sizeInBytes,6,e.outlineIndexBuffer.sizeInBytes,7,e.lineVertexBuffer.sizeInBytes,8,e.lineDDVertexBuffer.sizeInBytes,
9,e.lineIndexBuffer.sizeInBytes,10,e.iconVertexBuffer.sizeInBytes,11,e.iconDDVertexBuffer.sizeInBytes,12,e.iconIndexBuffer.sizeInBytes,13,e.textVertexBuffer.sizeInBytes,14,e.textDDVertexBuffer.sizeInBytes,15,e.textIndexBuffer.sizeInBytes,16,e.circleVertexBuffer.sizeInBytes,17,e.circleIndexBuffer.sizeInBytes]),f=[],d=a.length,r=0;r<d;r++){var n=a[r];if(n instanceof l)f.push(n.layerIndex),f.push(1),f.push(n.fillIndexStart),f.push(n.fillIndexCount),f.push(n.outlineIndexStart),f.push(n.outlineIndexCount);
else if(n instanceof g)f.push(n.layerIndex),f.push(2),f.push(n.lineIndexStart),f.push(n.lineIndexCount);else if(n instanceof t){f.push(n.layerIndex);f.push(3);f.push(n.sdfMarker?1:0);var h=n.markerPageMap;f.push(h.size);h.forEach(function(a,b){f.push(b);f.push(a[0]);f.push(a[1])});n=n.glyphsPageMap;f.push(n.size);n.forEach(function(a,b){f.push(b);f.push(a[0]);f.push(a[1])})}else n instanceof k?(f.push(n.layerIndex),f.push(4),f.push(n.circleIndexStart),f.push(n.circleIndexCount)):n instanceof b&&(f.push(n.layerIndex),
f.push(0))}a=new Uint32Array(f);var d=e.fillVertexBuffer.toBuffer(),r=e.fillDDVertexBuffer.toBuffer(),n=e.fillIndexBuffer.toBuffer(),h=e.outlineVertexBuffer.toBuffer(),w=e.outlineDDVertexBuffer.toBuffer(),p=e.outlineIndexBuffer.toBuffer(),m=e.lineVertexBuffer.toBuffer(),q=e.lineDDVertexBuffer.toBuffer(),y=e.lineIndexBuffer.toBuffer(),u=e.iconVertexBuffer.toBuffer(),z=e.iconDDVertexBuffer.toBuffer(),x=e.iconIndexBuffer.toBuffer(),A=e.textVertexBuffer.toBuffer(),W=e.textDDVertexBuffer.toBuffer(),M=
e.textIndexBuffer.toBuffer(),T=e.circleVertexBuffer.toBuffer(),S=e.circleIndexBuffer.toBuffer();return{result:{bufferDataInfo:c.buffer,bucketDataInfo:a.buffer,bufferData:[d,r,n,h,w,p,m,q,y,u,z,x,A,W,M,T,S]},transferList:[d,r,n,h,w,p,m,q,y,u,z,x,A,W,M,T,S,c.buffer,a.buffer]}})};c.prototype.addBucket=function(a){this._symbolBuckets.push(a)};c.prototype.updateSymbols=function(b,c){var e=this,f=this._symbolBuckets;if(!f||0===f.length)return q.resolve();var d=c&&c.signal;if(m.isSome(d)){var g=function(){d.removeEventListener("abort",
g);e.status=v.TileStatus.INVALID};d.addEventListener("abort",g)}this.rotation=b;var r=this.placementEngine;r.reset();r.setAngle(b/256*360*a.C_DEG_TO_RAD);var n=this.iconVertexBuffer;n.reset();var h=this.iconDDVertexBuffer;h.reset();var k=this.iconIndexBuffer;k.reset();var l=this.textVertexBuffer;l.reset();c=this.textDDVertexBuffer;c.reset();b=this.textIndexBuffer;b.reset();for(var p=[],t=0;t<f.length;t++){var z=f[t];if(z&&z.layer){var A=z.layer;if(z=z.copy(A.hasDataDrivenIcon?h:n,k,A.hasDataDrivenText?
c:l,b,r))p.push(z),z.updateSymbols()}}if(this.status===v.TileStatus.INVALID||this.status===v.TileStatus.INITIALIZED||0===n.sizeInBytes&&0===h.sizeInBytes&&0===k.sizeInBytes&&0===l.sizeInBytes&&0===c.sizeInBytes&&0===b.sizeInBytes)return q.reject();for(var f=new Uint32Array([10,n.sizeInBytes,11,h.sizeInBytes,12,k.sizeInBytes,13,l.sizeInBytes,14,c.sizeInBytes,15,b.sizeInBytes]),G=[],t=0;t<p.length;t++)r=p[t],G.push(r.layerIndex),G.push(3),G.push(r.sdfMarker?1:0),z=r.markerPageMap,G.push(z.size),z.forEach(function(a,
b){G.push(b);G.push(a[0]);G.push(a[1])}),r=r.glyphsPageMap,G.push(r.size),r.forEach(function(a,b){G.push(b);G.push(a[0]);G.push(a[1])});p=new Uint32Array(G);n=n.toBuffer();h=h.toBuffer();k=k.toBuffer();l=l.toBuffer();c=c.toBuffer();b=b.toBuffer();return q.resolve({result:{bufferDataInfo:f.buffer,bucketDataInfo:p.buffer,bufferData:[n,h,k,l,c,b]},transferList:[n,h,k,l,c,b,f.buffer,p.buffer]})};c.prototype.setObsolete=function(){this.status=v.TileStatus.INVALID};c.prototype.getLayers=function(){return this._workerTileHandler.getLayers()};
c.prototype.getWorkerTileHandler=function(){return this._workerTileHandler};c.prototype._parse=function(a,b){return h.__awaiter(this,void 0,void 0,function(){var c;return h.__generator(this,function(e){if(0===Object.keys(a).length)return[2,[]];this.status=v.TileStatus.MODIFIED;c=new f(a,this,b.client);return[2,c.parse(b)]})})};return c}()})},"esri/views/2d/engine/vectorTiles/BackgroundBucket":function(){define(["require","exports","tslib","./Bucket"],function(d,c,h,m){return function(c){function b(b,
d){return c.call(this,b,d)||this}h.__extends(b,c);b.prototype.processFeatures=function(){};b.prototype.assignBufferInfo=function(){};return b}(m)})},"esri/views/2d/engine/vectorTiles/Bucket":function(){define(["require","exports"],function(d,c){return function(){function c(c,d){this.layerExtent=4096;this._features=[];this.layer=c;this.zoom=d;this._filter=c.getFeatureFilter()}c.prototype.pushFeature=function(c){this._filter.filter(c)&&this._features.push(c)};c.prototype.hasFeatures=function(){return 0<
this._features.length};return c}()})},"esri/views/2d/engine/vectorTiles/CircleBucket":function(){define(["require","exports","tslib","./Bucket"],function(d,c,h,m){return function(c){function b(b,d,a,e){b=c.call(this,b,d)||this;b._circleVertexBuffer=a;b._circleIndexBuffer=e;return b}h.__extends(b,c);Object.defineProperty(b.prototype,"circleIndexStart",{get:function(){return this._circleIndexStart},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"circleIndexCount",{get:function(){return this._circleIndexCount},
enumerable:!0,configurable:!0});b.prototype.assignBufferInfo=function(b){b._circleIndexStart=this._circleIndexStart;b._circleIndexCount=this._circleIndexCount};b.prototype.processFeatures=function(b){var c=this._circleVertexBuffer,a=this._circleIndexBuffer;this._circleIndexStart=a.index;this._circleIndexCount=0;var e=this.layer,d=this.zoom;b&&b.setExtent(this.layerExtent);for(var n=1,h=[1,1,1,1],f=1,r=0,k=1,m=[1,1,1,1],q=1,p=0,u=this._features;p<u.length;p++){var w=u[p],y=w.getGeometry(b);if(y)for(e.hasDataDrivenRadius&&
(n=e.getPaintValue("circle-radius",d,w)),e.hasDataDrivenColor&&(h=e.getPaintValue("circle-color",d,w)),e.hasDataDrivenOpacity&&(f=e.getPaintValue("circle-opacity",d,w)),e.hasDataDrivenStrokeWidth&&(k=e.getPaintValue("circle-stroke-width",d,w)),e.hasDataDrivenStrokeColor&&(m=e.getPaintValue("circle-stroke-color",d,w)),e.hasDataDrivenStrokeOpacity&&(q=e.getPaintValue("circle-stroke-opacity",d,w)),e.hasDataDrivenBlur&&(r=e.getPaintValue("circle-blur",d,w)),w=0;w<y.length;w++){var x=y[w];if(x)for(var E=
0;E<x.length;E++){var H=x[E],N=c.index;c.add(H.x,H.y,0,0,n,h,f,r,k,m,q);c.add(H.x,H.y,0,1,n,h,f,r,k,m,q);c.add(H.x,H.y,1,0,n,h,f,r,k,m,q);c.add(H.x,H.y,1,1,n,h,f,r,k,m,q);a.add(N+0,N+1,N+2);a.add(N+1,N+2,N+3);this._circleIndexCount+=6}}}};return b}(m)})},"esri/views/2d/engine/vectorTiles/FillBucket":function(){define("require exports tslib ../../../../core/ArrayPool ../../../../core/libs/earcut/earcut ./Bucket ../webgl/Geometry".split(" "),function(d,c,h,m,q,b,k){return function(b){function a(a,c,
d,h,f,r){c=b.call(this,a,c)||this;if(a.hasDataDrivenFill!==d.isDataDriven())throw Error("incompatible fill buffer");if(a.hasDataDrivenOutline!==f.isDataDriven())throw Error("incompatible outline buffer");c._fillVertexBuffer=d;c._fillIndexBuffer=h;c._outlineVertexBuffer=f;c._outlineIndexBuffer=r;return c}h.__extends(a,b);Object.defineProperty(a.prototype,"fillIndexStart",{get:function(){return this._fillIndexStart},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"fillIndexCount",
{get:function(){return this._fillIndexCount},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"outlineIndexStart",{get:function(){return this._outlineIndexStart},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"outlineIndexCount",{get:function(){return this._outlineIndexCount},enumerable:!0,configurable:!0});a.prototype.assignBufferInfo=function(a){a._fillIndexStart=this._fillIndexStart;a._fillIndexCount=this._fillIndexCount;a.layer.getPaintProperty("fill-outline-color")?
(a._outlineIndexStart=this._outlineIndexStart,a._outlineIndexCount=this._outlineIndexCount):(a._outlineIndexStart=0,a._outlineIndexCount=0)};a.prototype.processFeatures=function(a){this._fillIndexStart=this._fillIndexBuffer.index;this._fillIndexCount=0;this._outlineIndexStart=this._outlineIndexBuffer.index;this._outlineIndexCount=0;var b=this.layer,c=this.zoom,e=b.hasDataDrivenFill,f=b.hasDataDrivenOutline;a&&a.setExtent(this.layerExtent);var d=b.getPaintValue("fill-pattern",c),h=b.getPaintValue("fill-antialias",
c)&&void 0===d,k=[1,1,1,1],l=[1,1,1,1],p=1;if(b.outlineUsesFillColor){if(h&&!b.hasDataDrivenOpacity){var m=b.getPaintValue("fill-opacity",c),w=b.getPaintValue("fill-opacity",c+1);1>m&&1>w&&(h=!1)}h&&!b.hasDataDrivenColor&&(m=b.getPaintValue("fill-color",c),w=b.getPaintValue("fill-color",c+1),1>m[3]&&1>w[3]&&(h=!1))}m=0;for(w=this._features;m<w.length;m++){var q=w[m];!d&&b.hasDataDrivenColor&&(k=b.getPaintValue("fill-color",c,q));b.hasDataDrivenOpacity&&(p=b.getPaintValue("fill-opacity",c,q));!d&&
b.hasDataDrivenOutlineColor&&(l=b.getPaintValue("fill-outline-color",c,q));var x=void 0;e&&(x={color:k,opacity:p});var E=void 0;f&&(E={color:b.outlineUsesFillColor?k:l,opacity:p});q=q.getGeometry(a);this._processFeature(q,h,b.outlineUsesFillColor,x,E)}};a.prototype._processFeature=function(b,c,d,h,f){if(b){var e=b.length;if(c&&(!d||!f||1===f.color[3]*f.opacity))for(c=0;c<e;c++)this._processOutline(b[c],f);var g;for(c=0;c<e;c++)f=a._area(b[c]),128<f?(void 0!==g&&this._processFill(b,g,h),g=[c]):-128>
f&&void 0!==g&&g.push(c);void 0!==g&&this._processFill(b,g,h)}};a.prototype._processOutline=function(a,b){var c=this._outlineVertexBuffer,e=this._outlineIndexBuffer,f=e.index,d,g,h,l=new k.Point(0,0),p=new k.Point(0,0),m=new k.Point(0,0),w=-1,q=-1,x=-1,E=-1,H=-1,N=!1,P=a.length;if(!(2>P)){var C=a[0];for(d=a[P-1];P&&d.isEqual(C);)--P,d=a[P-1];if(!(2>P-0)){for(C=0;C<P;++C){0===C?(d=a[P-1],g=a[0],h=a[1],l.assignSub(g,d),l.normalize(),l.rightPerpendicular()):(d=g,g=h,h=C!==P-1?a[C+1]:a[0],l.assign(p));
d=this._isClipEdge(d,g);-1===E&&(N=d);p.assignSub(h,g);p.normalize();p.rightPerpendicular();x=l.x*p.y-l.y*p.x;m.assignAdd(l,p);m.normalize();var B=-m.x*-l.x+-m.y*-l.y,B=Math.abs(0!==B?1/B:1);8<B&&(B=8);0<=x?(x=c.add(g.x,g.y,l.x,l.y,0,1,b),-1===E&&(E=x),0<=w&&0<=q&&0<=x&&!d&&e.add(w,q,x),q=c.add(g.x,g.y,B*-m.x,B*-m.y,0,-1,b),-1===H&&(H=q),0<=w&&0<=q&&0<=x&&!d&&e.add(w,q,x),w=q,q=x,x=c.add(g.x,g.y,m.x,m.y,0,1,b),0<=w&&0<=q&&0<=x&&!d&&e.add(w,q,x),q=c.add(g.x,g.y,p.x,p.y,0,1,b)):(x=c.add(g.x,g.y,B*m.x,
B*m.y,0,1,b),-1===E&&(E=x),0<=w&&0<=q&&0<=x&&!d&&e.add(w,q,x),q=c.add(g.x,g.y,-l.x,-l.y,0,-1,b),-1===H&&(H=q),0<=w&&0<=q&&0<=x&&!d&&e.add(w,q,x),w=q,q=x,x=c.add(g.x,g.y,-m.x,-m.y,0,-1,b),0<=w&&0<=q&&0<=x&&!d&&e.add(w,q,x),w=c.add(g.x,g.y,-p.x,-p.y,0,-1,b));0<=w&&0<=q&&0<=x&&!d&&e.add(w,q,x)}0<=w&&0<=q&&0<=E&&!N&&e.add(w,q,E);0<=w&&0<=E&&0<=H&&!N&&e.add(w,H,E);this._outlineIndexCount+=3*(e.index-f)}}};a.prototype._processFill=function(a,b,c){var e;1<b.length&&(e=[]);for(var f=0,d=0;d<b.length;d++){var g=
b[d];0!==f&&e.push(f);f+=a[g].length}for(var d=2*f,f=m.acquire(),n=0;n<b.length;n++)for(var g=b[n],g=a[g],h=g.length,k=0;k<h;++k)f.push(g[k].x),f.push(g[k].y);a=q.earcut(f,e,2);b=a.length;if(0<b){e=this._fillVertexBuffer.index;for(n=0;n<d;)this._fillVertexBuffer.add(f[n++],f[n++],c);for(c=0;c<b;)this._fillIndexBuffer.add(e+a[c++],e+a[c++],e+a[c++]);this._fillIndexCount+=b}m.release(f)};a.prototype._isClipEdge=function(a,b){return a.x===b.x?-64>=a.x||4160<=a.x:a.y===b.y?-64>=a.y||4160<=a.y:!1};a._area=
function(a){for(var b=0,c=a.length-1,e=0;e<c;e++)b+=(a[e].x-a[e+1].x)*(a[e].y+a[e+1].y);b+=(a[c].x-a[0].x)*(a[c].y+a[0].y);return.5*b};return a}(b)})},"esri/core/libs/earcut/earcut":function(){define(["require","exports"],function(d,c){function h(a,b,c,e,d){var g;if(d===0<f(a,b,c,e))for(d=b;d<c;d+=e)g=k(d,a[d],a[d+1],g);else for(d=c-e;d>=b;d-=e)g=k(d,a[d],a[d+1],g);g&&A(g,g.next)&&(l(g),g=g.next);return g}function m(a,b){void 0===b&&(b=a);if(!a)return a;var c;do if(c=!1,a.steiner||!A(a,a.next)&&0!==
n(a.prev,a,a.next))a=a.next;else{l(a);a=b=a.prev;if(a===a.next)break;c=!0}while(c||a!==b);return b}function q(a,c,e,f,d,h,k){void 0===k&&(k=0);if(a){!k&&h&&(a=g(a,f,d,h));for(var w=a;a.prev!==a.next;){var p=a.prev,z=a.next,y;if(h)y=b(a,f,d,h);else a:{y=a;var x=y.prev,E=y,C=y.next;if(0<=n(x,E,C))y=!1;else{for(var H=y.next.next,N=H,P=0;H!==y.prev&&(0===P||H!==N);){P++;if(r(x.x,x.y,E.x,E.y,C.x,C.y,H.x,H.y)&&0<=n(H.prev,H,H.next)){y=!1;break a}H=H.next}y=!0}}if(y)c.push(p.index/e),c.push(a.index/e),c.push(z.index/
e),l(a),w=a=z.next;else if(a=z,a===w){if(!k)q(m(a),c,e,f,d,h,1);else if(1===k){k=c;w=e;p=a;do z=p.prev,y=p.next.next,!A(z,y)&&t(z,p,p.next,y)&&v(z,y)&&v(y,z)&&(k.push(z.index/w),k.push(p.index/w),k.push(y.index/w),l(p),l(p.next),p=a=y),p=p.next;while(p!==a);a=p;q(a,c,e,f,d,h,2)}else if(2===k)a:{k=a;do{for(w=k.next.next;w!==k.prev;){if(p=k.index!==w.index){p=k;z=w;y=void 0;if(y=p.next.index!==z.index&&p.prev.index!==z.index){y=void 0;b:{y=p;do{if(y.index!==p.index&&y.next.index!==p.index&&y.index!==
z.index&&y.next.index!==z.index&&t(y,y.next,p,z)){y=!0;break b}y=y.next}while(y!==p);y=!1}y=!y}x=void 0;if(x=y&&v(p,z)&&v(z,p)){y=p;x=!1;E=(p.x+z.x)/2;z=(p.y+z.y)/2;do y.y>z!==y.next.y>z&&y.next.y!==y.y&&E<(y.next.x-y.x)*(z-y.y)/(y.next.y-y.y)+y.x&&(x=!x),y=y.next;while(y!==p)}p=x}if(p){a=u(k,w);k=m(k,k.next);a=m(a,a.next);q(k,c,e,f,d,h);q(a,c,e,f,d,h);break a}w=w.next}k=k.next}while(k!==a)}break}}}}function b(a,b,c,e){var f=a.prev,d=a.next;if(0<=n(f,a,d))return!1;var g=f.x>a.x?f.x>d.x?f.x:d.x:a.x>
d.x?a.x:d.x,h=f.y>a.y?f.y>d.y?f.y:d.y:a.y>d.y?a.y:d.y,k=z(f.x<a.x?f.x<d.x?f.x:d.x:a.x<d.x?a.x:d.x,f.y<a.y?f.y<d.y?f.y:d.y:a.y<d.y?a.y:d.y,b,c,e);b=z(g,h,b,c,e);c=a.prevZ;for(e=a.nextZ;c&&c.z>=k&&e&&e.z<=b;){if(c!==a.prev&&c!==a.next&&r(f.x,f.y,a.x,a.y,d.x,d.y,c.x,c.y)&&0<=n(c.prev,c,c.next))return!1;c=c.prevZ;if(e!==a.prev&&e!==a.next&&r(f.x,f.y,a.x,a.y,d.x,d.y,e.x,e.y)&&0<=n(e.prev,e,e.next))return!1;e=e.nextZ}for(;c&&c.z>=k;){if(c!==a.prev&&c!==a.next&&r(f.x,f.y,a.x,a.y,d.x,d.y,c.x,c.y)&&0<=n(c.prev,
c,c.next))return!1;c=c.prevZ}for(;e&&e.z<=b;){if(e!==a.prev&&e!==a.next&&r(f.x,f.y,a.x,a.y,d.x,d.y,e.x,e.y)&&0<=n(e.prev,e,e.next))return!1;e=e.nextZ}return!0}function k(a,b,c,e){a=new w(a,b,c);e?(a.next=e.next,a.prev=e,e.next.prev=a,e.next=a):(a.prev=a,a.next=a);return a}function l(a){a.next.prev=a.prev;a.prev.next=a.next;a.prevZ&&(a.prevZ.nextZ=a.nextZ);a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function a(a){var b=a,c=a;do{if(b.x<c.x||b.x===c.x&&b.y<c.y)c=b;b=b.next}while(b!==a);return c}function e(a,b){var c=
b,e=a.x,f=a.y,d=-Infinity,g;do{if(f<=c.y&&f>=c.next.y&&c.next.y!==c.y){var n=c.x+(f-c.y)*(c.next.x-c.x)/(c.next.y-c.y);if(n<=e&&n>d){d=n;if(n===e){if(f===c.y)return c;if(f===c.next.y)return c.next}g=c.x<c.next.x?c:c.next}}c=c.next}while(c!==b);if(!g)return null;if(e===d)return g.prev;b=g;for(var n=g.x,h=g.y,k=Infinity,l,c=g.next;c!==b;)e>=c.x&&c.x>=n&&e!==c.x&&r(f<h?e:d,f,n,h,f<h?d:e,f,c.x,c.y)&&(l=Math.abs(f-c.y)/(e-c.x),(l<k||l===k&&c.x>g.x)&&v(c,a)&&(g=c,k=l)),c=c.next;return g}function g(a,b,
c,e){for(var f=void 0;f!==a;f=f.next){f=f||a;null===f.z&&(f.z=z(f.x,f.y,b,c,e));if(f.prev.next!==f||f.next.prev!==f)return f.prev.next=f,f.next.prev=f,g(a,b,c,e);f.prevZ=f.prev;f.nextZ=f.next}a.prevZ.nextZ=null;a.prevZ=null;a:for(c=1;;){e=a;f=void 0;b=a=null;for(var d=0;e;){d++;for(var f=e,r=0;r<c&&f;r++)f=f.nextZ;for(var n=c;0<r||0<n&&f;){var h=void 0;0===r?(h=f,f=f.nextZ,n--):0!==n&&f?e.z<=f.z?(h=e,e=e.nextZ,r--):(h=f,f=f.nextZ,n--):(h=e,e=e.nextZ,r--);b?b.nextZ=h:a=h;h.prevZ=b;b=h}e=f}b.nextZ=
null;c*=2;if(2>d)break a}return a}function n(a,b,c){return(b.y-a.y)*(c.x-b.x)-(b.x-a.x)*(c.y-b.y)}function t(a,b,c,e){return A(a,b)&&A(c,e)||A(a,e)&&A(c,b)?!0:0<n(a,b,c)!==0<n(a,b,e)&&0<n(c,e,a)!==0<n(c,e,b)}function f(a,b,c,e){for(var f=0,d=c-e;b<c;b+=e)f+=(a[d]-a[b])*(a[b+1]+a[d+1]),d=b;return f}function r(a,b,c,e,f,d,g,r){return 0<=(f-g)*(b-r)-(a-g)*(d-r)&&0<=(a-g)*(e-r)-(c-g)*(b-r)&&0<=(c-g)*(d-r)-(f-g)*(e-r)}function v(a,b){return 0>n(a.prev,a,a.next)?0<=n(a,b,a.next)&&0<=n(a,a.prev,b):0>n(a,
b,a.prev)||0>n(a,a.next,b)}function z(a,b,c,e,f){a=32767*(a-c)*f;b=32767*(b-e)*f;a=(a|a<<8)&16711935;a=(a|a<<4)&252645135;a=(a|a<<2)&858993459;b=(b|b<<8)&16711935;b=(b|b<<4)&252645135;b=(b|b<<2)&858993459;return(a|a<<1)&1431655765|((b|b<<1)&1431655765)<<1}function A(a,b){return a.x===b.x&&a.y===b.y}function p(a,b){return a.x-b.x}function u(a,b){var c=new w(a.index,a.x,a.y),e=new w(b.index,b.x,b.y),f=a.next,d=b.prev;a.next=b;b.prev=a;c.next=f;f.prev=c;e.next=c;c.prev=e;d.next=e;e.prev=d;return e}Object.defineProperty(c,
"__esModule",{value:!0});c.earcut=function(b,c,f){var d=c&&c.length,g=d?c[0]*f:b.length,r=h(b,0,g,f,!0),n=[];if(!r||r.next===r.prev)return n;var k,l,w;if(d){for(var d=[],t=0,v=c.length;t<v;t++){var z=h(b,c[t]*f,t<v-1?c[t+1]*f:b.length,f,!1);z===z.next&&(z.steiner=!0);d.push(a(z))}d.sort(p);for(c=0;c<d.length;c++){t=d[c];v=r;if(v=e(t,v))t=u(v,t),m(t,t.next);r=m(r,r.next)}}if(b.length>80*f){k=w=b[0];l=d=b[1];for(c=f;c<g;c+=f)t=b[c],v=b[c+1],k=Math.min(k,t),l=Math.min(l,v),w=Math.max(w,t),d=Math.max(d,
v);w=Math.max(w-k,d-l);w=0!==w?1/w:0}q(r,n,f,k,l,w);return n};c.deviation=function(a,b,c,e){var d=b&&b.length,g=Math.abs(f(a,0,d?b[0]*c:a.length,c));if(d)for(var d=0,r=b.length;d<r;d++)g-=Math.abs(f(a,b[d]*c,d<r-1?b[d+1]*c:a.length,c));for(d=b=0;d<e.length;d+=3){var r=e[d]*c,n=e[d+1]*c,h=e[d+2]*c;b+=Math.abs((a[r]-a[h])*(a[n+1]-a[r+1])-(a[r]-a[n])*(a[h+1]-a[r+1]))}return 0===g&&0===b?0:Math.abs((b-g)/g)};var w=function(){return function(a,b,c){this.index=a;this.x=b;this.y=c;this.nextZ=this.prevZ=
this.z=this.next=this.prev=null;this.steiner=!1}}()})},"esri/views/2d/engine/webgl/Geometry":function(){define(["require","exports"],function(d,c){Object.defineProperty(c,"__esModule",{value:!0});d=function(){function c(c,d){this.x=c;this.y=d}c.prototype.clone=function(){return new c(this.x,this.y)};c.prototype.equals=function(c,d){return c===this.x&&d===this.y};c.prototype.isEqual=function(c){return c.x===this.x&&c.y===this.y};c.prototype.setCoords=function(c,d){this.x=c;this.y=d};c.prototype.normalize=
function(){var c=this.x,d=this.y,c=Math.sqrt(c*c+d*d);this.x/=c;this.y/=c};c.prototype.rightPerpendicular=function(){var c=this.x;this.x=this.y;this.y=-c};c.prototype.move=function(c,d){this.x+=c;this.y+=d};c.prototype.assign=function(c){this.x=c.x;this.y=c.y};c.prototype.assignAdd=function(c,d){this.x=c.x+d.x;this.y=c.y+d.y};c.prototype.assignSub=function(c,d){this.x=c.x-d.x;this.y=c.y-d.y};c.prototype.rotate=function(c,d){var b=this.x,h=this.y;this.x=b*c-h*d;this.y=b*d+h*c};c.prototype.scale=function(c){this.x*=
c;this.y*=c};c.prototype.length=function(){var c=this.x,d=this.y;return Math.sqrt(c*c+d*d)};c.distance=function(c,d){var b=d.x-c.x;c=d.y-c.y;return Math.sqrt(b*b+c*c)};c.add=function(d,h){return new c(d.x+h.x,d.y+h.y)};c.sub=function(d,h){return new c(d.x-h.x,d.y-h.y)};return c}();c.Point=d})},"esri/views/2d/engine/vectorTiles/GeometryUtils":function(){define(["require","exports"],function(d,c){function h(c,b){c%=b;return 0<=c?c:c+b}Object.defineProperty(c,"__esModule",{value:!0});c.C_INFINITY=Number.POSITIVE_INFINITY;
c.C_PI=Math.PI;c.C_2PI=2*c.C_PI;c.C_PI_BY_2=c.C_PI/2;c.C_RAD_TO_256=128/c.C_PI;c.C_256_TO_RAD=c.C_PI/128;c.C_DEG_TO_256=256/360;c.C_DEG_TO_RAD=c.C_PI/180;c.C_SQRT2=1.414213562;c.C_SQRT2_INV=1/c.C_SQRT2;var m=1/Math.LN2;c.positiveMod=h;c.radToByte=function(d){return h(d*c.C_RAD_TO_256,256)};c.degToByte=function(d){return h(d*c.C_DEG_TO_256,256)};c.log2=function(c){return Math.log(c)*m};c.sqr=function(c){return c*c};c.interpolate=function(c,b,d){return c*(1-d)+b*d};c.between=function(c,b,d){return c>=
b&&c<=d||c>=d&&c<=b}})},"esri/views/2d/engine/vectorTiles/IndexMemoryBuffer":function(){define(["require","exports","tslib","./MemoryBuffer"],function(d,c,h,m){Object.defineProperty(c,"__esModule",{value:!0});d=function(c){function b(){return c.call(this,12)||this}h.__extends(b,c);b.prototype.add=function(b,c,a){var e=this.array;e.push(b);e.push(c);e.push(a)};return b}(m);c.TriangleIndexBuffer=d;m=function(c){function b(){return c.call(this,4)||this}h.__extends(b,c);b.prototype.add=function(b){this.array.push(b)};
return b}(m);c.PointElementMemoryBuffer=m})},"esri/views/2d/engine/vectorTiles/MemoryBuffer":function(){define(["require","exports"],function(d,c){return function(){function c(c){this._array=[];0>=c&&console.error("strideInBytes must be positive!");this._stride=c}Object.defineProperty(c.prototype,"array",{get:function(){return this._array},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"index",{get:function(){return 4*this._array.length/this._stride},enumerable:!0,configurable:!0});
Object.defineProperty(c.prototype,"itemSize",{get:function(){return this._stride},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"sizeInBytes",{get:function(){return 4*this._array.length},enumerable:!0,configurable:!0});c.prototype.reset=function(){this.array.length=0};c.prototype.toBuffer=function(){return(new Uint32Array(this._array)).buffer};c.i1616to32=function(c,d){return 65535&c|d<<16};c.i8888to32=function(c,d,b,h){return c&255|(d&255)<<8|(b&255)<<16|h<<24};c.i8816to32=function(c,
d,b){return c&255|(d&255)<<8|b<<16};return c}()})},"esri/views/2d/engine/vectorTiles/LineBucket":function(){define("require exports tslib ../../../../core/has ./Bucket ./style/StyleLayer ../webgl/TurboLine ../webgl/mesh/templates/util".split(" "),function(d,c,h,m,q,b,k,l){var a=1/3.8,e=function(a){return function(b){b.entry0=a._lineVertexBuffer.index;a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.prevNormal.x,b.prevNormal.y,0,-1,b.distance,a._ddValues);b.entry2=a._lineVertexBuffer.index;
a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.prevNormal.x,-b.prevNormal.y,0,1,b.distance,a._ddValues);b.exit0=a._lineVertexBuffer.index;a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.nextNormal.x,b.nextNormal.y,0,-1,b.distance,a._ddValues);b.exit2=a._lineVertexBuffer.index;a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.nextNormal.x,-b.nextNormal.y,0,1,b.distance,a._ddValues)}},g=function(a){return function(b){a._lineIndexBuffer.add(b.leftExit0,b.rightEntry0,
b.leftExit2);a._lineIndexBuffer.add(b.rightEntry0,b.rightEntry2,b.leftExit2)}},n=function(a){return function(b){var c=2===a._joinType?a._miterLimitCosine:a._roundLimitCosine,e=b.isCap&&0!==a._capType,d=!1;.97<b.cosine?(b.exit0=b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.bisector.x/b.cosine,b.bisector.y/b.cosine,0,-1,b.distance,a._ddValues),b.exit2=b.entry2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.bisector.x/
b.cosine,-b.bisector.y/b.cosine,0,1,b.distance,a._ddValues)):b.cosine<1-.97?(b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.prevNormal.x,b.prevNormal.y,0,-1,b.distance,a._ddValues),b.entry2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.prevNormal.x,-b.prevNormal.y,0,1,b.distance,a._ddValues),b.exit0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.nextNormal.x,b.nextNormal.y,
0,-1,b.distance,a._ddValues),b.exit2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.nextNormal.x,-b.nextNormal.y,0,1,b.distance,a._ddValues)):b.canSplit?(k.splitVertex(),0<b.sign?(b.splitInner?(b.exit0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.leftInner.x,b.leftInner.y,0,-1,b.distance,a._ddValues),b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.rightInner.x,b.rightInner.y,
0,-1,b.distance,a._ddValues)):(b.exit0=b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.bisector.x/b.cosine,b.bisector.y/b.cosine,0,-1,b.distance,a._ddValues)),b.cosine<c?(d=!b.isCap,b.entry2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.prevNormal.x,-b.prevNormal.y,0,1,b.distance,a._ddValues),b.exit2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.nextNormal.x,-b.nextNormal.y,
0,1,b.distance,a._ddValues)):b.splitOuter?(d=d||b.gapOuter,b.entry2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.leftOuter.x,-b.leftOuter.y,0,1,b.distance,a._ddValues),b.exit2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.rightOuter.x,-b.rightOuter.y,0,1,b.distance,a._ddValues)):(b.entry2=b.exit2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.bisector.x/b.cosine,-b.bisector.y/
b.cosine,0,1,b.distance,a._ddValues))):(b.splitInner?(b.exit2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.leftInner.x,-b.leftInner.y,0,1,b.distance,a._ddValues),b.entry2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.rightInner.x,-b.rightInner.y,0,1,b.distance,a._ddValues)):(b.exit2=b.entry2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.bisector.x/b.cosine,-b.bisector.y/
b.cosine,0,1,b.distance,a._ddValues)),b.cosine<c?(d=!b.isCap,b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.prevNormal.x,b.prevNormal.y,0,-1,b.distance,a._ddValues),b.exit0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.nextNormal.x,b.nextNormal.y,0,-1,b.distance,a._ddValues)):b.splitOuter?(d=d||b.gapOuter,b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.leftOuter.x,
b.leftOuter.y,0,-1,b.distance,a._ddValues),b.exit0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.rightOuter.x,b.rightOuter.y,0,-1,b.distance,a._ddValues)):(b.exit0=b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.bisector.x/b.cosine,b.bisector.y/b.cosine,0,-1,b.distance,a._ddValues)))):0<b.sign?(b.exit0=b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.bisector.x/
b.cosine,b.bisector.y/b.cosine,0,-1,b.distance,a._ddValues),b.cosine<c?(d=!b.isCap,b.entry2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.prevNormal.x,-b.prevNormal.y,0,1,b.distance,a._ddValues),b.exit2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.nextNormal.x,-b.nextNormal.y,0,1,b.distance,a._ddValues)):(b.entry2=b.exit2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.bisector.x/
b.cosine,-b.bisector.y/b.cosine,0,1,b.distance,a._ddValues))):(b.exit2=b.entry2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.bisector.x/b.cosine,-b.bisector.y/b.cosine,0,1,b.distance,a._ddValues),b.cosine<c?(d=!b.isCap,b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.prevNormal.x,b.prevNormal.y,0,-1,b.distance,a._ddValues),b.exit0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,
b.nextNormal.x,b.nextNormal.y,0,-1,b.distance,a._ddValues)):(b.exit0=b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.bisector.x/b.cosine,b.bisector.y/b.cosine,0,-1,b.distance,a._ddValues)));b.canSplit&&(b.splitInner||b.splitOuter)||d||e?(c=b.entry1=b.exit1=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,0,0,0,0,b.distance,a._ddValues)):c=b.entry1=b.exit1=null;if(d&&1!==a._joinType)a._lineIndexBuffer.add(c,0<b.sign?
b.exit2:b.entry0,0<b.sign?b.entry2:b.exit0);else if(e&&1===a._capType||d&&1===a._joinType){var f=d=e=void 0,g=void 0,n=void 0,h=void 0;if(b.isCap){var l=Math.PI,n=Math.ceil(l/.8),h=l/n;b.isFirstVertex?(e=b.prevNormal.x,d=b.prevNormal.y,f=b.entry0,g=b.entry2):b.isLastVertex&&(e=-b.nextNormal.x,d=-b.nextNormal.y,f=b.exit2,g=b.exit0)}else l=2*Math.acos(b.cosine),n=Math.ceil(l/.8),h=l/n,e=0<b.sign?-b.prevNormal.x:b.nextNormal.x,d=0<b.sign?-b.prevNormal.y:b.nextNormal.y,f=0<b.sign?b.entry2:b.exit0,g=0<
b.sign?b.exit2:b.entry0;for(var l=Math.cos(h),h=Math.sin(h),r=h*e+l*d,e=l*e-h*d,d=r,m=void 0,r=void 0,t=0;t<n;++t){m=r;if(t<n-1)if(b.isCap){var q=b.isFirstVertex?-1:1,r=a._lineVertexBuffer.index;a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,e,d,q,0,b.distance,a._ddValues)}else r=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,e,d,0,b.sign,b.distance,a._ddValues);a._lineIndexBuffer.add(0===t?f:m,c,t===n-1?g:r);m=h*e+l*d;e=l*e-h*d;d=m}}else e&&2===
a._capType&&(e=b.isFirstVertex?1:-1,f=d=void 0,a._hasPattern?(d=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.prevNormal.x-e*b.inbound.x,b.prevNormal.y-e*b.inbound.y,-e,-1,b.distance,a._ddValues),f=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.prevNormal.x-e*b.inbound.x,-b.prevNormal.y-e*b.inbound.y,-e,1,b.distance,a._ddValues)):(d=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,
b.prevNormal.x-e*b.inbound.x,b.prevNormal.y-e*b.inbound.y,0,-1,b.distance,a._ddValues),f=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.prevNormal.x-e*b.inbound.x,-b.prevNormal.y-e*b.inbound.y,0,1,b.distance,a._ddValues)),0<e?(a._lineIndexBuffer.add(c,b.entry2,f),a._lineIndexBuffer.add(c,f,d),a._lineIndexBuffer.add(c,d,b.entry0)):(a._lineIndexBuffer.add(c,f,b.exit2),a._lineIndexBuffer.add(c,d,f),a._lineIndexBuffer.add(c,b.exit0,d)))}},t=function(a){return function(b){a._lineIndexBuffer.add(b.leftExit0,
b.rightEntry0,null!=b.leftExit1?b.leftExit1:b.leftExit2);a._lineIndexBuffer.add(b.rightEntry0,null!=b.rightEntry1?b.rightEntry1:b.rightEntry2,null!=b.leftExit1?b.leftExit1:b.leftExit2);null!=b.leftExit1&&null!=b.rightEntry1?(a._lineIndexBuffer.add(b.leftExit1,b.rightEntry1,b.leftExit2),a._lineIndexBuffer.add(b.rightEntry1,b.rightEntry2,b.leftExit2)):null!=b.leftExit1?a._lineIndexBuffer.add(b.leftExit1,b.rightEntry2,b.leftExit2):null!=b.rightEntry1&&a._lineIndexBuffer.add(b.rightEntry1,b.rightEntry2,
b.leftExit2)}};return function(c){function d(a,b,d,f){b=c.call(this,a,b)||this;b._tessellationOptions={};b.tessellationProperties={_lineVertexBuffer:null,_lineIndexBuffer:null,_hasPattern:null,_ddValues:null,_capType:null,_joinType:null,_miterLimitCosine:null,_roundLimitCosine:null};if(a.hasDataDrivenLine!==d.isDataDriven())throw Error("incompatible line buffer");b.tessellationProperties._lineVertexBuffer=d;b.tessellationProperties._lineIndexBuffer=f;b.tessellationProperties._hasPattern=a.getPaintValue("line-pattern",
b.zoom)||0<a.getPaintValue("line-dasharray",b.zoom).length;b._isThinLine=a.isThinLine;b._tessellationCallbacks=b._isThinLine?{vertex:e(b.tessellationProperties),bridge:g(b.tessellationProperties)}:{vertex:n(b.tessellationProperties),bridge:t(b.tessellationProperties)};return b}h.__extends(d,c);Object.defineProperty(d.prototype,"lineIndexStart",{get:function(){return this._lineIndexStart},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"lineIndexCount",{get:function(){return this._lineIndexCount},
enumerable:!0,configurable:!0});d.prototype.assignBufferInfo=function(a){a._lineIndexStart=this._lineIndexStart;a._lineIndexCount=this._lineIndexCount};d.prototype.processFeatures=function(a){this._lineIndexStart=this.tessellationProperties._lineIndexBuffer.index;this._lineIndexCount=0;var c=this.layer,e=this.zoom,d=c.hasDataDrivenLine;a&&a.setExtent(this.layerExtent);for(var f=[1,1,1,1],g=1,n=1,h=0,r=this._features;h<r.length;h++){var m=r[h],t=new b.LineLayout(c,e,m);!this.tessellationProperties._hasPattern&&
c.hasDataDrivenColor&&(f=c.getPaintValue("line-color",e,m));c.hasDataDrivenOpacity&&(g=c.getPaintValue("line-opacity",e,m));c.hasDataDrivenWidth&&(n=c.getPaintValue("line-width",e,m));var q=void 0;if(d&&(q={color:f,opacity:g,size:Math.max(Math.min(n,256),0)},0>=q.size||0>=q.opacity||0>=q.color[3]))continue;this.tessellationProperties._capType=t.cap;this.tessellationProperties._joinType=t.join;this.tessellationProperties._miterLimitCosine=l.getLimitCosine(t.miterLimit);this.tessellationProperties._roundLimitCosine=
l.getLimitCosine(t.roundLimit);m=m.getGeometry(a);this._processFeature(m,q)}k.cleanup()};d.prototype._processFeature=function(a,b){if(a)for(var c=a.length,e=0;e<c;e++)this._processGeometry(a[e],b)};d.prototype._processGeometry=function(b,c){if(!(2>b.length)){for(var e=b[0],d=1,f,g;d<b.length;)f=b[d].x-e.x,g=b[d].y-e.y,1E-6>f*f+g*g?b.splice(d,1):(e=b[d],++d);2>b.length||(e=this.tessellationProperties._lineIndexBuffer.index,this._tessellationOptions.trackDistance=this.tessellationProperties._hasPattern,
this._tessellationOptions.initialDistance=0,this._tessellationOptions.thin=this._isThinLine,this._tessellationOptions.wrapDistance=65535,this._tessellationOptions.outerBisectorAutoSplitThreshold=a,this._tessellationOptions.enableOuterBisectorSplit=this.tessellationProperties._hasPattern,this._tessellationOptions.innerBisectorAutoSplitThreshold=a,this._tessellationOptions.enableInnerBisectorSplit=this.tessellationProperties._hasPattern,this.tessellationProperties._ddValues=c,k.tessellate(b,this._tessellationOptions,
this._tessellationCallbacks),this._lineIndexCount+=3*(this.tessellationProperties._lineIndexBuffer.index-e))}};return d}(q)})},"esri/views/2d/engine/vectorTiles/style/StyleLayer":function(){define("require exports tslib ./Filter ./StyleDefinition ./StyleProperty ../../webgl/definitions".split(" "),function(d,c,h,m,q,b,k){Object.defineProperty(c,"__esModule",{value:!0});d=function(){function a(a,b,c){this.type=a;this.typeName=b.type;this.id=b.id;this.source=b.source;this.sourceLayer=b["source-layer"];
this.minzoom=b.minzoom;this.maxzoom=b.maxzoom;this.filter=b.filter;this.layout=b.layout;this.paint=b.paint;this.z=c;switch(a){case 0:this._layoutDefinition=q.StyleDefinition.backgroundLayoutDefinition;this._paintDefinition=q.StyleDefinition.backgroundPaintDefinition;break;case 1:this._layoutDefinition=q.StyleDefinition.fillLayoutDefinition;this._paintDefinition=q.StyleDefinition.fillPaintDefinition;break;case 2:this._layoutDefinition=q.StyleDefinition.lineLayoutDefinition;this._paintDefinition=q.StyleDefinition.linePaintDefinition;
break;case 3:this._layoutDefinition=q.StyleDefinition.symbolLayoutDefinition;this._paintDefinition=q.StyleDefinition.symbolPaintDefinition;break;case 4:this._layoutDefinition=q.StyleDefinition.circleLayoutDefinition,this._paintDefinition=q.StyleDefinition.circlePaintDefinition}this._layoutProperties=this._parseLayout(this.layout);this._paintProperties=this._parsePaint(this.paint)}a.prototype.getFeatureFilter=function(){return void 0!==this._featureFilter?this._featureFilter:this._featureFilter=m.createFilter(this.filter)};
a.prototype.getLayoutProperty=function(a){var b=this._layoutProperties;if(b)return b[a]};a.prototype.getPaintProperty=function(a){var b=this._paintProperties;if(b)return b[a]};a.prototype.getLayoutValue=function(a,b,c){var e,d=this._layoutProperties;d&&(d=d[a])&&(e=d.getValue(b,c));var g=this._layoutDefinition[a];void 0===e&&(e=g["default"]);"enum"===g.type?e=g.values.indexOf(e):"array"===g.type&&"enum"===g.value&&(e=e.map(function(a){return g.values.indexOf(a)}));return e};a.prototype.getPaintValue=
function(a,b,c){var e,d=this._paintProperties;d&&(d=d[a])&&(e=d.getValue(b,c));a=this._paintDefinition[a];void 0===e&&(e=a["default"]);"enum"===a.type&&(e=a.values.indexOf(e));return e};a.prototype.isPainterDataDriven=function(){var a=this._paintProperties;if(a)for(var b in a)if(a[b].isDataDriven)return!0;return!1};a.prototype._parseLayout=function(a){var c={},e;for(e in a){var d=this._layoutDefinition[e];d&&(c[e]=new b(d,a[e]))}return c};a.prototype._parsePaint=function(a){var c={},e;for(e in a){var d=
this._paintDefinition[e];d&&(c[e]=new b(d,a[e]))}return c};return a}();c.StyleLayer=d;var l=function(a){function b(b,c,e){return a.call(this,b,c,e)||this}h.__extends(b,a);return b}(d);c.BackgroundStyleLayer=l;l=function(a){function b(b,c,e){b=a.call(this,b,c,e)||this;c=b.getPaintProperty("fill-color");b.hasDataDrivenColor=c?c.isDataDriven:!1;c=b.getPaintProperty("fill-opacity");b.hasDataDrivenOpacity=c?c.isDataDriven:!1;b.hasDataDrivenFill=b.hasDataDrivenColor||b.hasDataDrivenOpacity;c=b.getPaintProperty("fill-outline-color");
b.outlineUsesFillColor=!c;b.hasDataDrivenOutlineColor=c?c.isDataDriven:!1;b.hasDataDrivenOutline=(c?b.hasDataDrivenOutlineColor:b.hasDataDrivenColor)||b.hasDataDrivenOpacity;return b}h.__extends(b,a);return b}(d);c.FillStyleLayer=l;l=function(a){function b(b,c,e){b=a.call(this,b,c,e)||this;e=b.getPaintProperty("line-color");b.hasDataDrivenColor=e?e.isDataDriven:!1;e=b.getPaintProperty("line-opacity");b.hasDataDrivenOpacity=e?e.isDataDriven:!1;e=b.getPaintProperty("line-width");b.hasDataDrivenWidth=
e?e.isDataDriven:!1;b.hasDataDrivenLine=b.hasDataDrivenColor||b.hasDataDrivenOpacity||b.hasDataDrivenWidth;c=c.paint["line-width"];c||(c=q.StyleDefinition.linePaintDefinition["line-width"].default);b.isThinLine=!b.hasDataDrivenWidth&&"number"===typeof c&&c<k.THIN_LINE_THRESHOLD;return b}h.__extends(b,a);return b}(d);c.LineStyleLayer=l;l=function(a){function b(b,c,e){b=a.call(this,b,c,e)||this;c=b.getPaintProperty("icon-color");b.hasDataDrivenIconColor=c?c.isDataDriven:!1;c=b.getPaintProperty("icon-opacity");
b.hasDataDrivenIconOpacity=c?c.isDataDriven:!1;c=b.getLayoutProperty("icon-size");b.hasDataDrivenIconSize=c?c.isDataDriven:!1;b.hasDataDrivenIcon=b.hasDataDrivenIconColor||b.hasDataDrivenIconOpacity||b.hasDataDrivenIconSize;c=b.getPaintProperty("text-color");b.hasDataDrivenTextColor=c?c.isDataDriven:!1;c=b.getPaintProperty("text-opacity");b.hasDataDrivenTextOpacity=c?c.isDataDriven:!1;c=b.getLayoutProperty("text-size");b.hasDataDrivenTextSize=c?c.isDataDriven:!1;b.hasDataDrivenText=b.hasDataDrivenTextColor||
b.hasDataDrivenTextOpacity||b.hasDataDrivenTextSize;return b}h.__extends(b,a);return b}(d);c.SymbolStyleLayer=l;d=function(a){function b(b,c,e){b=a.call(this,b,c,e)||this;c=b.getPaintProperty("circle-radius");b.hasDataDrivenRadius=c?c.isDataDriven:!1;c=b.getPaintProperty("circle-color");b.hasDataDrivenColor=c?c.isDataDriven:!1;c=b.getPaintProperty("circle-opacity");b.hasDataDrivenOpacity=c?c.isDataDriven:!1;c=b.getPaintProperty("circle-stroke-width");b.hasDataDrivenStrokeWidth=c?c.isDataDriven:!1;
c=b.getPaintProperty("circle-stroke-color");b.hasDataDrivenStrokeColor=c?c.isDataDriven:!1;c=b.getPaintProperty("circle-stroke-opacity");b.hasDataDrivenStrokeOpacity=c?c.isDataDriven:!1;c=b.getPaintProperty("circle-blur");b.hasDataDrivenBlur=c?c.isDataDriven:!1;return b}h.__extends(b,a);return b}(d);c.CircleStyleLayer=d;d=function(){return function(a,b,c){this.cap=a.getLayoutValue("line-cap",b,c);this.join=a.getLayoutValue("line-join",b,c);this.miterLimit=a.getLayoutValue("line-miter-limit",b,c);
this.roundLimit=a.getLayoutValue("line-round-limit",b,c)}}();c.LineLayout=d;d=function(){return function(a,b,c,d){this.allowOverlap=a.getLayoutValue("icon-allow-overlap",b,d);this.ignorePlacement=a.getLayoutValue("icon-ignore-placement",b,d);this.optional=a.getLayoutValue("icon-optional",b,d);this.rotationAlignment=a.getLayoutValue("icon-rotation-alignment",b,d);this.size=a.getLayoutValue("icon-size",b,d);this.rotate=a.getLayoutValue("icon-rotate",b,d);this.padding=a.getLayoutValue("icon-padding",
b,d);this.keepUpright=a.getLayoutValue("icon-keep-upright",b,d);this.offset=a.getLayoutValue("icon-offset",b,d);2===this.rotationAlignment&&(this.rotationAlignment=c?0:1)}}();c.IconLayout=d;d=function(){return function(a,b,c,d){this.allowOverlap=a.getLayoutValue("text-allow-overlap",b,d);this.ignorePlacement=a.getLayoutValue("text-ignore-placement",b,d);this.optional=a.getLayoutValue("text-optional",b,d);this.rotationAlignment=a.getLayoutValue("text-rotation-alignment",b,d);this.fontArray=a.getLayoutValue("text-font",
b,d);this.maxWidth=a.getLayoutValue("text-max-width",b,d);this.lineHeight=a.getLayoutValue("text-line-height",b,d);this.letterSpacing=a.getLayoutValue("text-letter-spacing",b,d);this.justify=a.getLayoutValue("text-justify",b,d);this.anchor=a.getLayoutValue("text-anchor",b,d);this.maxAngle=a.getLayoutValue("text-max-angle",b,d);this.size=a.getLayoutValue("text-size",b,d);this.rotate=a.getLayoutValue("text-rotate",b,d);this.padding=a.getLayoutValue("text-padding",b,d);this.keepUpright=a.getLayoutValue("text-keep-upright",
b,d);this.transform=a.getLayoutValue("text-transform",b,d);this.offset=a.getLayoutValue("text-offset",b,d);this.writingMode=a.getLayoutValue("text-writing-mode",b,d);2===this.rotationAlignment&&(this.rotationAlignment=c?0:1)}}();c.TextLayout=d})},"esri/views/2d/engine/vectorTiles/style/Filter":function(){define(["require","exports"],function(d,c){return function(){function c(d,h,b){this._op=d;"$type"===h?(this._val=b instanceof Array?b.map(function(b){return c._types.indexOf(b)}):c._types.indexOf(b),
this._op+=11):(this._key=h,this._val=b)}c.prototype.filter=function(c){switch(this._op){case 0:return this._val;case 1:return c.values[this._key]===this._val;case 2:return c.values[this._key]!==this._val;case 3:return c.values[this._key]<this._val;case 4:return c.values[this._key]>this._val;case 5:return c.values[this._key]<=this._val;case 6:return c.values[this._key]>=this._val;case 7:return-1!==this._val.indexOf(c.values[this._key]);case 8:return-1===this._val.indexOf(c.values[this._key]);case 9:for(var d=
0,b=this._val;d<b.length;d++){var h=b[d];if(h.filter(c))return!0}return!1;case 10:d=0;for(b=this._val;d<b.length;d++)if(h=b[d],!h.filter(c))return!1;return!0;case 11:d=0;for(b=this._val;d<b.length;d++)if(h=b[d],h.filter(c))return!1;return!0;case 12:return c.type===this._val;case 13:return c.type!==this._val;case 14:return c.type<this._val;case 15:return c.type>this._val;case 16:return c.type>=this._val;case 17:return c.type<=this._val;case 18:return-1!==this._val.indexOf(c.type);case 19:return-1===
this._val.indexOf(c.type);case 20:return void 0!==c.values[this._key];case 21:return void 0===c.values[this._key]}};c.createFilter=function(d){if(!d)return new c(0,void 0,!0);var h=d[0];if(1>=d.length)return new c(0,void 0,"any"!==h);switch(h){case "\x3d\x3d":return new c(1,d[1],d[2]);case "!\x3d":return new c(2,d[1],d[2]);case "\x3e":return new c(4,d[1],d[2]);case "\x3c":return new c(3,d[1],d[2]);case "\x3e\x3d":return new c(6,d[1],d[2]);case "\x3c\x3d":return new c(5,d[1],d[2]);case "in":return new c(7,
d[1],d.slice(2));case "!in":return new c(8,d[1],d.slice(2));case "any":return new c(9,void 0,d.slice(1).map(c.createFilter.bind(this)));case "all":return new c(10,void 0,d.slice(1).map(c.createFilter.bind(this)));case "none":return new c(11,void 0,d.slice(1).map(c.createFilter.bind(this)));case "has":return new c(20,d[1],void 0);case "!has":return new c(21,d[1],void 0);default:throw Error("invalid operator: "+h);}};c._types=["Unknown","Point","LineString","Polygon"];return c}()})},"esri/views/2d/engine/vectorTiles/style/StyleDefinition":function(){define(["require",
"exports"],function(d,c){Object.defineProperty(c,"__esModule",{value:!0});d=function(){function c(){}c.backgroundLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"}};c.fillLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"}};c.lineLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"},"line-cap":{type:"enum",values:["butt","round","square"],default:"butt"},"line-join":{type:"enum",values:["bevel",
"round","miter"],default:"miter"},"line-miter-limit":{type:"number",default:2},"line-round-limit":{type:"number",default:1.05}};c.symbolLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"},"symbol-avoid-edges":{type:"boolean",default:!1},"symbol-placement":{type:"enum",values:["point","line"],default:"point"},"symbol-spacing":{type:"number",minimum:1,default:250},"icon-allow-overlap":{type:"boolean",default:!1},"icon-ignore-placement":{type:"boolean",default:!1},
"icon-image":{type:"string"},"icon-keep-upright":{type:"boolean",default:!1},"icon-offset":{type:"array",value:"number",length:2,default:[0,0]},"icon-optional":{type:"boolean",default:!1},"icon-padding":{type:"number",minimum:0,default:2},"icon-rotate":{type:"number",default:0},"icon-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:"auto"},"icon-size":{type:"number",minimum:0,default:1},"text-allow-overlap":{type:"boolean",default:!1},"text-anchor":{type:"enum",values:"center left right top bottom top-left top-right bottom-left bottom-right".split(" "),
default:"center"},"text-field":{type:"string"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"]},"text-ignore-placement":{type:"boolean",default:!1},"text-justify":{type:"enum",values:["left","center","right"],default:"center"},"text-keep-upright":{type:"boolean",default:!0},"text-letter-spacing":{type:"number",default:0},"text-line-height":{type:"number",default:1.2},"text-max-angle":{type:"number",minimum:0,default:45},"text-max-width":{type:"number",
minimum:0,default:10},"text-offset":{type:"array",value:"number",length:2,default:[0,0]},"text-optional":{type:"boolean",default:!1},"text-padding":{type:"number",minimum:0,default:2},"text-rotate":{type:"number",default:0},"text-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:"auto"},"text-size":{type:"number",minimum:0,default:16},"text-transform":{type:"enum",values:["none","uppercase","lowercase"],default:"none"},"text-writing-mode":{type:"array",value:"enum",values:["horizontal",
"vertical"],default:["horizontal"]}};c.circleLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"}};c.backgroundPaintDefinition={"background-color":{type:"color",default:[0,0,0,1]},"background-opacity":{type:"number",minimum:0,maximum:1,default:1},"background-pattern":{type:"string"}};c.fillPaintDefinition={"fill-antialias":{type:"boolean",default:!0},"fill-color":{type:"color",default:[0,0,0,1]},"fill-opacity":{type:"number",minimum:0,maximum:1,default:1},"fill-outline-color":{type:"color",
default:[0,0,0,0]},"fill-pattern":{type:"string"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0]},"fill-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"}};c.linePaintDefinition={"line-blur":{type:"number",minimum:0,default:0},"line-color":{type:"color",default:[0,0,0,1]},"line-dasharray":{type:"array",value:"number",default:[]},"line-gap-width":{type:"number",minimum:0,default:0},"line-offset":{type:"number",default:0},"line-opacity":{type:"number",minimum:0,
maximum:1,default:1},"line-pattern":{type:"string"},"line-translate":{type:"array",value:"number",length:2,default:[0,0]},"line-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"},"line-width":{type:"number",minimum:0,default:1}};c.symbolPaintDefinition={"icon-color":{type:"color",default:[0,0,0,1]},"icon-halo-blur":{type:"number",minimum:0,default:0},"icon-halo-color":{type:"color",default:[0,0,0,0]},"icon-halo-width":{type:"number",minimum:0,default:0},"icon-opacity":{type:"number",
minimum:0,maximum:1,default:1},"icon-translate":{type:"array",value:"number",length:2,default:[0,0]},"icon-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"},"text-color":{type:"color",default:[0,0,0,1]},"text-halo-blur":{type:"number",minimum:0,default:0},"text-halo-color":{type:"color",default:[0,0,0,0]},"text-halo-width":{type:"number",minimum:0,default:0},"text-opacity":{type:"number",minimum:0,maximum:1,default:1},"text-translate":{type:"array",value:"number",length:2,default:[0,
0]},"text-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"}};c.rasterPaintDefinition={"raster-opacity":{type:"number",minimum:0,maximum:1,default:1},"raster-hue-rotate":{type:"number",default:0},"raster-brightness-min":{type:"number",minimum:0,maximum:1,default:0},"raster-brightness-max":{type:"number",minimum:0,maximum:1,default:1},"raster-saturation":{type:"number",minimum:-1,maximum:1,default:0},"raster-contrast":{type:"number",minimum:-1,maximum:1,default:0},"raster-fade-duration":{type:"number",
minimum:0,default:300}};c.circlePaintDefinition={"circle-blur":{type:"number",minimum:0,default:0},"circle-color":{type:"color",default:[0,0,0,1]},"circle-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-radius":{type:"number",minimum:0,default:5},"circle-stroke-color":{type:"color",default:[0,0,0,1]},"circle-stroke-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-stroke-width":{type:"number",minimum:0,default:0},"circle-translate":{type:"array",value:"number",length:2,
default:[0,0]},"circle-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"}};return c}();c.StyleDefinition=d})},"esri/views/2d/engine/vectorTiles/style/StyleProperty":function(){define(["require","exports","../../../../../Color","../GeometryUtils"],function(d,c,h,m){return function(){function c(b,d){this.isDataDriven=!1;var h;switch(b.type){case "number":h=!0;break;case "color":h=!0;d=c._parseColor(d);break;case "array":h="number"===b.value;break;default:h=!1}null==d&&(d=b.default);
h&&"interval"===d.type&&(h=!1);var a=d&&d.stops&&0<d.stops.length;if(a)for(var e=0,g=d.stops;e<g.length;e++){var n=g[e];n[1]=this._validate(n[1],b)}if(this.isDataDriven=d?!!d.property:!1)if(void 0!==d.default&&(d.default=this._validate(d.default,b)),a)switch(d.type){case "identity":this.getValue=this._buildIdentity(d,b);break;case "categorical":this.getValue=this._buildCategorical(d,b);break;default:this.getValue=h?this._buildInterpolate(d,b):this._buildInterval(d,b)}else this.getValue=this._buildIdentity(d,
b);else a?this.getValue=h?this._buildZoomInterpolate(d):this._buildZoomInterval(d):(d=this._validate(d,b),this.getValue=this._buildSimple(d))}c.prototype._validate=function(b,c){if("number"===c.type){if(b<c.minimum)return c.minimum;if(b>c.maximum)return c.maximum}return b};c.prototype._buildSimple=function(b){return function(){return b}};c.prototype._buildIdentity=function(b,d){var h=this;return function(a,e){var g;e&&(g=e.values[b.property],"color"===d.type&&(g=c._parseColor(g)));void 0===g&&(g=
b.default);return void 0!==g?h._validate(g,d):d.default}};c.prototype._buildCategorical=function(b,c){var d=this;return function(a,e){var g;e&&(g=e.values[b.property]);g=d._categorical(g,b.stops);return void 0!==g?g:void 0!==b.default?b.default:c.default}};c.prototype._buildInterval=function(b,c){var d=this;return function(a,e){var g;e&&(g=e.values[b.property]);return"number"===typeof g?d._interval(g,b.stops):void 0!==b.default?b.default:c.default}};c.prototype._buildInterpolate=function(b,c){var d=
this;return function(a,e){var g;e&&(g=e.values[b.property]);return"number"===typeof g?d._interpolate(g,b.stops,b.base||1):void 0!==b.default?b.default:c.default}};c.prototype._buildZoomInterpolate=function(b){var c=this;return function(d){return c._interpolate(d,b.stops,b.base||1)}};c.prototype._buildZoomInterval=function(b){var c=this;return function(d){return c._interval(d,b.stops)}};c.prototype._categorical=function(b,c){for(var d=c.length,a=0;a<d;a++)if(c[a][0]===b)return c[a][1]};c.prototype._interval=
function(b,c){for(var d=c.length,a=0,e=0;e<d;e++)if(c[e][0]<=b)a=e;else break;return c[a][1]};c.prototype._interpolate=function(b,c,d){for(var a,e,g=c.length,h=0;h<g;h++){var l=c[h];if(l[0]<=b)a=l;else{e=l;break}}if(a&&e){h=e[0]-a[0];b-=a[0];d=1===d?b/h:(Math.pow(d,b)-1)/(Math.pow(d,h)-1);if(Array.isArray(a[1])){a=a[1];e=e[1];b=[];for(h=0;h<a.length;h++)b.push(m.interpolate(a[h],e[h],d));return b}return m.interpolate(a[1],e[1],d)}if(a)return a[1];if(e)return e[1]};c._isEmpty=function(b){for(var c in b)if(b.hasOwnProperty(c))return!1;
return!0};c._parseColor=function(b){if(Array.isArray(b))return b;if("string"===typeof b){if(b=new h(b),!this._isEmpty(b))return h.toUnitRGBA(b)}else return b&&b.default&&(b.default=c._parseColor(b.default)),b&&b.stops&&(b.stops=b.stops.map(function(b){return[b[0],c._parseColor(b[1])]})),b};return c}()})},"esri/Color":function(){define(["require","exports","./core/mathUtils","./core/maybe","./core/accessorSupport/ensureType"],function(d,c,h,m,q){function b(a){return h.clamp(q.ensureInteger(a),0,255)}
function k(a,b,c){a=Number(a);return isNaN(a)?c:a<b?b:a>c?c:a}function l(a,b,c){0>c&&++c;1<c&&--c;var e=6*c;return 1>e?a+(b-a)*e:1>2*c?b:2>3*c?a+(b-a)*(2/3-c)*6:a}d=function(){function a(a){this.b=this.g=this.r=255;this.a=1;a&&this.setColor(a)}a.blendColors=function(b,c,d,h){void 0===h&&(h=new a);h.r=Math.round(b.r+(c.r-b.r)*d);h.g=Math.round(b.g+(c.g-b.g)*d);h.b=Math.round(b.b+(c.b-b.b)*d);h.a=b.a+(c.a-b.a)*d;return h._sanitize()};a.fromRgb=function(b,c){var e=b.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);
if(e){b=e[2].split(/\s*,\s*/);e=e[1];if("rgb"===e&&3===b.length||"rgba"===e&&4===b.length)return e=b[0],"%"===e.charAt(e.length-1)?(e=b.map(function(a){return 2.56*parseFloat(a)}),4===b.length&&(e[3]=parseFloat(b[3])),a.fromArray(e,c)):a.fromArray(b.map(function(a){return parseFloat(a)}),c);if("hsl"===e&&3===b.length||"hsla"===e&&4===b.length){var e=(parseFloat(b[0])%360+360)%360/360,d=parseFloat(b[1])/100,f=parseFloat(b[2])/100,d=.5>=f?f*(d+1):f+d-f*d,f=2*f-d,e=[256*l(f,d,e+1/3),256*l(f,d,e),256*
l(f,d,e-1/3),1];4===b.length&&(e[3]=parseFloat(b[3]));return a.fromArray(e,c)}}return null};a.fromHex=function(b,c){void 0===c&&(c=new a);var e=4===b.length?4:8,d=(1<<e)-1,f=Number("0x"+b.substr(1));if(isNaN(f))return null;["b","g","r"].forEach(function(a){var b=f&d;f>>=e;c[a]=4===e?17*b:b});c.a=1;return c};a.fromArray=function(b,c){void 0===c&&(c=new a);c._set(Number(b[0]),Number(b[1]),Number(b[2]),Number(b[3]));isNaN(c.a)&&(c.a=1);return c._sanitize()};a.fromString=function(b,c){var e=a.named[b];
return e&&a.fromArray(e,c)||a.fromRgb(b,c)||a.fromHex(b,c)};a.fromJSON=function(b){return b&&new a([b[0],b[1],b[2],b[3]/255])};a.toUnitRGB=function(a){return m.isSome(a)?[a.r/255,a.g/255,a.b/255]:null};a.toUnitRGBA=function(a){return m.isSome(a)?[a.r/255,a.g/255,a.b/255,null!=a.a?a.a:1]:null};Object.defineProperty(a.prototype,"isBright",{get:function(){return 127<=.299*this.r+.587*this.g+.114*this.b},enumerable:!0,configurable:!0});a.prototype.setColor=function(b){"string"===typeof b?a.fromString(b,
this):Array.isArray(b)?a.fromArray(b,this):(this._set(b.r,b.g,b.b,b.a),b instanceof a||this._sanitize());return this};a.prototype.toRgb=function(){return[this.r,this.g,this.b]};a.prototype.toRgba=function(){return[this.r,this.g,this.b,this.a]};a.prototype.toHex=function(){var a=this.r.toString(16),b=this.g.toString(16),c=this.b.toString(16);return"#"+(2>a.length?"0"+a:a)+(2>b.length?"0"+b:b)+(2>c.length?"0"+c:c)};a.prototype.toCss=function(a){void 0===a&&(a=!1);var b=this.r+", "+this.g+", "+this.b;
return a?"rgba("+b+", "+this.a+")":"rgb("+b+")"};a.prototype.toString=function(){return this.toCss(!0)};a.prototype.toJSON=function(){return this.toArray()};a.prototype.toArray=function(a){void 0===a&&(a=0);var c=b(this.r),e=b(this.g),d=b(this.b);return 0===a||1!==this.a?[c,e,d,b(255*this.a)]:[c,e,d]};a.prototype.clone=function(){return new a(this.toRgba())};a.prototype.hash=function(){return this.r<<24|this.g<<16|this.b<<8|255*this.a};a.prototype._sanitize=function(){this.r=Math.round(k(this.r,0,
255));this.g=Math.round(k(this.g,0,255));this.b=Math.round(k(this.b,0,255));this.a=k(this.a,0,1);return this};a.prototype._set=function(a,b,c,d){this.r=a;this.g=b;this.b=c;this.a=d};a.named={transparent:[0,0,0,0],black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],aliceblue:[240,
248,255],antiquewhite:[250,235,215],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],blanchedalmond:[255,235,205],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,
0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],
forestgreen:[34,139,34],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,
211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,
250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],oldlace:[253,245,230],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,
221],powderblue:[176,224,230],rebeccapurple:[102,51,153],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,
222,179],whitesmoke:[245,245,245],yellowgreen:[154,205,50]};return a}();d.prototype.declaredClass="esri.Color";return d})},"esri/core/mathUtils":function(){define(["require","exports"],function(d,c){function h(b,c,a){return b<c?c:b>a?a:b}function m(b,c,a){return b+(c-b)*a}function q(c){b[0]=c;return b[0]}Object.defineProperty(c,"__esModule",{value:!0});var b=new Float32Array(1);c.isFinite=Number.isFinite||function(b){return"number"===typeof b&&window.isFinite(b)};c.isNaN=Number.isNaN||function(b){return b!==
b};c.nextHighestPowerOfTwo=function(b){--b;for(var c=1;32>c;c<<=1)b|=b>>c;return b+1};c.clamp=h;c.glClamp=function(b,c,a){return Math.min(Math.max(b,c),a)};c.isPowerOfTwo=function(b){return 0===(b&b-1)};c.nextHighestPowerOfTen=function(b){return Math.pow(10,Math.ceil(Math.LOG10E*Math.log(b)))};c.sign=Math.sign||function(b){return+(0<b)-+(0>b)||+b};c.log2=Math.log2||function(b){return Math.log(b)/Math.LN2};c.lerp=m;c.scale=function(b,c,a,e,d){return m(e,d,(b-c)/(a-c))};c.deg2rad=function(b){return b*
Math.PI/180};c.rad2deg=function(b){return 180*b/Math.PI};c.reciprocalClamped=function(b,c){void 0===c&&(c=1E-6);return(0>b?-1:1)/Math.max(Math.abs(b),c)};c.acosClamped=function(b){return Math.acos(h(b,-1,1))};c.asinClamped=function(b){return Math.asin(h(b,-1,1))};c.floatEqualRelative=function(b,d,a){void 0===a&&(a=1E-6);if(c.isNaN(b)||c.isNaN(d))return!1;if(b===d)return!0;var e=Math.abs(b-d),g=Math.abs(b),h=Math.abs(d);if(0===b||0===d||1E-12>g&&1E-12>h){if(e>.01*a)return!1}else if(e/(g+h)>a)return!1;
return!0};c.floatEqualAbsolute=function(b,d,a){void 0===a&&(a=1E-6);return c.isNaN(b)||c.isNaN(d)?!1:(b>d?b-d:d-b)<=a};c.clampFloat32=function(b){return q(Math.max(-c.NUMBER_MAX_FLOAT32,Math.min(b,c.NUMBER_MAX_FLOAT32)))};c.NUMBER_MAX_FLOAT32=q(3.4028234663852886E38)})},"esri/views/2d/engine/webgl/definitions":function(){define(["require","exports"],function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.WEBGL_MAX_STOPS=8;c.WEBGL_MAX_INNER_STOPS=c.WEBGL_MAX_STOPS-2;c.NAN_MAGIC_NUMBER=1E-30;
c.EXTRUDE_SCALE=64;c.PICTURE_FILL_COLOR=4294967295;c.TILE_SIZE=512;c.RASTER_TILE_SIZE=256;c.ANGLE_FACTOR_256=256/360;c.DEBUG_LABELS=!1;c.COLLISION_BUCKET_SIZE=128;c.DOT_DENSITY_MAX_FIELDS=8;c.MAGIC_LABEL_LINE_HEIGHT=29;c.COLLISION_MAX_ZOOM_DELTA=1;c.COLLISION_EARLY_REJECT_BUCKET_SIZE=16;c.COLLISION_BOX_PADDING=16;c.COLLISION_TILE_BOX_SIZE=c.TILE_SIZE/c.COLLISION_BUCKET_SIZE;c.COLLISION_PLACEMENT_PADDING=8;c.HEURISTIC_GLYPHS_PER_LINE=50;c.HEURISTIC_GLYPHS_PER_FEATURE=10;c.GLYPH_SIZE=24;c.TEXT_PLACEMENT_PADDING=
8;c.AVERAGE_GLYPH_MOSAIC_ITEM={metrics:{width:15,height:17,left:0,top:-7,advance:14}};c.ATTRIBUTE_STORE_TEXTURE_SIZE=1024;c.TEXTURE_BINDING_SPRITE_ATLAS=0;c.TEXTURE_BINDING_GLYPH_ATLAS=0;c.TEXTURE_BINDING_BITMAP=0;c.TEXTURE_BINDING_ATTRIBUTE_DATA_0=1;c.TEXTURE_BINDING_ATTRIBUTE_DATA_1=2;c.TEXTURE_BINDING_ATTRIBUTE_DATA_2=3;c.TEXTURE_BINDING_ATTRIBUTE_DATA_3=4;c.TEXTURE_BINDING_HIGHLIGHT_0=5;c.TEXTURE_BINDING_HIGHLIGHT_1=6;c.TEXTURE_BINDING_RENDERER_0=5;c.TEXTURE_BINDING_RENDERER_1=6;c.ATTRIBUTE_DATA_FILTER_FLAGS=
0;c.ATTRIBUTE_DATA_ANIMATION=1;c.ATTRIBUTE_DATA_VV=2;c.ATTRIBUTE_DATA_DD0=3;c.ATTRIBUTE_DATA_DD1=3;c.MAX_FILTERS=2;c.HIGHLIGHT_FLAG=1;c.FILTER_FLAG_0=2;c.EFFECT_FLAG_0=4;c.THIN_LINE_THRESHOLD=2.5;c.HITTEST_SEARCH_SIZE=24;c.MAX_ANIMATION_TIME_MS=2E3;c.VTL_TEXTURE_BINDING_UNIT_SPRITES=5;c.VTL_TEXTURE_BINDING_UNIT_GLYPHS=6;c.VTL_HIGH_RES_CUTOFF=1.15;c.MAX_GPU_UPLOADS_PER_FRAME=2})},"esri/views/2d/engine/webgl/TurboLine":function(){define(["require","exports","./mesh/templates/util"],function(d,c,h){function m(){if(p.cosine<
g.innerBisectorAutoSplitThreshold){p.splitInner=!0;p.gapInner=!0;var a=Math.max(g.innerBisectorAutoSplitThreshold,p.cosine),a=Math.sqrt(1-a*a)/a;p.leftInner.x=p.nextNormal.x+p.sign*a*p.outbound.x;p.leftInner.y=p.nextNormal.y+p.sign*a*p.outbound.y;p.rightInner.x=p.prevNormal.x-p.sign*a*p.inbound.x;p.rightInner.y=p.prevNormal.y-p.sign*a*p.inbound.y}else g.enableInnerBisectorSplit&&(p.splitInner=!0,p.gapInner=!1,p.leftInner.x=p.rightInner.x=p.bisector.x/p.cosine,p.leftInner.y=p.rightInner.y=p.bisector.y/
p.cosine);p.cosine<g.outerBisectorAutoSplitThreshold?(p.splitOuter=!0,p.gapOuter=!0,a=Math.max(g.outerBisectorAutoSplitThreshold,p.cosine),a=Math.sqrt(1-a*a)/a,p.leftOuter.x=p.prevNormal.x-p.sign*a*p.inbound.x,p.leftOuter.y=p.prevNormal.y-p.sign*a*p.inbound.y,p.rightOuter.x=p.nextNormal.x+p.sign*a*p.outbound.x,p.rightOuter.y=p.nextNormal.y+p.sign*a*p.outbound.y):g.enableOuterBisectorSplit&&(p.splitOuter=!0,p.gapOuter=!1,p.leftOuter.x=p.rightOuter.x=p.bisector.x/p.cosine,p.leftOuter.y=p.rightOuter.y=
p.bisector.y/p.cosine)}function q(){if(v)p.distance=0,v=p.isCap=p.isFirstVertex=p.isLastVertex=!1;else{if(0===f)if(p.isFirstVertex=0===t,A=e[t],0===t){if(f=0,p.closed){p.inbound.x=A.x-e[e.length-2].x;p.inbound.y=A.y-e[e.length-2].y;var a=Math.sqrt(p.inbound.x*p.inbound.x+p.inbound.y*p.inbound.y);p.inbound.x/=a;p.inbound.y/=a}}else p.inbound.x=A.x-z.x,p.inbound.y=A.y-z.y,f=Math.sqrt(p.inbound.x*p.inbound.x+p.inbound.y*p.inbound.y),p.inbound.x/=f,p.inbound.y/=f;p.distance+f-r<=g.wrapDistance?(t<e.length-
1?(p.outbound.x=e[t+1].x-A.x,p.outbound.y=e[t+1].y-A.y,a=Math.sqrt(p.outbound.x*p.outbound.x+p.outbound.y*p.outbound.y),p.outbound.x/=a,p.outbound.y/=a):p.closed?(p.outbound.x=e[1].x-A.x,p.outbound.y=e[1].y-A.y,a=Math.sqrt(p.outbound.x*p.outbound.x+p.outbound.y*p.outbound.y),p.outbound.x/=a,p.outbound.y/=a):(p.outbound.x=p.inbound.x,p.outbound.y=p.inbound.y),0!==t||p.closed||(p.inbound.x=p.outbound.x,p.inbound.y=p.outbound.y),++t,p.isLastVertex=t===e.length,p.isCap=!p.closed&&(p.isFirstVertex||p.isLastVertex),
p.distance+=f-r,r=f=0,v=p.distance+f-r===g.wrapDistance,p.currentVertex.x=A.x,p.currentVertex.y=A.y,z=A,A=null):(p.outbound.x=p.inbound.x,p.outbound.y=p.inbound.y,r+=g.wrapDistance-p.distance,p.distance=g.wrapDistance,v=!0,a=r/f,p.currentVertex.x=(1-a)*z.x+a*A.x,p.currentVertex.y=(1-a)*z.y+a*A.y)}}function b(){p.prevNormal.x=-p.inbound.y;p.prevNormal.y=p.inbound.x;p.nextNormal.x=-p.outbound.y;p.nextNormal.y=p.outbound.x}function k(){b();p.bisector.x=p.prevNormal.x+p.nextNormal.x;p.bisector.y=p.prevNormal.y+
p.nextNormal.y;var a=Math.sqrt(p.bisector.x*p.bisector.x+p.bisector.y*p.bisector.y);.001>a?(p.bisector.x=void 0,p.bisector.y=void 0,p.cosine=0,p.sign=void 0):(p.bisector.x/=a,p.bisector.y/=a,p.cosine=p.bisector.x*p.nextNormal.x+p.bisector.y*p.nextNormal.y,p.sign=0<=p.prevNormal.x*p.nextNormal.y-p.prevNormal.y*p.nextNormal.x?1:-1)}function l(a){n.vertex(p);1===a?(p.leftEntry0=p.entry0,p.leftEntry1=p.entry1,p.leftEntry2=p.entry2,p.leftExit0=p.exit0,p.leftExit1=p.exit1,p.leftExit2=p.exit2):2===a&&(p.rightEntry0=
p.entry0,p.rightEntry1=p.entry1,p.rightEntry2=p.entry2,p.rightExit0=p.exit0,p.rightExit1=p.exit1,p.rightExit2=p.exit2)}function a(a){n.vertex(p);1===a?(p.leftEntry0=p.entry0,p.leftEntry2=p.entry2,p.leftExit0=p.exit0,p.leftExit2=p.exit2):2===a&&(p.rightEntry0=p.entry0,p.rightEntry2=p.entry2,p.rightExit0=p.exit0,p.rightExit2=p.exit2)}Object.defineProperty(c,"__esModule",{value:!0});d=function(){return function(){this.isCap=this.isLastVertex=this.isFirstVertex=this.closed=void 0;this.currentVertex={x:void 0,
y:void 0};this.inbound={x:void 0,y:void 0};this.outbound={x:void 0,y:void 0};this.prevNormal={x:void 0,y:void 0};this.nextNormal={x:void 0,y:void 0};this.bisector={x:void 0,y:void 0};this.leftInner={x:void 0,y:void 0};this.rightInner={x:void 0,y:void 0};this.leftOuter={x:void 0,y:void 0};this.rightOuter={x:void 0,y:void 0}}}();c.TessellationState=d;c.tessellate=function(c,d,h){g.trackDistance=null!=d.trackDistance?d.trackDistance:!1;g.wrapDistance=null!=d.wrapDistance?d.wrapDistance:65535;g.thin=
null!=d.thin?d.thin:!1;g.initialDistance=null!=d.initialDistance?d.initialDistance:0;g.enableOuterBisectorSplit=null!=d.enableOuterBisectorSplit?d.enableOuterBisectorSplit:!1;g.outerBisectorAutoSplitThreshold=null!=d.outerBisectorAutoSplitThreshold?d.outerBisectorAutoSplitThreshold:0;g.enableInnerBisectorSplit=null!=d.enableOuterBisectorSplit?d.enableOuterBisectorSplit:!1;g.innerBisectorAutoSplitThreshold=null!=d.innerBisectorAutoSplitThreshold?d.innerBisectorAutoSplitThreshold:0;e=c;n=h;r=f=t=0;
v=!1;A=z=null;p.currentVertex.x=null;p.currentVertex.y=null;p.distance=g.initialDistance;c=e[0];d=e[e.length-1];p.canSplit=!1;p.closed=c.x===d.x&&c.y===d.y;if(!(2>e.length||2===e.length&&p.closed))if(g.thin)if(g.trackDistance)for(q(),b(),a(1);f-r>g.wrapDistance||t<e.length;)q(),b(),a(2),n.bridge(p),p.leftExit0=p.rightExit0,p.leftExit2=p.rightExit2;else for(;t<e.length;)0<t&&(p.inbound.x=p.outbound.x,p.inbound.y=p.outbound.y),t<e.length-1?(p.outbound.x=e[t+1].x-e[t].x,p.outbound.y=e[t+1].y-e[t].y,
c=Math.sqrt(p.outbound.x*p.outbound.x+p.outbound.y*p.outbound.y),p.distance+=c,p.outbound.x/=c,p.outbound.y/=c):(p.outbound.x=p.inbound.x,p.outbound.y=p.inbound.y),0===t&&(p.inbound.x=p.outbound.x,p.inbound.y=p.outbound.y),p.currentVertex.x=e[t].x,p.currentVertex.y=e[t].y,p.prevNormal.x=-p.inbound.y,p.prevNormal.y=p.inbound.x,p.nextNormal.x=-p.outbound.y,p.nextNormal.y=p.outbound.x,0===t?(n.vertex(p),p.leftEntry0=p.entry0,p.leftEntry2=p.entry2,p.leftExit0=p.exit0,p.leftExit2=p.exit2):(n.vertex(p),
p.rightEntry0=p.entry0,p.rightEntry2=p.entry2,p.rightExit0=p.exit0,p.rightExit2=p.exit2,n.bridge(p),p.leftExit0=p.rightExit0,p.leftExit2=p.rightExit2),++t;else{if(g.enableOuterBisectorSplit||0<g.outerBisectorAutoSplitThreshold||g.enableInnerBisectorSplit||0<g.innerBisectorAutoSplitThreshold)for(p.canSplit=!0,q(),k(),p.splitInner=p.gapInner=p.splitOuter=p.gapOuter=!1,l(1),p.closure0=p.leftEntry0,p.closure1=p.leftEntry1,p.closure2=p.leftEntry2;f-r>g.wrapDistance||t<e.length-1||t<e.length&&(!p.closed||
g.trackDistance);)q(),k(),p.splitInner=p.gapInner=p.splitOuter=p.gapOuter=!1,l(2),n.bridge(p),p.leftExit0=p.rightExit0,p.leftExit1=p.rightExit1,p.leftExit2=p.rightExit2;else for(q(),k(),l(1),p.closure0=p.leftEntry0,p.closure1=p.leftEntry1,p.closure2=p.leftEntry2;f-r>g.wrapDistance||t<e.length-1||t<e.length&&(!p.closed||g.trackDistance);)q(),k(),l(2),n.bridge(p),p.leftExit0=p.rightExit0,p.leftExit1=p.rightExit1,p.leftExit2=p.rightExit2;p.closed&&!g.trackDistance&&(p.rightEntry0=p.closure0,p.rightEntry1=
p.closure1,p.rightEntry2=p.closure2,n.bridge(p),p.leftExit0=p.rightExit0,p.leftExit1=p.rightExit1,p.leftExit2=p.rightExit2)}};c.cleanup=function(){n=e=null};c.splitVertex=m;var e,g={},n,t=void 0,f,r,v,z,A,p=new d;d=function(){function a(a,b){this.writeVertex=a;this.writeTriangle=b;this.capType=0;this.joinType=2;this.miterLimitCosine=h.getLimitCosine(2);this.roundLimitCosine=Math.cos(23*Math.PI/180);this.almostParallelCosine=.97;this.radsPerSlice=.8;this.joinOnUTurn=this.textured=!1}a.prototype.vertex=
function(a){var b=2===this.joinType?this.miterLimitCosine:this.roundLimitCosine,c=a.isCap&&0!==this.capType,e=!1;a.cosine>this.almostParallelCosine?(a.exit0=a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.bisector.x/a.cosine,a.bisector.y/a.cosine,0,-1,a.distance),a.exit2=a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.bisector.x/a.cosine,-a.bisector.y/a.cosine,0,1,a.distance)):a.cosine<1-this.almostParallelCosine?(e=!a.isCap&&this.joinOnUTurn,a.entry0=this.writeVertex(a.currentVertex.x,
a.currentVertex.y,0,0,a.prevNormal.x,a.prevNormal.y,0,-1,a.distance),a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.prevNormal.x,-a.prevNormal.y,0,1,a.distance),a.exit0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.nextNormal.x,a.nextNormal.y,0,-1,a.distance),a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.nextNormal.x,-a.nextNormal.y,0,1,a.distance)):a.canSplit?(m(),0<a.sign?(a.splitInner?(a.exit0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,
a.outbound.x,a.outbound.y,a.leftInner.x,a.leftInner.y,0,-1,a.distance),a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.inbound.x,a.inbound.y,a.rightInner.x,a.rightInner.y,0,-1,a.distance)):a.exit0=a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.inbound.x,a.inbound.y,a.bisector.x/a.cosine,a.bisector.y/a.cosine,0,-1,a.distance),a.cosine<b?(e=!a.isCap,a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.prevNormal.x,-a.prevNormal.y,0,1,a.distance),a.exit2=
this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.nextNormal.x,-a.nextNormal.y,0,1,a.distance)):a.splitOuter?(e=e||a.gapOuter,a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.inbound.x,a.inbound.y,-a.leftOuter.x,-a.leftOuter.y,0,1,a.distance),a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.outbound.x,a.outbound.y,-a.rightOuter.x,-a.rightOuter.y,0,1,a.distance)):a.entry2=a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.bisector.x/a.cosine,
-a.bisector.y/a.cosine,0,1,a.distance)):(a.splitInner?(a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.outbound.x,a.outbound.y,-a.leftInner.x,-a.leftInner.y,0,1,a.distance),a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.inbound.x,a.inbound.y,-a.rightInner.x,-a.rightInner.y,0,1,a.distance)):a.exit2=a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.bisector.x/a.cosine,-a.bisector.y/a.cosine,0,1,a.distance),a.cosine<b?(e=!a.isCap,a.entry0=this.writeVertex(a.currentVertex.x,
a.currentVertex.y,0,0,a.prevNormal.x,a.prevNormal.y,0,-1,a.distance),a.exit0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.nextNormal.x,a.nextNormal.y,0,-1,a.distance)):a.splitOuter?(e=e||a.gapOuter,a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.inbound.x,a.inbound.y,a.leftOuter.x,a.leftOuter.y,0,-1,a.distance),a.exit0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.outbound.x,a.outbound.y,a.rightOuter.x,a.rightOuter.y,0,-1,a.distance)):a.exit0=a.entry0=this.writeVertex(a.currentVertex.x,
a.currentVertex.y,0,0,a.bisector.x/a.cosine,a.bisector.y/a.cosine,0,-1,a.distance))):0<a.sign?(a.exit0=a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.inbound.x,a.inbound.y,a.bisector.x/a.cosine,a.bisector.y/a.cosine,0,-1,a.distance),a.cosine<b?(e=!a.isCap,a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.prevNormal.x,-a.prevNormal.y,0,1,a.distance),a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.nextNormal.x,-a.nextNormal.y,0,1,a.distance)):
a.entry2=a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.bisector.x/a.cosine,-a.bisector.y/a.cosine,0,1,a.distance)):(a.exit2=a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.bisector.x/a.cosine,-a.bisector.y/a.cosine,0,1,a.distance),a.cosine<b?(e=!a.isCap,a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.prevNormal.x,a.prevNormal.y,0,-1,a.distance),a.exit0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.nextNormal.x,a.nextNormal.y,
0,-1,a.distance)):a.exit0=a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.bisector.x/a.cosine,a.bisector.y/a.cosine,0,-1,a.distance));b=a.canSplit&&(a.splitInner||a.splitOuter)||e||c?a.entry1=a.exit1=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,0,0,0,0,a.distance):a.entry1=a.exit1=null;if(e&&1!==this.joinType)this.writeTriangle(b,0<a.sign?a.exit2:a.entry0,0<a.sign?a.entry2:a.exit0);else if(c&&1===this.capType||e&&1===this.joinType){var d=e=c=void 0,f=void 0,g=void 0,
h=void 0;if(a.isCap){var n=Math.PI,g=Math.ceil(n/this.radsPerSlice),h=n/g;a.isFirstVertex?(c=a.prevNormal.x,e=a.prevNormal.y,d=a.entry0,f=a.entry2):a.isLastVertex&&(c=-a.nextNormal.x,e=-a.nextNormal.y,d=a.exit2,f=a.exit0)}else n=2*Math.acos(a.cosine),g=Math.ceil(n/this.radsPerSlice),h=n/g,c=0<a.sign?-a.prevNormal.x:a.nextNormal.x,e=0<a.sign?-a.prevNormal.y:a.nextNormal.y,d=0<a.sign?a.entry2:a.exit0,f=0<a.sign?a.exit2:a.entry0;for(var n=Math.cos(h),h=Math.sin(h),l=h*c+n*e,c=n*c-h*e,e=l,k,l=void 0,
r=0;r<g;++r)k=l,r<g-1&&(l=a.isCap?this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,c,e,a.isFirstVertex?-1:1,0,a.distance):this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,c,e,0,a.sign,a.distance)),this.writeTriangle(0===r?d:k,b,r===g-1?f:l),k=h*c+n*e,c=n*c-h*e,e=k}else c&&2===this.capType&&(c=a.isFirstVertex?1:-1,d=e=void 0,this.textured?(e=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.prevNormal.x-c*a.inbound.x,a.prevNormal.y-c*a.inbound.y,-c,-1,a.distance),d=this.writeVertex(a.currentVertex.x,
a.currentVertex.y,0,0,-a.prevNormal.x-c*a.inbound.x,-a.prevNormal.y-c*a.inbound.y,-c,1,a.distance)):(e=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.prevNormal.x-c*a.inbound.x,a.prevNormal.y-c*a.inbound.y,0,-1,a.distance),d=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.prevNormal.x-c*a.inbound.x,-a.prevNormal.y-c*a.inbound.y,0,1,a.distance)),0<c?(this.writeTriangle(b,a.entry2,d),this.writeTriangle(b,d,e),this.writeTriangle(b,e,a.entry0)):(this.writeTriangle(b,d,a.exit2),
this.writeTriangle(b,e,d),this.writeTriangle(b,a.exit0,e)))};a.prototype.bridge=function(a){this.writeTriangle(a.leftExit0,a.rightEntry0,null!=a.leftExit1?a.leftExit1:a.leftExit2);this.writeTriangle(a.rightEntry0,null!=a.rightEntry1?a.rightEntry1:a.rightEntry2,null!=a.leftExit1?a.leftExit1:a.leftExit2);null!=a.leftExit1&&null!=a.rightEntry1?(this.writeTriangle(a.leftExit1,a.rightEntry1,a.leftExit2),this.writeTriangle(a.rightEntry1,a.rightEntry2,a.leftExit2)):null!=a.leftExit1?this.writeTriangle(a.leftExit1,
a.rightEntry2,a.leftExit2):null!=a.rightEntry1&&this.writeTriangle(a.rightEntry1,a.rightEntry2,a.leftExit2)};return a}();c.StandardTessellationCallbacks=d;d=function(){function a(a,b){this.writeVertex=a;this.writeTriangle=b}a.prototype.vertex=function(a){a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.prevNormal.x,a.prevNormal.y,0,-1,a.distance);a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.prevNormal.x,-a.prevNormal.y,0,1,a.distance);a.exit0=this.writeVertex(a.currentVertex.x,
a.currentVertex.y,0,0,a.nextNormal.x,a.nextNormal.y,0,-1,a.distance);a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.nextNormal.x,-a.nextNormal.y,0,1,a.distance)};a.prototype.bridge=function(a){this.writeTriangle(a.leftExit0,a.rightEntry0,a.leftExit2);this.writeTriangle(a.rightEntry0,a.rightEntry2,a.leftExit2)};return a}();c.ThinTessellationCallbacks=d})},"esri/views/2d/engine/webgl/mesh/templates/util":function(){define(["require","exports"],function(d,c){function h(c,d){return Math.sqrt(c*
c+d*d)}Object.defineProperty(c,"__esModule",{value:!0});c.sub=function(c,d,b){c[0]=d[0]-b[0];c[1]=d[1]-b[1];return c};c.len=h;c.normalize=function(c){var d=h(c[0],c[1]);c[0]/=d;c[1]/=d};c.dist=function(c,d){return h(c[0]-d[0],c[1]-d[1])};c.isFunction=function(c){return"function"===typeof c};c.getLimitCosine=function(c){return 1/Math.max(c,1)};c.isExtent=function(c){return void 0!==c.xmin&&void 0!==c.ymin&&void 0!==c.xmax&&void 0!==c.ymax};c.isMultipoint=function(c){return void 0!==c.points};c.isPoint=
function(c){return void 0!==c.x&&void 0!==c.y};c.isPolyline=function(c){return void 0!==c.paths};c.isPolygon=function(c){return void 0!==c.rings}})},"esri/views/2d/engine/vectorTiles/Placement":function(){define("require exports ./Conflict ./GeometryUtils ./TextShaping ../webgl/Geometry".split(" "),function(d,c,h,m,q,b){Object.defineProperty(c,"__esModule",{value:!0});d=function(){return function(a,b,c,d,h){void 0===c&&(c=0);void 0===d&&(d=-1);void 0===h&&(h=e);this.x=a;this.y=b;this.angle=c;this.segment=
d;this.minzoom=h}}();c.Anchor=d;var k=function(){return function(a,b,c,d,h,l,k){void 0===l&&(l=e);void 0===k&&(k=m.C_INFINITY);this.anchor=a;this.labelAngle=b;this.glyphAngle=c;this.page=d;this.alternateVerticalGlyph=h;this.minzoom=l;this.maxzoom=k}}(),l=function(){return function(a,b,c,e,d,h,l,k,p,m,q,y){this.tl=a;this.tr=b;this.bl=c;this.br=e;this.mosaicRect=d;this.labelAngle=h;this.minAngle=l;this.maxAngle=k;this.anchor=p;this.minzoom=m;this.maxzoom=q;this.page=y}}();c.PlacedSymbol=l;var a=function(){return function(a,
b){this.footprint=a;this.shapes=b}}();c.Placement=a;var e=.5;d=function(){function c(){this.mapAngle=0;this._conflictEngine=new h.ConflictEngine}c.prototype.reset=function(){this._conflictEngine.reset()};c.prototype.setAngle=function(a){this.mapAngle=a};c.prototype.getIconPlacement=function(c,d,f,g,k){var n=f.width/f.pixelRatio,r=f.height/f.pixelRatio,p=k.offset[0]-n/2,t=k.offset[1]-r/2,n=p+n,r=t+r,q=f.rect,v=2/f.pixelRatio,x=p-v,E=t-v,H=x+q.width/f.pixelRatio,N=E+q.height/f.pixelRatio;f=new b.Point(x,
E);v=new b.Point(H,N);x=new b.Point(x,N);E=new b.Point(H,E);H=k.rotate*m.C_DEG_TO_RAD;N=1===k.rotationAlignment;0<=c.segment&&!N&&(H+=c.angle);if(0!==H){var P=Math.cos(H),C=Math.sin(H);f.rotate(P,C);v.rotate(P,C);x.rotate(P,C);E.rotate(P,C)}P=8*k.padding;C=new b.Point(c.x,c.y);c=new h.Footprint(this.mapAngle,P,N);c.addBox(C,new h.Box(p,t,n,r),g,H,d,e,m.C_INFINITY);d=new l(f,E,x,v,q,0,0,256,C,e,m.C_INFINITY,0);d=new a(c,[d]);g=e;k.allowOverlap||(g=this._conflictEngine.getMinZoom(d.footprint,g));c.minzoom=
g;return d};c.prototype.getTextPlacement=function(c,d,f,g,v,z){for(var n=new b.Point(c.x,c.y),p=z.rotate*m.C_DEG_TO_RAD,r=0===z.rotationAlignment,t=z.keepUpright,y=e,x=!r,E=x?0:c.angle,H=0<=c.segment&&r,x=new h.Footprint(this.mapAngle,8*z.padding,x),N=[],P=!H,C=Number.POSITIVE_INFINITY,B=Number.NEGATIVE_INFINITY,D=C,L=B,J=H?t:r&&t,G=!1,F=0;F<f.length;F++){var O=f[F];if(O.vertical){G=!0;break}}var K=F=0;if(!H&&G){var I=q.TextShaping.getTextBox(f,z.lineHeight*q.SDF_GLYPH_SIZE);switch(z.anchor){case 1:F=
I.height/2;K=-I.width/2;break;case 2:F=-I.height/2;K=I.width/2;break;case 3:F=I.height/2;K=I.width/2;break;case 4:F=-I.height/2;K=-I.width/2;break;case 5:F=I.height;break;case 7:K=-I.width;break;case 6:K=I.width;break;case 8:F=-I.height}}for(var F=F+z.offset[0]*q.SDF_GLYPH_SIZE,K=K+z.offset[1]*q.SDF_GLYPH_SIZE,ba,W=0;W<f.length;W++){var O=f[W],M=O.glyphMosaicItem;if(M&&!M.rect.isEmpty){var T=M.rect,S=M.metrics,R=M.page;P&&(ba&&ba!==O.y&&(I=void 0,I=G?new h.Box(-L+F,C+K,-D+F,B+K):new h.Box(C+F,D+K,
B+F,L+K),x.addBox(n,I,g,p,d,e,m.C_INFINITY),C=Number.POSITIVE_INFINITY,B=Number.NEGATIVE_INFINITY,D=C,L=B),ba=O.y);var ca=[];if(H){if(M=(O.x+S.left-4+.5*M.metrics.width)*g,y=this._placeGlyph(c,y,M,v,c.segment,1,O.vertical,R,ca),t&&(y=this._placeGlyph(c,y,M,v,c.segment,-1,O.vertical,R,ca)),2<=y)break}else ca.push(new k(n,E,E,R,!1)),r&&t&&ca.push(new k(n,E+m.C_PI,E+m.C_PI,R,!1));var R=O.x+S.left,M=O.y-q.SDF_GLYPH_BASELINE-S.top,I=R+S.width,U=M+S.height,Q=void 0,Z=void 0,X=void 0,Y=void 0;if(!H&&G)if(O.vertical)var V=
(R+I)/2-S.height/2,aa=(M+U)/2+S.width/2,Q=new b.Point(-aa-4+F,V-4+K),Z=new b.Point(Q.x+T.width,Q.y+T.height),X=new b.Point(Q.x,Z.y),Y=new b.Point(Z.x,Q.y);else Q=new b.Point(-M+4+F,R-4+K),Z=new b.Point(Q.x-T.height,Q.y+T.width),X=new b.Point(Z.x,Q.y),Y=new b.Point(Q.x,Z.y);else Q=new b.Point(R-4+F,M-4+K),Z=new b.Point(Q.x+T.width,Q.y+T.height),X=new b.Point(Q.x,Z.y),Y=new b.Point(Z.x,Q.y);for(var ea=aa=V=void 0,ma=void 0,fa=0;fa<ca.length;fa++){var da=ca[fa],ka=void 0,pa=void 0,ja=void 0,na=void 0;
da.alternateVerticalGlyph?(V||(V=(R+I)/2+F,aa=(M+U)/2+K,V=new b.Point(V-S.height/2-4,aa+S.width/2+4),aa=new b.Point(V.x+T.height,V.y-T.width),ea=new b.Point(aa.x,V.y),ma=new b.Point(V.x,aa.y)),ka=V,pa=ea,ja=ma,na=aa):(ka=Q,pa=X,ja=Y,na=Z);var ia=M,qa=U,la=da.glyphAngle+p;if(0!==la){var ha=Math.cos(la),ga=Math.sin(la),ka=ka.clone(),pa=pa.clone(),ja=ja.clone(),na=na.clone();ka.rotate(ha,ga);na.rotate(ha,ga);pa.rotate(ha,ga);ja.rotate(ha,ga)}ha=0;ga=256;H&&G?O.vertical?da.alternateVerticalGlyph?(ha=
32,ga=96):(ha=224,ga=32):(ha=224,ga=96):(ha=192,ga=64);N.push(new l(ka,ja,pa,na,T,da.labelAngle,ha,ga,da.anchor,da.minzoom,da.maxzoom,da.page));if(!J||this._legible(da.labelAngle))P?(R<C&&(C=R),ia<D&&(D=ia),I>B&&(B=I),qa>L&&(L=qa)):2>da.minzoom&&x.addBox(da.anchor,new h.Box(R+F,ia+K,I+F,qa+K),g,la,d,da.minzoom,da.maxzoom)}}}if(2<=y)return null;P&&(I=void 0,I=G?new h.Box(-L+F,C+K,-D+F,B+K):new h.Box(C+F,D+K,B+F,L+K),x.addBox(n,I,g,p,d,e,m.C_INFINITY));c=new a(x,N);z.allowOverlap||(y=this._conflictEngine.getMinZoom(c.footprint,
y));x.minzoom=y;return c};c.prototype.add=function(a){this._conflictEngine.add(a.footprint)};c.prototype._legible=function(a){a=m.radToByte(a);return 65>a||193<=a};c.prototype._placeGlyph=function(a,c,e,d,g,h,l,p,q){var f=0>h?m.positiveMod(a.angle+m.C_PI,m.C_2PI):a.angle,n=0;0>e&&(h*=-1,e*=-1,n=m.C_PI);0<h&&++g;a=new b.Point(a.x,a.y);var r=d[g],t=m.C_INFINITY;if(d.length<=g)return t;for(;;){var v=r.x-a.x,z=r.y-a.y,u=Math.sqrt(v*v+z*z),A=Math.max(e/u,c),v=m.positiveMod(Math.atan2(z/u,v/u)+n,m.C_2PI);
q.push(new k(a,f,v,p,!1,A,t));l&&q.push(new k(a,f,v,p,!0,A,t));if(A<=c)return A;a=r.clone();do{g+=h;if(d.length<=g||0>g)return A;r=d[g]}while(a.isEqual(r));t=r.x-a.x;v=r.y-a.y;z=Math.sqrt(t*t+v*v);t*=u/z;v*=u/z;a.x-=t;a.y-=v;t=A}};return c}();c.PlacementEngine=d})},"esri/views/2d/engine/vectorTiles/Conflict":function(){define(["require","exports","../../../../core/mathUtils","./GeometryUtils","../webgl/Geometry"],function(d,c,h,m,q){Object.defineProperty(c,"__esModule",{value:!0});d=function(){function b(a,
b,c,d){this.left=a;this.top=b;this.right=c;this.bottom=d}b.prototype.clone=function(){return new b(this.left,this.top,this.right,this.bottom)};b.prototype.move=function(a,b){this.left+=a;this.top+=b;this.right+=a;this.bottom+=b};b.prototype.rotate=function(a,b){var c=this.left,e=this.right,d=this.top,f=this.bottom,h=c*a-d*b,l=c*b+d*a,k=e*a-d*b,d=e*b+d*a,m=c*a-f*b,c=c*b+f*a,p=e*a-f*b;a=e*b+f*a;this.left=Math.min(h,k,m,p);this.top=Math.min(l,d,c,a);this.right=Math.max(h,k,m,p);this.bottom=Math.max(l,
d,c,a)};b.overlaps=function(a,b){return a.right>b.left&&a.left<b.right&&a.bottom>b.top&&a.top<b.bottom};return b}();c.Box=d;var b=function(){function b(a,b,c,d){this.anchor=a;this.corners=b;this.minzoom=c;this.maxzoom=d}b.prototype.left=function(){return this.corners[0].x};b.prototype.right=function(){return this.corners[2].x};b.prototype.top=function(){return this.corners[1].y};b.prototype.bottom=function(){return this.corners[3].y};return b}();c.Obstacle=b;d=function(){function c(a,b,c){this.obstacles=
[];this.mapAngle=a;this.padding=b;this.isScreenAligned=c;this.minzoom=k}c.prototype.addBox=function(a,c,d,h,l,f,k){var e=c.left*d-this.padding,g=c.top*d-this.padding,n=c.right*d+this.padding;c=c.bottom*d+this.padding;e=[new q.Point(e,g),new q.Point(n,g),new q.Point(n,c),new q.Point(e,c)];0!==this.mapAngle&&(g=Math.cos(this.mapAngle),n=Math.sin(this.mapAngle),a=a.clone(),a.rotate(g,n));this.isScreenAligned||(h+=this.mapAngle);if(0!==h){g=Math.cos(h);n=Math.sin(h);e[0].rotate(g,n);e[1].rotate(g,n);
e[2].rotate(g,n);e[3].rotate(g,n);h=0;for(g=1;4>g;g++)e[g].x<e[h].x?h=g:e[g].x===e[h].x&&e[g].y<e[h].y&&(h=g);if(h){n=[];for(g=0;4>g;g++)n.push(e[(g+h)%4]);e=n}}if(l)for(h=0,g=e;h<g.length;h++)g[h].move(l[0],l[1]);this.obstacles.push(new b(a,e,f,k))};return c}();c.Footprint=d;var k=.5;d=function(){function b(){this._grid=[]}b.prototype.reset=function(){this._grid=[]};b.prototype.add=function(a){var c=this._grid,d=0;for(a=a.obstacles;d<a.length;d++)for(var h=a[d],l=h.anchor,f=b._gridClamp(Math.min(h.left()+
l.x,l.x)),k=b._gridClamp(Math.max(h.right()+l.x,l.x)),m=b._gridClamp(Math.min(h.top()+l.y,l.y)),l=b._gridClamp(Math.max(h.bottom()+l.y,l.y));m<=l;m++)for(var q=f;q<=k;q++){var A=c[16*m+q];A||(A=c[16*m+q]=[]);A.push(h)}};b.prototype.getMinZoom=function(a,c){if(0===a.obstacles.length)return m.C_INFINITY;var e=this._grid,d=0;for(a=a.obstacles;d<a.length;d++)for(var h=a[d],f=h.anchor,l=b._gridClamp(Math.min(h.left()+f.x,f.x)),k=b._gridClamp(Math.max(h.right()+f.x,f.x)),q=b._gridClamp(Math.min(h.top()+
f.y,f.y)),f=b._gridClamp(Math.max(h.bottom()+f.y,f.y));q<=f;q++)for(var A=l;A<=k;A++){var p=e[16*q+A];if(p)for(var u=0;u<p.length;u++){var w=p[u];if(!(h.minzoom>=w.maxzoom||w.minzoom>=h.maxzoom)&&(c=b._calcPlacementZoom(h,w,c),2<=c))return m.C_INFINITY}}return 2>c?c:m.C_INFINITY};b._gridClamp=function(a){return h.clamp(a>>9,-7,8)};b._calcPlacementZoom=function(a,c,d){var e=c.anchor.x-a.anchor.x;if(0===e&&(a.right()<c.left()||c.right()<a.left()))return d;var g=c.anchor.y-a.anchor.y;if(0===g&&(a.bottom()<
c.top()||c.bottom()<a.top()))return d;var f=m.C_INFINITY;if(0!==e){var h=(0<e?a.right()-c.left():a.left()-c.right())/e;h<f&&(f=h);e=0<e?b._calcExtZoomX(a,c,h):b._calcExtZoomX(c,a,h);e<f&&(f=e)}0!==g&&(e=(0<g?a.bottom()-c.top():a.top()-c.bottom())/g,e<f&&(f=e),g=0<g?b._calcExtZoomY(a,c,e):b._calcExtZoomY(c,a,e),g<f&&(f=g));if(f<a.minzoom||f<c.minzoom)return d;f=Math.min(f,a.maxzoom,c.maxzoom);f<d&&(f=d);return f};b._calcExtZoomX=function(a,b,c){var e,d,f;if(a.anchor.y+a.corners[2].y/c<b.anchor.y+b.corners[0].y/
c){e=a.corners[2].x-a.corners[3].x;f=a.corners[2].y-a.corners[3].y;var g=b.corners[1].x-b.corners[0].x;d=b.corners[1].y-b.corners[0].y;0<=e*d-f*g?a.anchor.y+a.corners[3].y/c<b.anchor.y+b.corners[0].y/c?(c=a.corners[3],e=b.corners[0],d=b.corners[1],f=1):(c=b.corners[0],e=a.corners[3],d=a.corners[2],f=-1):a.anchor.y+a.corners[2].y/c>b.anchor.y+b.corners[1].y/c?(c=a.corners[2],e=b.corners[0],d=b.corners[1],f=1):(c=b.corners[1],e=a.corners[3],d=a.corners[2],f=-1)}else e=a.corners[2].x-a.corners[1].x,
f=a.corners[2].y-a.corners[1].y,g=b.corners[3].x-b.corners[0].x,d=b.corners[3].y-b.corners[0].y,0>e*d-f*g?a.anchor.y+a.corners[1].y/c>b.anchor.y+b.corners[0].y/c?(c=a.corners[1],e=b.corners[0],d=b.corners[3],f=1):(c=b.corners[0],e=a.corners[1],d=a.corners[2],f=-1):a.anchor.y+a.corners[2].y/c<b.anchor.y+b.corners[3].y/c?(c=a.corners[2],e=b.corners[0],d=b.corners[3],f=1):(c=b.corners[3],e=a.corners[1],d=a.corners[2],f=-1);g=d.x-e.x;d=d.y-e.y;return f*((c.y-e.y)*g-(c.x-e.x)*d)/((a.anchor.x-b.anchor.x)*
d-(a.anchor.y-b.anchor.y)*g)};b._calcExtZoomY=function(a,b,c){var e,d,f;if(a.anchor.x+a.corners[3].x/c<b.anchor.x+b.corners[1].x/c){e=a.corners[3].x-a.corners[2].x;f=a.corners[3].y-a.corners[2].y;var g=b.corners[0].x-b.corners[1].x;d=b.corners[0].y-b.corners[1].y;0>e*d-f*g?a.anchor.x+a.corners[2].x/c<b.anchor.x+b.corners[1].x/c?(c=a.corners[2],e=b.corners[1],d=b.corners[0],f=1):(c=b.corners[1],e=a.corners[2],d=a.corners[3],f=-1):a.anchor.x+a.corners[3].x/c>b.anchor.x+b.corners[0].x/c?(c=a.corners[3],
e=b.corners[1],d=b.corners[0],f=1):(c=b.corners[0],e=a.corners[2],d=a.corners[3],f=-1)}else e=a.corners[3].x-a.corners[0].x,f=a.corners[3].y-a.corners[0].y,g=b.corners[2].x-b.corners[1].x,d=b.corners[2].y-b.corners[1].y,0<e*d-f*g?a.anchor.x+a.corners[0].x/c>b.anchor.x+b.corners[1].x/c?(c=a.corners[0],e=b.corners[1],d=b.corners[2],f=1):(c=b.corners[1],e=a.corners[0],d=a.corners[3],f=-1):a.anchor.x+a.corners[3].x/c<b.anchor.x+b.corners[2].x/c?(c=a.corners[3],e=b.corners[1],d=b.corners[2],f=1):(c=b.corners[2],
e=a.corners[0],d=a.corners[3],f=-1);g=d.x-e.x;d=d.y-e.y;return f*((c.y-e.y)*g-(c.x-e.x)*d)/((a.anchor.x-b.anchor.x)*d-(a.anchor.y-b.anchor.y)*g)};return b}();c.ConflictEngine=d})},"esri/views/2d/engine/vectorTiles/TextShaping":function(){define(["require","exports","./ScriptUtils","../webgl/Rect"],function(d,c,h,m){Object.defineProperty(c,"__esModule",{value:!0});c.SDF_GLYPH_SIZE=24;c.SDF_GLYPH_BASELINE=17;d=function(){function d(b,c,d,a,e,g,h){this._glyphItems=b;this._maxWidth=c;this._lineHeight=
d;this._letterSpacing=a;this._hAnchor=e;this._vAnchor=g;this._justify=h}d.prototype.getShaping=function(b,c,d){for(var a=this._letterSpacing,e=this._lineHeight,g=this._justify,l=this._maxWidth,k=[],f=0,r=0,m=0,q=0,A=-1,p=0,u=-1,w=b.length,y=0;y<w;y++){var x=b.charCodeAt(y),E=d&&h.hasVerticalOrientation(x);if(10===x)y!==w-1&&(A>=q&&(f=k[A],E=f.x+f.glyphMosaicItem.metrics.advance,p=Math.max(E,p),g&&this._applyJustification(k,q,A),q=k.length),r=c?r-e:r+e,f=0,++m);else{for(var H=void 0,N=0,P=this._glyphItems;N<
P.length&&!(H=P[N][x]);N++);if(H){k.push({codePoint:x,x:f,y:r,vertical:E,glyphMosaicItem:H});f+=H.metrics.advance+a;if(0<l&&f>l&&0<=u){H=u+1;E=k[H].x;p=Math.max(E,p);for(N=H;N<k.length;N++)k[N].y=c?k[N].y-e:k[N].y+e,k[N].x-=E;g&&this._applyJustification(k,q,u);r=c?r-e:r+e;f-=E;++m;q=H;u=-1}++A;32===x&&(u=k.length-1)}}}A>=q&&(f=k[A],p=Math.max(p,f.x+f.glyphMosaicItem.metrics.advance),g&&this._applyJustification(k,q,A));if(0<k.length)for(b=(g-this._hAnchor)*p,d=(-this._vAnchor*(m+1)+.5)*e,c&&m&&(d+=
m*e),c=0;c<k.length;c++)e=k[c],e.x+=b,e.y+=d;return k};d.getTextBox=function(b,d){if(!b.length)return null;for(var h=Infinity,a=Infinity,e=0,g=0,k=0;k<b.length;k++)var m=b[k],f=m.x,r=m.y-c.SDF_GLYPH_BASELINE,m=f+m.glyphMosaicItem.metrics.advance,q=r+d,h=Math.min(h,f),e=Math.max(e,m),a=Math.min(a,r),g=Math.max(g,q);return{x:h,y:a,width:e-h,height:g-a}};d.getBox=function(b){if(!b.length)return null;for(var c=Infinity,d=Infinity,a=0,e=0,g=0;g<b.length;g++)var h=b[g],m=h.glyphMosaicItem.metrics,f=m.height,
r=h.x,h=h.y-(f-Math.abs(m.top)),m=r+m.width+m.left,f=h+f,c=Math.min(c,r),a=Math.max(a,m),d=Math.min(d,h),e=Math.max(e,f);return{x:c,y:d,width:a-c,height:e-d}};d.addDecoration=function(b,c){var d=b.length;if(0!==d){for(var a=b[0].x+b[0].glyphMosaicItem.metrics.left,e=b[0].y,g=1;g<d;g++){var h=b[g];if(h.y!==e){var k=b[g-1].x+b[g-1].glyphMosaicItem.metrics.left+b[g-1].glyphMosaicItem.metrics.width;b.push({codePoint:0,x:a,y:e+c-3,vertical:!1,glyphMosaicItem:{sdf:!0,rect:new m.default(4,0,4,8),metrics:{width:k-
a,height:8,left:0,top:0,advance:0},page:0,code:0}});e=h.y;a=h.x+h.glyphMosaicItem.metrics.left}}d=b[d-1].x+b[d-1].glyphMosaicItem.metrics.left+b[d-1].glyphMosaicItem.metrics.width;b.push({codePoint:0,x:a,y:e+c-3,vertical:!1,glyphMosaicItem:{sdf:!0,rect:new m.default(4,0,4,8),metrics:{width:d-a,height:8,left:0,top:0,advance:0},page:0,code:0}})}};d.prototype._applyJustification=function(b,d,h){for(var a=b[h],a=(a.x+(a.vertical?c.SDF_GLYPH_SIZE:a.glyphMosaicItem.metrics.advance))*this._justify;d<=h;d++)b[d].x-=
a};return d}();c.TextShaping=d})},"esri/views/2d/engine/vectorTiles/ScriptUtils":function(){define(["require","exports"],function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.hasVerticalOrientation=function(c){return 746===c||747===c?!0:4352>c?!1:12704<=c&&12735>=c||12544<=c&&12591>=c||65072<=c&&65103>=c&&!(65097<=c&&65103>=c)||63744<=c&&64255>=c||13056<=c&&13311>=c||11904<=c&&12031>=c||12736<=c&&12783>=c||12288<=c&&12351>=c&&!(12296<=c&&12305>=c||12308<=c&&12319>=c)&&12336!==c||13312<=
c&&19903>=c||19968<=c&&40959>=c||12800<=c&&13055>=c||12592<=c&&12687>=c||43360<=c&&43391>=c||55216<=c&&55295>=c||4352<=c&&4607>=c||44032<=c&&55215>=c||12352<=c&&12447>=c||12272<=c&&12287>=c||12688<=c&&12703>=c||12032<=c&&12255>=c||12784<=c&&12799>=c||12448<=c&&12543>=c&&12540!==c||65280<=c&&65519>=c&&!(65288===c||65289===c||65293===c||65306<=c&&65310>=c||65339===c||65341===c||65343===c||65371<=c&&65503>=c||65507===c||65512<=c&&65519>=c)||65104<=c&&65135>=c&&!(65112<=c&&65118>=c||65123<=c&&65126>=
c)||5120<=c&&5759>=c||6320<=c&&6399>=c||65040<=c&&65055>=c||19904<=c&&19967>=c||40960<=c&&42127>=c||42128<=c&&42191>=c?!0:!1};c.isWhiteSpace=function(c){return 32===c}})},"esri/views/2d/engine/webgl/Rect":function(){define(["require","exports"],function(d,c){Object.defineProperty(c,"__esModule",{value:!0});d=function(){function c(c,d,b,h){void 0===c&&(c=0);void 0===d&&(d=0);void 0===b&&(b=0);void 0===h&&(h=0);this.x=c;this.y=d;this.width=b;this.height=h}Object.defineProperty(c.prototype,"isEmpty",
{get:function(){return 0>=this.width||0>=this.height},enumerable:!0,configurable:!0});c.prototype.union=function(c){this.x=Math.min(this.x,c.x);this.y=Math.min(this.y,c.y);this.width=Math.max(this.width,c.width);this.height=Math.max(this.height,c.height)};return c}();c.default=d})},"esri/views/2d/engine/vectorTiles/SymbolBucket":function(){define("require exports tslib ../../../../core/BidiEngine ./Bucket ./GeometryUtils ./Placement ./TextShaping ./style/StyleLayer ../webgl/Geometry".split(" "),function(d,
c,h,m,q,b,k,l,a,e){function g(a,b){return a.iconMosaicItem&&b.iconMosaicItem?a.iconMosaicItem.page===b.iconMosaicItem.page?0:a.iconMosaicItem.page<b.iconMosaicItem.page?-1:1:a.iconMosaicItem&&!b.iconMosaicItem?1:!a.iconMosaicItem&&b.iconMosaicItem?-1:0}(function(){return function(){}})();return function(c){function d(a,b,e,d,g,h,k,l){b=c.call(this,a,b)||this;b._markerMap=new Map;b._glyphMap=new Map;b._glyphBufferDataStorage=new Map;b._sdfMarkers=!1;if(a.hasDataDrivenIcon!==e.isDataDriven())throw Error("incompatible icon buffer");
if(a.hasDataDrivenText!==g.isDataDriven())throw Error("incompatible text buffer");b._iconVertexBuffer=e;b._iconIndexBuffer=d;b._textVertexBuffer=g;b._textIndexBuffer=h;b._placementEngine=k;b._workerTileHandler=l;return b}h.__extends(d,c);Object.defineProperty(d.prototype,"markerPageMap",{get:function(){return this._markerMap},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"glyphsPageMap",{get:function(){return this._glyphMap},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,
"sdfMarker",{get:function(){return this._sdfMarkers},enumerable:!0,configurable:!0});d.prototype.copy=function(a,b,c,e,g){a=new d(this.layer,this.zoom,a,b,c,e,g,this._workerTileHandler);a.layerIndex=this.layerIndex;a.layerExtent=this.layerExtent;a._iconIndexStart=b.index;a._textIndexStart=e.index;a._iconIndexCount=0;a._textIndexCount=0;a._symbolInstances=this._symbolInstances;a._workerTileHandler=this._workerTileHandler;a._fontArray=this._fontArray;a._textLayout=this._textLayout;a._iconLayout=this._iconLayout;
a._isLinePlacement=this._isLinePlacement;a._avoidEdges=this._avoidEdges;return a};d.prototype.getResources=function(a,b,c){var e=this.layer,f=this.zoom,g=e.hasDataDrivenIcon,h=e.hasDataDrivenText;a&&a.setExtent(this.layerExtent);for(var k=e.getLayoutProperty("icon-image"),l=e.getLayoutProperty("text-field"),n=e.getLayoutValue("text-font",f),r=e.getLayoutValue("text-transform",f),m=[],q=[1,1,1,1],t=1,v=1,B=[1,1,1,1],D=1,L=1,J=0,G=this._features;J<G.length;J++){var F=G[J],O=F.getGeometry(a);if(O&&0!==
O.length){var K=void 0;k&&(K=e.getLayoutValue("icon-image",f,F),k.isDataDriven||(K=this._replaceKeys(K,F.values)),K&&b.add(K));var I=void 0,ba=!1;if(l&&((I=e.getLayoutValue("text-field",f,F))&&!l.isDataDriven&&(I=this._replaceKeys(I,F.values)),I)){I=I.replace(/\\n/g,"\n");switch(r){case 2:I=I.toLowerCase();break;case 1:I=I.toUpperCase()}d._bidiEngine.hasBidiChar(I)&&(ba=void 0,ba="rtl"===d._bidiEngine.checkContextual(I)?"IDNNN":"ICNNN",I=d._bidiEngine.bidiTransform(I,ba,"VLYSN"),ba=!0);var W=I.length;
if(0<W)for(var M=0,T=n;M<T.length;M++){var S=T[M],R=c[S];R||(R=c[S]=new Set);for(S=0;S<W;S++){var ca=I.charCodeAt(S);R.add(ca)}}}if(K||I)W=e.getLayoutValue("icon-size",f,F),M=e.getLayoutValue("text-size",f,F),e.hasDataDrivenIconColor&&(q=e.getPaintValue("icon-color",f,F)),e.hasDataDrivenIconOpacity&&(t=e.getPaintValue("icon-opacity",f,F)),e.hasDataDrivenIconSize&&(v=W),e.hasDataDrivenTextColor&&(B=e.getPaintValue("text-color",f,F)),e.hasDataDrivenTextOpacity&&(D=e.getPaintValue("text-opacity",f,F)),
e.hasDataDrivenTextSize&&(L=M),F={sprite:K,label:I,rtl:ba,type:F.type,geometry:O,iconSize:W,iconRotate:e.getLayoutValue("icon-rotate",f,F),ddIconValues:g?{color:q,opacity:t,size:v}:null,textSize:M,textRotate:e.getLayoutValue("text-rotate",f,F),ddTextValues:h?{color:B,opacity:D,size:L}:null},m.push(F)}}this._symbolFeatures=m};d.prototype.processFeatures=function(c){c&&c.setExtent(this.layerExtent);var e=this.layer,f=this.zoom;c=this._isLinePlacement=1===e.getLayoutValue("symbol-placement",f);var h=
8*e.getLayoutValue("symbol-spacing",f),n=e.getLayoutProperty("icon-image"),p=e.getLayoutProperty("text-field"),m=this._workerTileHandler,q,t;n&&(this._iconLayout=new a.IconLayout(e,f,c),q=m.getSpriteItems(),t=this._getTranslate(!0));var x,E;if(p){p=this._textLayout=new a.TextLayout(e,f,c);this._fontArray=p.fontArray;E=.5;switch(p.anchor){case 5:case 1:case 7:E=0;break;case 6:case 2:case 8:E=1}x=.5;switch(p.anchor){case 5:case 3:case 6:x=0;break;case 7:case 4:case 8:x=1}e=.5;switch(p.justify){case 0:e=
0;break;case 2:e=1}var f=p.letterSpacing*l.SDF_GLYPH_SIZE,n=c?0:p.maxWidth*l.SDF_GLYPH_SIZE,H=p.lineHeight*l.SDF_GLYPH_SIZE,p=this._fontArray.map(function(a){return m.getGlyphItems(a)});x=new l.TextShaping(p,n,H,f,E,x,e);E=this._getTranslate(!1)}this._iconIndexStart=this._iconIndexBuffer.index;this._textIndexStart=this._textIndexBuffer.index;this._textIndexCount=this._iconIndexCount=0;this._markerMap.clear();this._glyphMap.clear();this._symbolInstances=e=[];f=this._textLayout;n=1;f&&f.size&&(n=f.size/
l.SDF_GLYPH_SIZE);for(var p=f?f.maxAngle*b.C_DEG_TO_RAD:0,H=f?8*f.size:0,N=0,P=this._symbolFeatures;N<P.length;N++){var C=P[N],B=void 0;C.sprite&&(B=q[C.sprite])&&B.sdf&&(this._sdfMarkers=!0);var D=void 0,L=C.label,J=0;if(L&&(D=c?f.keepUpright:f.writingMode&&0<=f.writingMode.indexOf(1),(D=x.getShaping(L,C.rtl,D))&&0<D.length)){for(var J=1E30,L=-1E30,G=0,F=D;G<F.length;G++)var O=F[G],J=Math.min(J,O.x),L=Math.max(L,O.x);J=(L-J+2*l.SDF_GLYPH_SIZE)*n*8}L=0;for(G=C.geometry;L<G.length;L++){var F=G[L],
K=void 0;c?(D&&0<D.length&&f&&f.size&&d._smoothVertices(F,8*f.size*(2+Math.min(2,4*Math.abs(f.offset[1])))),K=d._findAnchors(F,h,J)):K=3===C.type?d._findCentroid(F):[new k.Anchor(F[0].x,F[0].y)];for(O=0;O<K.length;O++){var I=K[O];0>I.x||4096<I.x||0>I.y||4096<I.y||c&&0<J&&0===f.rotationAlignment&&!d._honorsTextMaxAngle(F,I,J,p,H)||e.push({shaping:D,line:F,iconMosaicItem:B,anchor:I,iconSize:C.iconSize,iconRotate:C.iconRotate,ddIconValues:C.ddIconValues,textSize:C.textSize,textRotate:C.textRotate,ddTextValues:C.ddTextValues})}}}e.sort(g);
for(q=0;q<e.length;q++)this._processFeature(e[q],t,E);this._addPlacedGlyphs()};d.prototype.updateSymbols=function(){this._iconIndexStart=this._iconIndexBuffer.index;this._textIndexStart=this._textIndexBuffer.index;this._textIndexCount=this._iconIndexCount=0;this._markerMap.clear();this._glyphMap.clear();var a=this.layer,b;a.getLayoutProperty("icon-image")&&(b=this._getTranslate(!0));var c;a.getLayoutProperty("text-field")&&(c=this._getTranslate(!1));for(var a=0,e=this._symbolInstances;a<e.length;a++)this._processFeature(e[a],
b,c);this._addPlacedGlyphs()};d.prototype.assignBufferInfo=function(){};d.prototype._getTranslate=function(a){var b=this.layer.getPaintValue(a?"icon-translate":"text-translate",this.zoom);if(0!==b[0]||0!==b[1]){var c=this._placementEngine.mapAngle;return 0!==c&&0===this.layer.getPaintValue(a?"icon-translate-anchor":"text-translate-anchor",this.zoom)?(a=Math.sin(c),c=Math.cos(c),[8*(b[0]*c-b[1]*a),8*(b[0]*a+b[1]*c)]):[8*b[0],8*b[1]]}};d.prototype._replaceKeys=function(a,b){return a.replace(/{([^{}]+)}/g,
function(a,c){return c in b?b[c]:""})};d.prototype._processFeature=function(a,c,e){var d=a.line,f=a.iconMosaicItem,g=a.shaping,h=a.anchor,k=this._iconLayout,n=k&&!!f,r=!0,m=1;n&&(k.size=a.iconSize,k.rotate=a.iconRotate,m=8*k.size,r=k.optional||!f);var q=this._textLayout,t=q&&g&&0<g.length,v;v=1;var C=!0;t&&(q.size=a.textSize,q.rotate=a.textRotate,v=q.size/l.SDF_GLYPH_SIZE,v*=8,C=q.optional||!g||0===g.length);var B;n&&(B=this._placementEngine.getIconPlacement(h,c,f,m,k),h.minzoom>B.footprint.minzoom&&
(B.footprint.minzoom=h.minzoom),B.footprint.minzoom===b.C_INFINITY&&(B=null));if(B||r){var D;t&&(D=this._placementEngine.getTextPlacement(h,e,g,v,d,q))&&(h.minzoom>D.footprint.minzoom&&(D.footprint.minzoom=h.minzoom),D.footprint.minzoom===b.C_INFINITY&&(D=null));if(D||C)B&&D||(C||r?C||D?r||B||(D=null):B=null:D=B=null),B&&D&&!C&&!r&&(c=Math.max(B.footprint.minzoom,D.footprint.minzoom),B.footprint.minzoom=c,D.footprint.minzoom=c),D&&(q.ignorePlacement||this._placementEngine.add(D),this._storePlacedGlyphs(D.shapes,
D.footprint.minzoom,this.zoom,a.ddTextValues)),B&&(k.ignorePlacement||this._placementEngine.add(B),this._addPlacedIcons(B.shapes,B.footprint.minzoom,this.zoom,f.page,a.ddIconValues))}};d.prototype._addPlacedIcons=function(a,c,e,d,g){c=Math.max(e+b.log2(c),0);for(var f=this._iconVertexBuffer,h=this._iconIndexBuffer,k=0;k<a.length;k++){var l=a[k],n=Math.max(e+b.log2(l.minzoom),c),r=Math.min(e+b.log2(l.maxzoom),25);if(!(r<=n)){var m=l.tl,q=l.tr,t=l.bl,v=l.br,z=l.mosaicRect,A=l.labelAngle,L=l.minAngle,
J=l.maxAngle,l=l.anchor,G=f.index,F=z.x,O=z.y,K=F+z.width,z=O+z.height;f.add(l.x,l.y,m.x,m.y,F,O,A,L,J,n,r,c,g);f.add(l.x,l.y,q.x,q.y,K,O,A,L,J,n,r,c,g);f.add(l.x,l.y,t.x,t.y,F,z,A,L,J,n,r,c,g);f.add(l.x,l.y,v.x,v.y,K,z,A,L,J,n,r,c,g);h.add(G+0,G+1,G+2);h.add(G+1,G+2,G+3);this._markerMap.has(d)?this._markerMap.get(d)[1]+=6:this._markerMap.set(d,[this._iconIndexStart+this._iconIndexCount,6]);this._iconIndexCount+=2}}};d.prototype._addPlacedGlyphs=function(){var a=this,b=this._textVertexBuffer,c=this._textIndexBuffer;
this._glyphBufferDataStorage.forEach(function(e,d){for(var f=0;f<e.length;f++){var g=e[f],h=b.index;b.add(g.glyphAnchor[0],g.glyphAnchor[1],g.tl[0],g.tl[1],g.xmin,g.ymin,g.labelAngle,g.minAngle,g.maxAngle,g.minLod,g.maxLod,g.placementLod,g.ddValues);b.add(g.glyphAnchor[0],g.glyphAnchor[1],g.tr[0],g.tr[1],g.xmax,g.ymin,g.labelAngle,g.minAngle,g.maxAngle,g.minLod,g.maxLod,g.placementLod,g.ddValues);b.add(g.glyphAnchor[0],g.glyphAnchor[1],g.bl[0],g.bl[1],g.xmin,g.ymax,g.labelAngle,g.minAngle,g.maxAngle,
g.minLod,g.maxLod,g.placementLod,g.ddValues);b.add(g.glyphAnchor[0],g.glyphAnchor[1],g.br[0],g.br[1],g.xmax,g.ymax,g.labelAngle,g.minAngle,g.maxAngle,g.minLod,g.maxLod,g.placementLod,g.ddValues);c.add(h+0,h+1,h+2);c.add(h+1,h+2,h+3);a._glyphMap.has(d)?a._glyphMap.get(d)[1]+=6:a._glyphMap.set(d,[a._textIndexStart+a._textIndexCount,6]);a._textIndexCount+=2}});this._glyphBufferDataStorage.clear()};d.prototype._storePlacedGlyphs=function(a,c,e,d){c=Math.max(e+b.log2(c),0);for(var f=0;f<a.length;f++){var g=
a[f],h=Math.max(e+b.log2(g.minzoom),c),k=Math.min(e+b.log2(g.maxzoom),25);if(!(k<=h)){var l=g.tl,n=g.tr,r=g.bl,m=g.br,q=g.labelAngle,t=g.minAngle,v=g.maxAngle,z=g.anchor,D=g.mosaicRect;this._glyphBufferDataStorage.has(g.page)||this._glyphBufferDataStorage.set(g.page,[]);this._glyphBufferDataStorage.get(g.page).push({glyphAnchor:[z.x,z.y],tl:[l.x,l.y],tr:[n.x,n.y],bl:[r.x,r.y],br:[m.x,m.y],xmin:D.x,ymin:D.y,xmax:D.x+D.width,ymax:D.y+D.height,labelAngle:q,minAngle:t,maxAngle:v,minLod:h,maxLod:k,placementLod:c,
ddValues:d})}}};d._findAnchors=function(a,c,d){c+=d;for(var f=0,g=a.length-1,h=0;h<g;h++)f+=e.Point.distance(a[h],a[h+1]);h=.5*(d||c);if(f<=h)return[];d=h/f;c=f/Math.max(Math.round(f/c),1);for(var f=0,g=-c/2,l=[],n=a.length-1,h=0;h<n;h++){for(var r=a[h],m=a[h+1],q=m.x-r.x,t=m.y-r.y,v=Math.sqrt(q*q+t*t),P=void 0;g+c<f+v;){var g=g+c,C=(g-f)/v,B=b.interpolate(r.x,m.x,C),C=b.interpolate(r.y,m.y,C);void 0===P&&(P=Math.atan2(t,q));l.push(new k.Anchor(B,C,P,h,d))}f+=v}return l};d._deviation=function(a,b,
c){return Math.atan2((b.x-a.x)*(c.y-b.y)-(b.y-a.y)*(c.x-b.x),(b.x-a.x)*(c.x-b.x)+(b.y-a.y)*(c.y-b.y))};d._honorsTextMaxAngle=function(a,b,c,d,g){var f=0;c/=2;for(var h=new e.Point(b.x,b.y),l=b.segment+1;f>-c;){--l;if(0>l)return!1;f-=e.Point.distance(a[l],h);h=a[l]}f+=e.Point.distance(a[l],a[l+1]);b=[];for(var h=0,k=a.length;f<c;){var n=a[l],m=void 0;do{++l;if(l===k)return!1;m=a[l]}while(m.isEqual(n));var r=l,q=void 0;do{++r;if(r===k)return!1;q=a[r]}while(q.isEqual(m));n=this._deviation(n,m,q);b.push({deviation:n,
distToAnchor:f});for(h+=n;f-b[0].distToAnchor>g;)h-=b.shift().deviation;if(Math.abs(h)>d)return!1;f+=e.Point.distance(m,q)}return!0};d._smoothVertices=function(a,b){if(!(0>=b)){var c=a.length;if(!(3>c)){var d=[],f=0;d.push(0);for(var g=1;g<c;g++)f+=e.Point.distance(a[g],a[g-1]),d.push(f);b=Math.min(b,.2*f);f=[];f.push(a[0].x);f.push(a[0].y);var h=a[c-1].x,l=a[c-1].y,g=e.Point.sub(a[0],a[1]);g.normalize();a[0].x+=b*g.x;a[0].y+=b*g.y;g.assignSub(a[c-1],a[c-2]);g.normalize();a[c-1].x+=b*g.x;a[c-1].y+=
b*g.y;for(g=1;g<c;g++)d[g]+=b;d[c-1]+=b;for(var k=.5*b,g=1;g<c-1;g++){for(var n=0,m=0,r=0,q=g-1;0<=q&&!(d[q+1]<d[g]-k);q--){var t=k+d[q+1]-d[g],C=d[q+1]-d[q],B=d[g]-d[q]<k?1:t/C;if(1E-6>Math.abs(B))break;var D=B*B,L=B*t-.5*D*C,J=B*C/b,G=a[q+1],F=a[q].x-G.x,O=a[q].y-G.y,n=n+J/L*(G.x*B*t+.5*D*(t*F-C*G.x)-D*B*C*F/3),m=m+J/L*(G.y*B*t+.5*D*(t*O-C*G.y)-D*B*C*O/3),r=r+J}for(q=g+1;q<c&&!(d[q-1]>d[g]+k);q++){t=k-d[q-1]+d[g];C=d[q]-d[q-1];B=d[q]-d[g]<k?1:t/C;if(1E-6>Math.abs(B))break;D=B*B;L=B*t-.5*D*C;J=B*
C/b;G=a[q-1];F=a[q].x-G.x;O=a[q].y-G.y;n+=J/L*(G.x*B*t+.5*D*(t*F-C*G.x)-D*B*C*F/3);m+=J/L*(G.y*B*t+.5*D*(t*O-C*G.y)-D*B*C*O/3);r+=J}f.push(n/r);f.push(m/r)}f.push(h);f.push(l);for(q=g=0;g<c;g++)a[g].x=f[q++],a[g].y=f[q++]}}};d._findCentroid=function(a){var b=a.length-1,c=0,e=0,d=0,f=a[0].x,g=a[0].y;4096<f&&(f=4096);0>f&&(f=0);4096<g&&(g=4096);0>g&&(g=0);for(var h=1;h<b;h++){var l=a[h].x,n=a[h].y,m=a[h+1].x,q=a[h+1].y;4096<l&&(l=4096);0>l&&(l=0);4096<n&&(n=4096);0>n&&(n=0);4096<m&&(m=4096);0>m&&(m=
0);4096<q&&(q=4096);0>q&&(q=0);var t=(l-f)*(q-g)-(m-f)*(n-g),c=c+t*(f+l+m),e=e+t*(g+n+q),d=d+t}c/=3*d;e/=3*d;return isNaN(c)||isNaN(e)?[]:[new k.Anchor(c,e)]};d._bidiEngine=new m.default;return d}(q)})},"esri/core/BidiEngine":function(){define(["require","exports","./bidiEngineTables"],function(d,c,h){function m(a,c,e,d,f){var g=a;void 0===c&&(c=f.defInFormat);void 0===e&&(e=f.defOutFormat);void 0===d&&(d=f.defSwap);if(c!==e){var h=c.substring(0,1),k=e.substring(0,1),n;n=c.substring(1,4);var p=e.substring(1,
4);"C"===n.charAt(0)&&(n=q(g),n="ltr"===n||"rtl"===n?n.toUpperCase():"L"===c.charAt(2)?"LTR":"RTL",c=h+n);"C"===p.charAt(0)&&(n=q(g),"rtl"===n?p="RTL":"ltr"===n?(g=g.split(""),g.reverse(),n=q(g.join("")),p=n.toUpperCase()):p="L"===e.charAt(2)?"LTR":"RTL",e=k+p)}if(c===e)return a;k=c.substring(0,1);g=c.substring(1,4);h=e.substring(0,1);p=e.substring(1,4);f.inFormat=c;f.outFormat=e;f.swap=d;if("L"===k&&"VLTR"===e){if("LTR"===g)return f.dir=E,b(a,f);if("RTL"===g)return f.dir=H,b(a,f)}if("V"===k&&"V"===
h)return f.dir="RTL"===g?H:E,l(a,f);if("L"===k&&"VRTL"===e)return f.dir="LTR"===g?E:H,a=b(a,f),l(a);if("VLTR"===c&&"LLTR"===e)return f.dir=E,b(a,f);if("V"===k&&"L"===h&&g!==p)return a=l(a),"RTL"===g?m(a,"LLTR","VLTR",d,f):m(a,"LRTL","VRTL",d,f);if("VRTL"===c&&"LRTL"===e)return m(a,"LRTL","VRTL",d,f);"L"===k&&"L"===h&&(c=f.swap,f.swap=c.substr(0,1)+"N","RTL"===g?(f.dir=H,a=b(a,f),f.swap="N"+c.substr(1,2),f.dir=E,a=b(a,f)):(f.dir=E,a=b(a,f),f.swap="N"+c.substr(1,2),a=m(a,"VLTR","LRTL",f.swap,f)));return a}
function q(a){return(a=/[A-Za-z\u05d0-\u065f\u066a-\u06ef\u06fa-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/.exec(a))?"z">=a[0]?"ltr":"rtl":""}function b(a,b){a=a.split("");var c=[];k(a,c,b);if(0!==b.hiLevel&&b.swap.substr(0,1)!==b.swap.substr(1,2))for(var e=0;e<a.length;e++)if(1===c[e]){var d=e,f;b:{f=a[e];for(var l=void 0,n=0,m=h.SwapTable.length-1;n<=m;)if(l=Math.floor((n+m)/2),f<h.SwapTable[l][0])m=l-1;else if(f>h.SwapTable[l][0])n=l+1;else{f=h.SwapTable[l][1];break b}}a[d]=f}g(2,a,c,b);g(1,a,c,b);u=c;
return a.join("")}function k(a,b,c){var e=a.length,d=c.dir?h.impTabRtl:h.impTabLtr,f=null,g=null,l=null,f=0,g=g=null,k=-1,m=g=null,p=[],r=[];c.hiLevel=c.dir;c.lastArabic=!1;c.hasUbatAl=!1;c.hasUbatB=!1;c.hasUbatS=!1;for(g=0;g<e;g++){var m=g,l=a[g].charCodeAt(0),q=h.MasterTable[l>>8];p[m]=q<h.TBBASE?q:h.UnicodeTable[q-h.TBBASE][l&255]}for(m=0;m<e;m++){r[m]=g=n(a,p,r,m,c);f=d[f][g];g=f&240;f&=15;b[m]=l=d[f][y];if(0<g){if(16===g)for(g=k;g<m;g++)b[g]=1;k=-1}if(g=d[f][x])-1===k&&(k=m);else if(-1<k){for(g=
k;g<m;g++)b[g]=l;k=-1}p[m]===h.UBAT_B&&(b[m]=0);c.hiLevel|=l}if(c.hasUbatS)for(a=0;a<e;a++)if(p[a]===h.UBAT_S)for(b[a]=c.dir,d=a-1;0<=d;d--)if(p[d]===h.UBAT_WS)b[d]=c.dir;else break}function l(a,b){a=a.split("");if(b){var c=[];k(a,c,b);u=c}a.reverse();A.reverse();return a.join("")}function a(a){for(var b=0;b<h.ArabicAlefBetIntervalsBegine.length;b++)if(a>=h.ArabicAlefBetIntervalsBegine[b]&&a<=h.ArabicAlefBetIntervalsEnd[b])return!0;return!1}function e(b,c,e,d){for(;c*e<d&&f(b[c]);)c+=e;return c*e<
d&&a(b[c])?!0:!1}function g(a,b,c,e){if(!(e.hiLevel<a))if(1!==a||e.dir!==H||e.hasUbatB){e=b.length;for(var d=0,f,g,h;d<e;){if(c[d]>=a){for(f=d+1;f<e&&c[f]>=a;)f++;for(g=f-1;d<g;d++,g--)h=b[d],b[d]=b[g],b[g]=h,h=A[d],A[d]=A[g],A[g]=h;d=f}d++}}else b.reverse(),A.reverse()}function n(a,b,c,e,d){return{UBAT_L:function(){d.lastArabic=!1;return h.UBAT_L},UBAT_R:function(){d.lastArabic=!1;return h.UBAT_R},UBAT_ON:function(){return h.UBAT_ON},UBAT_AN:function(){return h.UBAT_AN},UBAT_EN:function(){return d.lastArabic?
h.UBAT_AN:h.UBAT_EN},UBAT_AL:function(){d.lastArabic=!0;d.hasUbatAl=!0;return h.UBAT_R},UBAT_WS:function(){return h.UBAT_ON},UBAT_CS:function(){var a,f;if(1>e||e+1>=b.length||(a=c[e-1])!==h.UBAT_EN&&a!==h.UBAT_AN||(f=b[e+1])!==h.UBAT_EN&&f!==h.UBAT_AN)return h.UBAT_ON;d.lastArabic&&(f=h.UBAT_AN);return f===a?f:h.UBAT_ON},UBAT_ES:function(){return(0<e?c[e-1]:h.UBAT_B)===h.UBAT_EN&&e+1<b.length&&b[e+1]===h.UBAT_EN?h.UBAT_EN:h.UBAT_ON},UBAT_ET:function(){if(0<e&&c[e-1]===h.UBAT_EN)return h.UBAT_EN;if(d.lastArabic)return h.UBAT_ON;
for(var a=e+1,f=b.length;a<f&&b[a]===h.UBAT_ET;)a++;return a<f&&b[a]===h.UBAT_EN?h.UBAT_EN:h.UBAT_ON},UBAT_NSM:function(){if("VLTR"===d.inFormat){for(var f=b.length,g=e+1;g<f&&b[g]===h.UBAT_NSM;)g++;if(g<f&&(f=a[e].charCodeAt[0],g=b[g],(1425<=f&&2303>=f||64286===f)&&(g===h.UBAT_R||g===h.UBAT_AL)))return h.UBAT_R}return 1>e||b[e-1]===h.UBAT_B?h.UBAT_ON:c[e-1]},UBAT_B:function(){d.lastArabic=!0;d.hasUbatB=!0;return d.dir},UBAT_S:function(){d.hasUbatS=!0;return h.UBAT_ON},UBAT_LRE:function(){d.lastArabic=
!1;return h.UBAT_ON},UBAT_RLE:function(){d.lastArabic=!1;return h.UBAT_ON},UBAT_LRO:function(){d.lastArabic=!1;return h.UBAT_ON},UBAT_RLO:function(){d.lastArabic=!1;return h.UBAT_ON},UBAT_PDF:function(){d.lastArabic=!1;return h.UBAT_ON},UBAT_BN:function(){return h.UBAT_ON}}[h.TYPES_NAMES[b[e]]]()}function t(a,b){for(var c=0;c<h.BaseForm.length;c++)if(a===h.BaseForm[c])return b[c];return a}function f(a){return"\u064b"<=a&&"\u0655">=a?!0:!1}function r(a){return"L"===a?"LTR":"R"===a?"RTL":"C"===a?"CLR":
"D"===a?"CRL":""}function v(a,b){for(var c=0;c<h.AlefTable.length;c++)if(a===h.AlefTable[c])return b[c];return a}function z(a,b,c,e){for(var d=0;d<a.length;d++)if(a[d]>b||!c&&a[d]===b)a[d]+=e}Object.defineProperty(c,"__esModule",{value:!0});d=function(){function b(){this.inputFormat="ILYNN";this.outputFormat="VLNNN";this.sourceToTarget=[];this.targetToSource=[];this.levels=[]}b.prototype.bidiTransform=function(b,c,d){this.sourceToTarget=[];this.targetToSource=[];if(!b)return"";var g=this.sourceToTarget,
l=this.targetToSource,k=b.length;A=[];u=[];for(var n=0;n<k;n++)g[n]=n,l[n]=n,A[n]=n;if(!this.checkParameters(c,d))return b;c=this.inputFormat;d=this.outputFormat;var g=b,g=w,n=r(c.charAt(1)),l=r(d.charAt(1)),q="I"===c.charAt(0)?"L":c.charAt(0),k="I"===d.charAt(0)?"L":d.charAt(0),n=q+n,l=k+l,k=c.charAt(2)+d.charAt(2);g.defInFormat=n;g.defOutFormat=l;g.defSwap=k;b=m(b,n,l,k,g);g=!1;if("R"===d.charAt(1))g=!0;else if("C"===d.charAt(1)||"D"===d.charAt(1))g="rtl"===this.checkContextual(b);l=this.sourceToTarget=
A;k=Array(l.length);for(n=0;n<l.length;n++)k[l[n]]=n;p=this.targetToSource=k;if(c.charAt(3)===d.charAt(3))g=b;else if("S"===d.charAt(3))if(c=g,d=!0,0===b.length)g="";else{void 0===c&&(c=!0);void 0===d&&(d=!0);b=String(b);b=b.split("");var x=0,l=1,g=b.length;c||(x=b.length-1,l=-1,g=1);for(var k=g,n=d,y=0,g=[],q=0;x*l<k;x+=l)if(a(b[x])||f(b[x])){var B;if(B="\u0644"===b[x])b:{for(var E=b,C=x+l,D=l,H=k;C*D<H&&f(E[C]);)C+=D;B=" ";if(C*D<H)for(B=E[C],E=0;E<h.AlefTable.length;E++)if(h.AlefTable[E]===B){B=
!0;break b}B=!1}if(B){b[x]=0===y?v(b[x+l],h.LamAlefInialTableFE):v(b[x+l],h.LamAlefMedialTableFE);x+=l;y=b;B=x;E=l;for(C=k;B*E<C&&f(y[B]);)B+=E;B*E<C&&(y[B]=" ");n&&(g[q]=x,q++);y=0}else{B=b[x];if(1===y){E=x;if(e(b,x+l,l,k))b:for(C=b[x],D=0;D<h.BaseForm.length;D++){if(C===h.BaseForm[D]){C=h.MedialForm[D];break b}}else C=t(b[x],h.FinalForm);b[E]=C}else!0===e(b,x+l,l,k)?b[x]=t(b[x],h.InitialForm):b[x]=t(b[x],h.IsolatedForm);f(B)||(y=1);b:{for(E=0;E<h.StandAlonForm.length;E++)if(h.StandAlonForm[E]===
B){B=!0;break b}B=!1}!0===B&&(y=0)}}else y=0;l="";for(k=0;k<b.length;k++){if(n=d){b:{for(n=0;n<g.length;n++)if(g[n]===k)break b;n=-1}n=-1<n}n?(z(p,k,!c,-1),A.splice(k,1)):l+=b[k]}g=l}else if(c=b,d=g,b=!0,0===c.length)g="";else for(void 0===b&&(b=!0),void 0===d&&(d=!0),c=String(c),g="",l=c.split(""),k=0;k<c.length;k++)n=!1,"\ufe70"<=l[k]&&"\ufeff">l[k]?(q=c.charCodeAt(k),"\ufef5"<=l[k]&&"\ufefc">=l[k]?(d?(0<k&&b&&" "===l[k-1]?g=g.substring(0,g.length-1)+"\u0644":(g+="\u0644",n=!0),g+=h.AlefTable[(q-
65269)/2]):(g+=h.AlefTable[(q-65269)/2],g+="\u0644",k+1<c.length&&b&&" "===l[k+1]?k++:n=!0),n&&(z(p,k,!0,1),A.splice(k,0,A[k]))):g+=h.FETo06Table[q-65136]):g+=l[k];this.sourceToTarget=A;this.targetToSource=p;this.levels=u;return g};b.prototype._inputFormatSetter=function(a){if(!N.test(a))throw Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.inputFormat=a};b.prototype._outputFormatSetter=function(a){if(!N.test(a))throw Error("dojox/string/BidiEngine: the bidi layout string is wrong!");
this.outputFormat=a};b.prototype.checkParameters=function(a,b){a?this._inputFormatSetter(a):a=this.inputFormat;b?this._outputFormatSetter(b):b=this.outputFormat;return a===b?!1:!0};b.prototype.checkContextual=function(a){a=q(a);if("ltr"!==a&&"rtl"!==a){try{a=document.dir.toLowerCase()}catch(D){}"ltr"!==a&&"rtl"!==a&&(a="ltr")}return a};b.prototype.hasBidiChar=function(a){return P.test(a)};return b}();c.default=d;var A=[],p=[],u=[],w={dir:0,defInFormat:"LLTR",defoutFormat:"VLTR",defSwap:"YN",inFormat:"LLTR",
outFormat:"VLTR",swap:"YN",hiLevel:0,lastArabic:!1,hasUbatAl:!1,hasBlockSep:!1,hasSegSep:!1,defOutFormat:""},y=5,x=6,E=0,H=1,N=/^[(I|V)][(L|R|C|D)][(Y|N)][(S|N)][N]$/,P=/[\u0591-\u06ff\ufb1d-\ufefc]/})},"esri/core/bidiEngineTables":function(){define(["require","exports"],function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.SwapTable=[["(",")"],[")","("],["\x3c","\x3e"],["\x3e","\x3c"],["[","]"],["]","["],["{","}"],["}","{"],["\u00ab","\u00bb"],["\u00bb","\u00ab"],["\u2039","\u203a"],["\u203a",
"\u2039"],["\u207d","\u207e"],["\u207e","\u207d"],["\u208d","\u208e"],["\u208e","\u208d"],["\u2264","\u2265"],["\u2265","\u2264"],["\u2329","\u232a"],["\u232a","\u2329"],["\ufe59","\ufe5a"],["\ufe5a","\ufe59"],["\ufe5b","\ufe5c"],["\ufe5c","\ufe5b"],["\ufe5d","\ufe5e"],["\ufe5e","\ufe5d"],["\ufe64","\ufe65"],["\ufe65","\ufe64"]];c.AlefTable=["\u0622","\u0623","\u0625","\u0627"];c.LamAlefInialTableFE=["\ufef5","\ufef7","\ufef9","\ufefb"];c.LamAlefMedialTableFE=["\ufef6","\ufef8","\ufefa","\ufefc"];
c.BaseForm="\u0627\u0628\u062a\u062b\u062c\u062d\u062e\u062f\u0630\u0631\u0632\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u0643\u0644\u0645\u0646\u0647\u0648\u064a\u0625\u0623\u0622\u0629\u0649\u0644\u0645\u0646\u0647\u0648\u064a\u0625\u0623\u0622\u0629\u0649\u06cc\u0626\u0624".split("");c.IsolatedForm="\ufe8d\ufe8f\ufe95\ufe99\ufe9d\ufea1\ufea5\ufea9\ufeab\ufead\ufeaf\ufeb1\ufeb5\ufeb9\ufebd\ufec1\ufec5\ufec9\ufecd\ufed1\ufed5\ufed9\ufedd\ufee1\ufee5\ufee9\ufeed\ufef1\ufe87\ufe83\ufe81\ufe93\ufeef\ufbfc\ufe89\ufe85\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe89\ufe85".split("");
c.FinalForm="\ufe8e\ufe90\ufe96\ufe9a\ufe9e\ufea2\ufea6\ufeaa\ufeac\ufeae\ufeb0\ufeb2\ufeb6\ufeba\ufebe\ufec2\ufec6\ufeca\ufece\ufed2\ufed6\ufeda\ufede\ufee2\ufee6\ufeea\ufeee\ufef2\ufe88\ufe84\ufe82\ufe94\ufef0\ufbfd\ufe8a\ufe86\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe8a\ufe86".split("");c.MedialForm="\ufe8e\ufe92\ufe98\ufe9c\ufea0\ufea4\ufea8\ufeaa\ufeac\ufeae\ufeb0\ufeb4\ufeb8\ufebc\ufec0\ufec4\ufec8\ufecc\ufed0\ufed4\ufed8\ufedc\ufee0\ufee4\ufee8\ufeec\ufeee\ufef4\ufe88\ufe84\ufe82\ufe94\ufef0\ufbff\ufe8c\ufe86\ufe71\ufe72\ufe74\ufe77\ufe79\ufe7b\ufe7d\ufe7f\ufe80\ufe8c\ufe86".split("");
c.InitialForm="\ufe8d\ufe91\ufe97\ufe9b\ufe9f\ufea3\ufea7\ufea9\ufeab\ufead\ufeaf\ufeb3\ufeb7\ufebb\ufebf\ufec3\ufec7\ufecb\ufecf\ufed3\ufed7\ufedb\ufedf\ufee3\ufee7\ufeeb\ufeed\ufef3\ufe87\ufe83\ufe81\ufe93\ufeef\ufbfe\ufe8b\ufe85\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe8b\ufe85".split("");c.StandAlonForm="\u0621\u0622\u0623\u0624\u0625\u0627\u0629\u062f\u0630\u0631\u0632\u0648\u0649".split("");c.FETo06Table="\u064b\u064b\u064c\u061f\u064d\u061f\u064e\u064e\u064f\u064f\u0650\u0650\u0651\u0651\u0652\u0652\u0621\u0622\u0622\u0623\u0623\u0624\u0624\u0625\u0625\u0626\u0626\u0626\u0626\u0627\u0627\u0628\u0628\u0628\u0628\u0629\u0629\u062a\u062a\u062a\u062a\u062b\u062b\u062b\u062b\u062c\u062c\u062c\u062c\u062d\u062d\u062d\u062d\u062e\u062e\u062e\u062e\u062f\u062f\u0630\u0630\u0631\u0631\u0632\u0632\u0633\u0633\u0633\u0633\u0634\u0634\u0634\u0634\u0635\u0635\u0635\u0635\u0636\u0636\u0636\u0636\u0637\u0637\u0637\u0637\u0638\u0638\u0638\u0638\u0639\u0639\u0639\u0639\u063a\u063a\u063a\u063a\u0641\u0641\u0641\u0641\u0642\u0642\u0642\u0642\u0643\u0643\u0643\u0643\u0644\u0644\u0644\u0644\u0645\u0645\u0645\u0645\u0646\u0646\u0646\u0646\u0647\u0647\u0647\u0647\u0648\u0648\u0649\u0649\u064a\u064a\u064a\u064a\ufef5\ufef6\ufef7\ufef8\ufef9\ufefa\ufefb\ufefc\u061f\u061f\u061f".split("");
c.ArabicAlefBetIntervalsBegine=["\u0621","\u0641"];c.ArabicAlefBetIntervalsEnd=["\u063a","\u064a"];c.impTabLtr=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]];c.impTabRtl=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]];c.UBAT_L=0;c.UBAT_R=1;c.UBAT_EN=2;c.UBAT_AN=3;c.UBAT_ON=4;c.UBAT_B=5;c.UBAT_S=6;c.UBAT_AL=7;c.UBAT_WS=8;c.UBAT_CS=9;c.UBAT_ES=10;c.UBAT_ET=11;c.UBAT_NSM=12;c.UBAT_LRE=13;c.UBAT_RLE=14;c.UBAT_PDF=15;c.UBAT_LRO=16;
c.UBAT_RLO=17;c.UBAT_BN=18;c.TYPES_NAMES="UBAT_L UBAT_R UBAT_EN UBAT_AN UBAT_ON UBAT_B UBAT_S UBAT_AL UBAT_WS UBAT_CS UBAT_ES UBAT_ET UBAT_NSM UBAT_LRE UBAT_RLE UBAT_PDF UBAT_LRO UBAT_RLO UBAT_BN".split(" ");c.TBBASE=100;d=c.UBAT_L;var h=c.UBAT_R,m=c.UBAT_EN,q=c.UBAT_AN,b=c.UBAT_ON,k=c.UBAT_B,l=c.UBAT_S,a=c.UBAT_AL,e=c.UBAT_WS,g=c.UBAT_CS,n=c.UBAT_ES,t=c.UBAT_ET,f=c.UBAT_NSM,r=c.UBAT_LRE,v=c.UBAT_RLE,z=c.UBAT_PDF,A=c.UBAT_LRO,p=c.UBAT_RLO,u=c.UBAT_BN;c.MasterTable=[c.TBBASE+0,d,d,d,d,c.TBBASE+1,c.TBBASE+
2,c.TBBASE+3,h,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,c.TBBASE+4,b,b,b,d,b,d,b,d,b,b,b,d,d,b,b,d,d,d,d,d,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,d,d,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,d,d,d,d,d,d,d,d,d,d,d,d,d,d,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,d,d,b,b,d,d,b,b,d,d,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,
d,d,d,c.TBBASE+5,a,a,c.TBBASE+6,c.TBBASE+7];c.UnicodeTable=[[u,u,u,u,u,u,u,u,u,l,k,l,e,k,u,u,u,u,u,u,u,u,u,u,u,u,u,u,k,k,k,l,e,b,b,t,t,t,b,b,b,b,b,n,g,n,g,g,m,m,m,m,m,m,m,m,m,m,g,b,b,b,b,b,b,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,b,b,b,b,b,b,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,b,b,b,b,u,u,u,u,u,u,k,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,g,b,t,t,t,t,b,b,b,b,d,b,b,u,b,b,t,t,m,m,b,d,b,b,b,m,d,b,b,b,b,b,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,b,d,d,d,d,
d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,b,d,d,d,d,d,d,d,d],[d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,b,b,b,b,b,b,b,b,b,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,b,b,d,d,d,d,d,d,d,b,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,b,d,b,b,b,b,b,b,b,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,h,f,h,f,f,h,f,f,h,f,b,b,b,b,b,b,b,b,h,h,h,h,h,h,
h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,b,b,b,b,b,h,h,h,h,h,b,b,b,b,b,b,b,b,b,b,b],[q,q,q,q,b,b,b,b,a,t,t,a,g,a,b,b,f,f,f,f,f,f,f,f,f,f,f,a,b,b,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,q,q,q,q,q,q,q,q,q,q,t,q,q,a,a,a,f,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,
a,a,a,a,a,a,f,f,f,f,f,f,f,q,b,f,f,f,f,f,f,a,a,f,f,b,f,f,f,f,a,a,m,m,m,m,m,m,m,m,m,m,a,a,a,a,a,a],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,b,a,a,f,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,b,b,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,f,f,f,f,f,f,f,f,f,f,f,a,b,b,b,b,b,b,b,b,b,b,b,b,b,b,h,h,h,h,h,h,h,h,h,h,
h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,f,f,f,f,f,f,f,f,f,h,h,b,b,b,b,h,b,b,b,b,b],[e,e,e,e,e,e,e,e,e,e,e,u,u,u,d,h,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,e,k,r,v,z,A,p,g,t,t,t,t,t,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,g,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,e,u,u,u,u,u,b,b,b,b,b,u,u,u,u,u,u,m,d,b,b,m,m,m,m,m,m,n,n,b,b,b,d,m,m,m,m,m,m,m,m,m,m,n,n,b,b,b,b,d,d,d,d,d,d,d,d,d,d,d,d,d,b,b,b,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,b,b,b,b,b,b,b,b,b,b,
b,b,b,b,b,b,b,b,b,b,b,b,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b],[d,d,d,d,d,d,d,b,b,b,b,b,b,b,b,b,b,b,b,d,d,d,d,d,b,b,b,b,b,h,f,h,h,h,h,h,h,h,h,h,h,n,h,h,h,h,h,h,h,h,h,h,h,h,h,b,h,h,h,h,h,b,h,b,h,h,b,h,h,b,h,h,h,h,h,h,h,h,h,h,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,
a,a,a,a,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a],[f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,f,f,f,f,f,f,f,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,g,b,g,b,b,g,b,b,b,b,b,b,b,b,b,t,b,b,n,n,b,b,b,b,b,t,t,b,b,b,b,b,a,a,a,a,a,b,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,
a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,b,b,u],[b,b,b,t,t,t,b,b,b,b,b,n,g,n,g,g,m,m,m,m,m,m,m,m,m,m,g,b,b,b,b,b,b,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,b,b,b,b,b,b,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,b,b,b,b,b,b,b,b,b,b,b,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,
d,d,d,d,d,d,d,d,d,d,d,d,d,b,b,b,d,d,d,d,d,d,b,b,d,d,d,d,d,d,b,b,d,d,d,d,d,d,b,b,d,d,d,b,b,b,t,t,b,b,b,t,t,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b]]})},"esri/views/2d/engine/vectorTiles/TileParser":function(){define("require exports tslib ../../../../core/pbf ../../../../core/promiseUtils ./BackgroundBucket ./CircleBucket ./Feature ./FillBucket ./LineBucket ./SourceLayerData ./SymbolBucket ../webgl/TileClipper ../../tiling/enums".split(" "),function(d,c,h,m,q,b,k,l,a,e,g,n,t,f){return function(){function c(a,
b,c){this._pbfTiles={};this._tileClippers={};this._client=c;this._tile=b;this._layers=b.getLayers();var e=b.tileKey.split("/").map(parseFloat);b=e[0];c=e[1];e=e[2];this._level=b;for(var d=Math.max(8,Math.round(1*this._level)-8),f=0,g=Object.keys(a);f<g.length;f++){var h=g[f],l=a[h];this._pbfTiles[h]=new m(new Uint8Array(l.protobuff),new DataView(l.protobuff));if(l.refKey&&(l=l.refKey.split("/").map(parseFloat)[0],l=b-l,0<l)){var k=(1<<l)-1;this._tileClippers[h]=new t.TileClipper(l,c&k,e&k,8,d)}this._tileClippers[h]||
(this._tileClippers[h]=new t.SimpleBuilder)}}c.prototype.parse=function(a){return h.__awaiter(this,void 0,void 0,function(){var b,c,e,d,g,k,n,m,r,t,v,C,B,D,L,J,G,F,O,K,I,ba,W,M,T,S,R,ca,U,Q,Z,X,Y,V,aa,ea,ma,fa,da,ka,pa,ja,na,ia,qa,la,ha,ga,oa,ra,va,wa,xa,za,Aa,ta,ua,sa;return h.__generator(this,function(h){b=a&&a.signal;c=this._parseTileData(this._pbfTiles);e=this._layers;d=this._level;k=[];n=this._tileClippers;m={};r={};for(t=e.length-1;0<=t;t--)if(g=e[t],!(g.minzoom&&d<Math.floor(g.minzoom)||g.maxzoom&&
d>=g.maxzoom||g.layout&&g.layout.visibility&&"none"===g.layout.visibility||0===g.type)&&c[g.source]&&n[g.source]&&(v=c[g.source],C=n[g.source],B=g.sourceLayer,D=v[B]))if((L=r[g.source])||(L=r[g.source]=new Set),L.add(g.sourceLayer),J=this._createBucket(g))J.layerIndex=t,J.layerExtent=D.extent,J.tileClipper=C,(G=m[g.source])||(G=m[g.source]={}),(F=G[B])||(F=G[B]=[]),F.push(J);O=10*this._level;K=10*(this._level+1);I=[];ba=[];W=[];M=[];T=new Set;S={};R=[];ca=[];U=function(a){r[a].forEach(function(b){R.push(b);
ca.push(a)})};Q=0;for(Z=Object.keys(r);Q<Z.length;Q++)X=Z[Q],U(X);for(Y=0;Y<R.length;Y++)if(X=ca[Y],V=R[Y],c[X]&&m[X]&&(v=c[X],D=v[V],G=m[X],(aa=G[V])&&0!==aa.length)){if(q.isAborted(b))return[2,void 0];for(ea=D.getData();ea.next(2);){ma=ea.getMessage();fa=new l(ma,D);ma.release();if(da=fa.values){if((ka=da._minzoom)&&ka>=K)continue;if((pa=da._maxzoom)&&pa<=O)continue}ja=0;for(na=aa;ja<na.length;ja++)J=na[ja],J.pushFeature(fa)}}ia=this._tile;qa=0;for(la=Object.keys(m);qa<la.length;qa++)for(B in X=
la[qa],ha=m[X],ha)for(aa=ha[B],ga=0,oa=aa;ga<oa.length;ga++)J=oa[ga],J.hasFeatures()&&(3===J.layer.type?(I.push(J),ia.addBucket(J)):J.layer.refLayerId?W.push(J):(ba.push(J),M[J.layer.id]=J));ra=0;for(va=I;ra<va.length;ra++)wa=J=va[ra],wa.getResources(wa.tileClipper,T,S);if(this._tile.status===f.TileStatus.INVALID)return[2,q.resolve([])];xa=[];za=this._tile.getWorkerTileHandler();0<T.size&&(Aa=za.fetchSprites(T,this._client,a),xa.push(Aa));for(ua in S)sa=S[ua],0<sa.size&&(ta=za.fetchGlyphs(this._tile.tileKey,
ua,sa,this._client,a),xa.push(ta));return[2,q.all(xa).then(function(){for(var a=0,b=ba;a<b.length;a++){var c=b[a];c.processFeatures(c.tileClipper);k.push(c)}a=0;for(b=W;a<b.length;a++){var c=b[a],e=M[c.layer.refLayerId];e&&(e.assignBufferInfo(c),k.push(c))}a=0;for(b=I;a<b.length;a++)c=b[a],c.processFeatures(c.tileClipper),k.push(c);k.sort(function(a,b){return a.layerIndex-b.layerIndex});return k})]})})};c.prototype._parseTileData=function(a){for(var b={},c=0,e=Object.keys(a);c<e.length;c++){for(var d=
e[c],f=a[d],h={};f.next();)switch(f.tag()){case 3:var l=f.getMessage(),k=new g(l);l.release();h[k.name]=k;break;default:f.skip()}b[d]=h}return b};c.prototype._createBucket=function(a){switch(a.type){case 0:return this._createBackgroundBucket(a);case 1:return this._createFillBucket(a);case 2:return this._createLineBucket(a);case 4:return this._createCircleBucket(a);case 3:return this._createSymbolBucket(a)}};c.prototype._createBackgroundBucket=function(a){return new b(a,this._level)};c.prototype._createFillBucket=
function(b){var c=this._tile;return new a(b,this._level,b.hasDataDrivenFill?c.fillDDVertexBuffer:c.fillVertexBuffer,c.fillIndexBuffer,b.hasDataDrivenOutline?c.outlineDDVertexBuffer:c.outlineVertexBuffer,c.outlineIndexBuffer)};c.prototype._createLineBucket=function(a){var b=this._tile;return new e(a,this._level,a.hasDataDrivenLine?b.lineDDVertexBuffer:b.lineVertexBuffer,b.lineIndexBuffer)};c.prototype._createCircleBucket=function(a){var b=this._tile;return new k(a,this._level,b.circleVertexBuffer,
b.circleIndexBuffer)};c.prototype._createSymbolBucket=function(a){var b=this._tile;return new n(a,this._level,a.hasDataDrivenIcon?b.iconDDVertexBuffer:b.iconVertexBuffer,b.iconIndexBuffer,a.hasDataDrivenText?b.textDDVertexBuffer:b.textVertexBuffer,b.textIndexBuffer,b.placementEngine,b.getWorkerTileHandler())};return c}()})},"esri/core/pbf":function(){define(["require","exports","./has","./ObjectPool"],function(d,c,h,m){var q=h("esri-text-decoder")?new TextDecoder("utf-8"):null,b=h("safari")||h("ios")?
6:h("ff")?12:32;return function(){function c(b,a,c,d){void 0===c&&(c=0);void 0===d&&(d=b?b.byteLength:0);this._tag=0;this._dataType=99;this.init(b,a,c,d)}c.prototype.init=function(b,a,c,d){this._data=b;this._dataView=a;this._pos=c;this._end=d};c.prototype.clone=function(){return new c(this._data,this._dataView,this._pos,this._end)};c.prototype.pos=function(){return this._pos};c.prototype.next=function(b){for(;;){if(this._pos===this._end)return!1;var a=this._decodeVarint();this._tag=a>>3;this._dataType=
a&7;if(!b||b===this._tag)break;this.skip()}return!0};c.prototype.empty=function(){return this._pos>=this._end};c.prototype.tag=function(){return this._tag};c.prototype.getInt32=function(){return this._decodeVarint()};c.prototype.getInt64=function(){return this._decodeVarint()};c.prototype.getUInt32=function(){var b=4294967295,b=(this._data[this._pos]&127)>>>0;if(128>this._data[this._pos++])return b;b=(b|(this._data[this._pos]&127)<<7)>>>0;if(128>this._data[this._pos++])return b;b=(b|(this._data[this._pos]&
127)<<14)>>>0;if(128>this._data[this._pos++])return b;b=(b|(this._data[this._pos]&127)<<21)>>>0;if(128>this._data[this._pos++])return b;b=(b|(this._data[this._pos]&15)<<28)>>>0;if(128>this._data[this._pos++])return b};c.prototype.getUInt64=function(){return this._decodeVarint()};c.prototype.getSInt32=function(){var b=this.getUInt32();return b>>>1^-(b&1)|0};c.prototype.getSInt64=function(){return this._decodeSVarint()};c.prototype.getBool=function(){var b=0!==this._data[this._pos];this._skip(1);return b};
c.prototype.getEnum=function(){return this._decodeVarint()};c.prototype.getFixed64=function(){var b=this._dataView,a=this._pos,b=b.getUint32(a,!0)+4294967296*b.getUint32(a+4,!0);this._skip(8);return b};c.prototype.getSFixed64=function(){var b=this._dataView,a=this._pos,b=b.getUint32(a,!0)+4294967296*b.getInt32(a+4,!0);this._skip(8);return b};c.prototype.getDouble=function(){var b=this._dataView.getFloat64(this._pos,!0);this._skip(8);return b};c.prototype.getFixed32=function(){var b=this._dataView.getUint32(this._pos,
!0);this._skip(4);return b};c.prototype.getSFixed32=function(){var b=this._dataView.getInt32(this._pos,!0);this._skip(4);return b};c.prototype.getFloat=function(){var b=this._dataView.getFloat32(this._pos,!0);this._skip(4);return b};c.prototype.getString=function(){var b=this._getLength(),a=this._pos,a=this._toString(this._data,a,a+b);this._skip(b);return a};c.prototype.getBytes=function(){var b=this._getLength(),a=this._pos,a=this._toBytes(this._data,a,a+b);this._skip(b);return a};c.prototype.processMessageWithArgs=
function(b,a,c,d){var e=this.getMessage();b=b(e,a,c,d);e.release();return b};c.prototype.processMessage=function(b){var a=this.getMessage();b=b(a);a.release();return b};c.prototype.getMessage=function(){var b=this._getLength(),a=c.pool.acquire();a.init(this._data,this._dataView,this._pos,this._pos+b);this._skip(b);return a};c.prototype.release=function(){c.pool.release(this)};c.prototype.skip=function(){switch(this._dataType){case 0:this._decodeVarint();break;case 1:this._skip(8);break;case 2:this._skip(this._getLength());
break;case 5:this._skip(4);break;default:throw Error("Invalid data type!");}};c.prototype._skip=function(b){if(this._pos+b>this._end)throw Error("Attempt to skip past the end of buffer!");this._pos+=b};c.prototype._decodeVarint=function(){var b=this._data,a=this._pos,c=0,d;if(10<=this._end-a){if(d=b[a++],c|=d&127,0!==(d&128)&&(d=b[a++],c|=(d&127)<<7,0!==(d&128)&&(d=b[a++],c|=(d&127)<<14,0!==(d&128)&&(d=b[a++],c|=(d&127)<<21,0!==(d&128)&&(d=b[a++],c+=268435456*(d&127),0!==(d&128)&&(d=b[a++],c+=34359738368*
(d&127),0!==(d&128)&&(d=b[a++],c+=4398046511104*(d&127),0!==(d&128)&&(d=b[a++],c+=562949953421312*(d&127),0!==(d&128)&&(d=b[a++],c+=72057594037927936*(d&127),0!==(d&128)&&(d=b[a++],c+=0x7fffffffffffffff*(d&127),0!==(d&128)))))))))))throw Error("Varint too long!");}else{for(var h=1;a!==this._end;){d=b[a];if(0===(d&128))break;++a;c+=(d&127)*h;h*=128}if(a===this._end)throw Error("Varint overrun!");++a;c+=d*h}this._pos=a;return c};c.prototype._decodeSVarint=function(){var b=this._decodeVarint();return b%
2?-(b+1)/2:b/2};c.prototype._getLength=function(){if(2!==this._dataType)throw Error("Not a delimited data type!");return this._decodeVarint()};c.prototype._toString=function(c,a,e){e=Math.min(this._end,e);if(e-a>b&&q)return c=c.subarray(a,e),q.decode(c);for(var d="",h="";a<e;++a){var k=c[a];k&128?h+="%"+k.toString(16):(d+=decodeURIComponent(h)+String.fromCharCode(k),h="")}h.length&&(d+=decodeURIComponent(h));return d};c.prototype._toBytes=function(b,a,c){c=Math.min(this._end,c);return new Uint8Array(b.buffer,
a,c-a)};c.pool=new m(c,null,function(b){b._data=null;b._dataView=null});return c}()})},"esri/views/2d/engine/vectorTiles/Feature":function(){define(["require","exports","../webgl/Geometry"],function(d,c,h){return function(){function c(c,b){this.values={};var d=b.keys;for(b=b.values;c.next();)switch(c.tag()){case 1:this.id=c.getUInt64();break;case 2:for(var h=c.getMessage(),a=this.values;!h.empty();){var e=h.getUInt32(),g=h.getUInt32();a[d[e]]=b[g]}h.release();break;case 3:this.type=c.getUInt32();
break;case 4:this._pbfGeometry=c.getMessage();break;default:c.skip()}}c.prototype.getGeometry=function(c){if(void 0!==this._geometry)return this._geometry;if(!this._pbfGeometry)return null;var b=this._pbfGeometry;this._pbfGeometry=null;var d,l;c?c.reset(this.type):d=[];for(var a=1,e=0,g=0,n=0;!b.empty();)switch(0===e&&(e=b.getUInt32(),a=e&7,e>>=3),e--,a){case 1:g+=b.getSInt32();n+=b.getSInt32();c?c.moveTo(g,n):(l&&d.push(l),l=[],l.push(new h.Point(g,n)));break;case 2:g+=b.getSInt32();n+=b.getSInt32();
c?c.lineTo(g,n):l.push(new h.Point(g,n));break;case 7:c?c.close():l&&!l[0].equals(g,n)&&l.push(l[0].clone());break;default:throw b.release(),Error("Invalid path operation");}c?c=c.result():(l&&d.push(l),c=d);b.release();return this._geometry=c};return c}()})},"esri/views/2d/engine/vectorTiles/SourceLayerData":function(){define(["require","exports"],function(d,c){return function(){function c(d){this.extent=4096;this.keys=[];this.values=[];for(this._pbfLayer=d.clone();d.next();)switch(d.tag()){case 1:this.name=
d.getString();break;case 3:this.keys.push(d.getString());break;case 4:this.values.push(d.processMessage(c._parseValue));break;case 5:this.extent=d.getUInt32();break;default:d.skip()}}c.prototype.getData=function(){return this._pbfLayer};c._parseValue=function(c){for(;c.next();)switch(c.tag()){case 1:return c.getString();case 2:return c.getFloat();case 3:return c.getDouble();case 4:return c.getInt64();case 5:return c.getUInt64();case 6:return c.getSInt64();case 7:return c.getBool();default:c.skip()}return null};
return c}()})},"esri/views/2d/engine/webgl/TileClipper":function(){define(["require","exports","./definitions","./Geometry","./GeometryUtils"],function(d,c,h,m,q){Object.defineProperty(c,"__esModule",{value:!0});var b=function(){return function(b,a,c){this.ratio=b;this.x=a;this.y=c}}();d=function(){function c(a,b,c,d,k){void 0===d&&(d=8);void 0===k&&(k=8);this.lines=[];this.starts=[];this.pixelRatio=d;this.pixelMargin=k;this.tileSize=h.TILE_SIZE*d;this.dz=a;this.yPos=b;this.xPos=c}c.prototype.setExtent=
function(a){this.finalRatio=this.tileSize/a*(1<<this.dz);var b=this.pixelRatio*this.pixelMargin,b=b/this.finalRatio;a>>=this.dz;b>a&&(b=a);this.margin=b;this.xmin=a*this.xPos-b;this.ymin=a*this.yPos-b;this.xmax=this.xmin+a+2*b;this.ymax=this.ymin+a+2*b};c.prototype.reset=function(a){this.type=a;this.lines=[];this.starts=[];this.line=null;this.start=0};c.prototype.moveTo=function(a,b){this._pushLine();this._prevIsIn=this._isIn(a,b);this._moveTo(a,b,this._prevIsIn);this._prevPt=new m.Point(a,b);this._firstPt=
new m.Point(a,b);this._dist=0};c.prototype.lineTo=function(a,c){var e=this._isIn(a,c),d=new m.Point(a,c),h=m.Point.distance(this._prevPt,d),f,k,l;if(e)this._prevIsIn?this._lineTo(a,c,!0):(f=this._prevPt,k=d,a=this._intersect(k,f),this.start=this._dist+h*(1-this._r),this._lineTo(a.x,a.y,!0),this._lineTo(k.x,k.y,!0));else if(this._prevIsIn)k=this._prevPt,f=d,a=this._intersect(k,f),this._lineTo(a.x,a.y,!0),this._lineTo(f.x,f.y,!1);else{var q=this._prevPt;if(!(q.x<=this.xmin&&d.x<=this.xmin||q.x>=this.xmax&&
d.x>=this.xmax||q.y<=this.ymin&&d.y<=this.ymin||q.y>=this.ymax&&d.y>=this.ymax)){a=[];if(q.x<this.xmin&&d.x>this.xmin||q.x>this.xmin&&d.x<this.xmin)c=(this.xmin-q.x)/(d.x-q.x),l=q.y+c*(d.y-q.y),l<=this.ymin?k=!1:l>=this.ymax?k=!0:a.push(new b(c,this.xmin,l));if(q.x<this.xmax&&d.x>this.xmax||q.x>this.xmax&&d.x<this.xmax)c=(this.xmax-q.x)/(d.x-q.x),l=q.y+c*(d.y-q.y),l<=this.ymin?k=!1:l>=this.ymax?k=!0:a.push(new b(c,this.xmax,l));if(q.y<this.ymin&&d.y>this.ymin||q.y>this.ymin&&d.y<this.ymin)c=(this.ymin-
q.y)/(d.y-q.y),l=q.x+c*(d.x-q.x),l<=this.xmin?f=!1:l>=this.xmax?f=!0:a.push(new b(c,l,this.ymin));if(q.y<this.ymax&&d.y>this.ymax||q.y>this.ymax&&d.y<this.ymax)c=(this.ymax-q.y)/(d.y-q.y),l=q.x+c*(d.x-q.x),l<=this.xmin?f=!1:l>=this.xmax?f=!0:a.push(new b(c,l,this.ymax));if(0===a.length)f?k?this._lineTo(this.xmax,this.ymax,!0):this._lineTo(this.xmax,this.ymin,!0):k?this._lineTo(this.xmin,this.ymax,!0):this._lineTo(this.xmin,this.ymin,!0);else if(1<a.length&&a[0].ratio>a[1].ratio)this.start=this._dist+
h*a[1].ratio,this._lineTo(a[1].x,a[1].y,!0),this._lineTo(a[0].x,a[0].y,!0);else for(this.start=this._dist+h*a[0].ratio,f=0;f<a.length;f++)this._lineTo(a[f].x,a[f].y,!0)}this._lineTo(d.x,d.y,!1)}this._dist+=h;this._prevIsIn=e;this._prevPt=d};c.prototype.close=function(){if(2<this.line.length){var a=this._firstPt,b=this._prevPt;a.x===b.x&&a.y===b.y||this.lineTo(a.x,a.y);a=this.line;for(b=a.length;4<=b;)if(a[0].x===a[1].x&&a[0].x===a[b-2].x||a[0].y===a[1].y&&a[0].y===a[b-2].y)a.pop(),a[0].x=a[b-2].x,
a[0].y=a[b-2].y,--b;else break}};c.prototype.result=function(a){void 0===a&&(a=!0);this._pushLine();if(0===this.lines.length)return null;3===this.type&&a&&k.simplify(this.tileSize,this.margin*this.finalRatio,this.lines);return this.lines};c.prototype.resultWithStarts=function(){if(2!==this.type)throw Error("Only valid for lines");this._pushLine();var a=this.lines,b=a.length;if(0===b)return null;for(var c=[],d=0;d<b;d++)c.push({line:a[d],start:this.starts[d]||0});return c};c.prototype._isIn=function(a,
b){return a>=this.xmin&&a<=this.xmax&&b>=this.ymin&&b<=this.ymax};c.prototype._intersect=function(a,b){var c,d,e;if(b.x>=this.xmin&&b.x<=this.xmax)d=b.y<=this.ymin?this.ymin:this.ymax,e=(d-a.y)/(b.y-a.y),c=a.x+e*(b.x-a.x);else if(b.y>=this.ymin&&b.y<=this.ymax)c=b.x<=this.xmin?this.xmin:this.xmax,e=(c-a.x)/(b.x-a.x),d=a.y+e*(b.y-a.y);else{d=b.y<=this.ymin?this.ymin:this.ymax;c=b.x<=this.xmin?this.xmin:this.xmax;var f=(c-a.x)/(b.x-a.x),h=(d-a.y)/(b.y-a.y);f<h?(e=f,d=a.y+f*(b.y-a.y)):(e=h,c=a.x+h*(b.x-
a.x))}this._r=e;return new m.Point(c,d)};c.prototype._pushLine=function(){this.line&&(1===this.type?0<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)):2===this.type?1<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)):3===this.type&&3<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)));this.line=[];this.start=0};c.prototype._moveTo=function(a,b,c){3!==this.type?c&&(a=Math.round((a-(this.xmin+this.margin))*this.finalRatio),
b=Math.round((b-(this.ymin+this.margin))*this.finalRatio),this.line.push(new m.Point(a,b))):(c||(a<this.xmin&&(a=this.xmin),a>this.xmax&&(a=this.xmax),b<this.ymin&&(b=this.ymin),b>this.ymax&&(b=this.ymax)),a=Math.round((a-(this.xmin+this.margin))*this.finalRatio),b=Math.round((b-(this.ymin+this.margin))*this.finalRatio),this.line.push(new m.Point(a,b)),this._is_v=this._is_h=!1)};c.prototype._lineTo=function(a,b,c){if(3!==this.type)if(c){a=Math.round((a-(this.xmin+this.margin))*this.finalRatio);b=
Math.round((b-(this.ymin+this.margin))*this.finalRatio);if(0<this.line.length&&(c=this.line[this.line.length-1],c.equals(a,b)))return;this.line.push(new m.Point(a,b))}else this.line&&0<this.line.length&&this._pushLine();else if(c||(a<this.xmin&&(a=this.xmin),a>this.xmax&&(a=this.xmax),b<this.ymin&&(b=this.ymin),b>this.ymax&&(b=this.ymax)),a=Math.round((a-(this.xmin+this.margin))*this.finalRatio),b=Math.round((b-(this.ymin+this.margin))*this.finalRatio),this.line&&0<this.line.length){c=this.line[this.line.length-
1];var d=c.x===a,e=c.y===b;d&&e||(this._is_h&&d?(c.x=a,c.y=b,c=this.line[this.line.length-2],c.x===a&&c.y===b?(this.line.pop(),1>=this.line.length?this._is_v=this._is_h=!1:(c=this.line[this.line.length-2],this._is_h=c.x===a,this._is_v=c.y===b)):(this._is_h=c.x===a,this._is_v=c.y===b)):this._is_v&&e?(c.x=a,c.y=b,c=this.line[this.line.length-2],c.x===a&&c.y===b?(this.line.pop(),1>=this.line.length?this._is_v=this._is_h=!1:(c=this.line[this.line.length-2],this._is_h=c.x===a,this._is_v=c.y===b)):(this._is_h=
c.x===a,this._is_v=c.y===b)):(this.line.push(new m.Point(a,b)),this._is_h=d,this._is_v=e))}else this.line.push(new m.Point(a,b))};return c}();c.TileClipper=d;d=function(){function b(){}b.prototype.setExtent=function(a){this._ratio=4096===a?1:4096/a};b.prototype.reset=function(a){this.type=a;this.lines=[];this.line=null};b.prototype.moveTo=function(a,b){this.line&&this.lines.push(this.line);this.line=[];var c=this._ratio;this.line.push(new m.Point(Math.round(a*c),Math.round(b*c)))};b.prototype.lineTo=
function(a,b){var c=this._ratio;this.line.push(new m.Point(Math.round(a*c),Math.round(b*c)))};b.prototype.close=function(){var a=this.line;a&&!a[0].isEqual(a[a.length-1])&&a.push(a[0])};b.prototype.result=function(){this.line&&this.lines.push(this.line);if(0===this.lines.length)return null;3===this.type&&1!==this._ratio&&k.simplify(4096,64,this.lines);return this.lines};return b}();c.SimpleBuilder=d;var k=function(){function b(){}b.simplify=function(a,c,d){if(d){var e=-c,g=a+c,f=-c,h=a+c;a=[];c=[];
for(var k=d.length,l=0;l<k;++l){var m=d[l];if(m&&!(2>m.length))for(var q=m[0],u=void 0,w=m.length,y=1;y<w;++y)u=m[y],q.x===u.x&&(q.x<=e&&(q.y>u.y?(a.push(l),a.push(y),a.push(0),a.push(-1)):(c.push(l),c.push(y),c.push(0),c.push(-1))),q.x>=g&&(q.y<u.y?(a.push(l),a.push(y),a.push(1),a.push(-1)):(c.push(l),c.push(y),c.push(1),c.push(-1)))),q.y===u.y&&(q.y<=f&&(q.x<u.x?(a.push(l),a.push(y),a.push(2),a.push(-1)):(c.push(l),c.push(y),c.push(2),c.push(-1))),q.y>=h&&(q.x>u.x?(a.push(l),a.push(y),a.push(3),
a.push(-1)):(c.push(l),c.push(y),c.push(3),c.push(-1)))),q=u}0!==a.length&&0!==c.length&&(b.fillParent(d,c,a),b.fillParent(d,a,c),e=[],b.calcDeltas(e,c,a),b.calcDeltas(e,a,c),b.addDeltas(e,d))}};b.fillParent=function(a,b,c){for(var d=c.length,e=b.length,f=0;f<e;f+=4){for(var g=b[f],h=b[f+1],k=b[f+2],l=a[g][h-1],g=a[g][h],h=8092,m=-1,u=0;u<d;u+=4)if(c[u+2]===k){var w=c[u],y=c[u+1],x=a[w][y-1],w=a[w][y];switch(k){case 0:case 1:q.between(l.y,x.y,w.y)&&q.between(g.y,x.y,w.y)&&(x=Math.abs(w.y-x.y),x<h&&
(h=x,m=u));break;case 2:case 3:q.between(l.x,x.x,w.x)&&q.between(g.x,x.x,w.x)&&(x=Math.abs(w.x-x.x),x<h&&(h=x,m=u))}}b[f+3]=m}};b.calcDeltas=function(a,c,d){for(var e=c.length,g=0;g<e;g+=4){var f=b.calcDelta(g,c,d,[]);a.push(c[g]);a.push(c[g+1]);a.push(c[g+2]);a.push(f)}};b.calcDelta=function(a,c,d,h){a=c[a+3];if(-1===a)return 0;var e=h.length;if(1<e&&h[e-2]===a)return 0;h.push(a);return b.calcDelta(a,d,c,h)+1};b.addDeltas=function(a,b){for(var c=a.length,d=0,e=0;e<c;e+=4){var f=a[e+3];f>d&&(d=f)}for(e=
0;e<c;e+=4){var h=b[a[e]],k=a[e+1],f=d-a[e+3];switch(a[e+2]){case 0:h[k-1].x-=f;h[k].x-=f;1===k&&(h[h.length-1].x-=f);k===h.length-1&&(h[0].x-=f);break;case 1:h[k-1].x+=f;h[k].x+=f;1===k&&(h[h.length-1].x+=f);k===h.length-1&&(h[0].x+=f);break;case 2:h[k-1].y-=f;h[k].y-=f;1===k&&(h[h.length-1].y-=f);k===h.length-1&&(h[0].y-=f);break;case 3:h[k-1].y+=f,h[k].y+=f,1===k&&(h[h.length-1].y+=f),k===h.length-1&&(h[0].y+=f)}}};return b}()})},"esri/views/2d/engine/webgl/GeometryUtils":function(){define(["require",
"exports"],function(d,c){function h(c,b){c%=b;return 0<=c?c:c+b}Object.defineProperty(c,"__esModule",{value:!0});c.C_INFINITY=Number.POSITIVE_INFINITY;c.C_PI=Math.PI;c.C_2PI=2*c.C_PI;c.C_PI_BY_2=c.C_PI/2;c.C_RAD_TO_256=128/c.C_PI;c.C_256_TO_RAD=c.C_PI/128;c.C_DEG_TO_256=256/360;c.C_DEG_TO_RAD=c.C_PI/180;c.C_SQRT2=1.414213562;c.C_SQRT2_INV=1/c.C_SQRT2;var m=1/Math.LN2;c.positiveMod=h;c.radToByte=function(d){return h(d*c.C_RAD_TO_256,256)};c.degToByte=function(d){return h(d*c.C_DEG_TO_256,256)};c.log2=
function(c){return Math.log(c)*m};c.sqr=function(c){return c*c};c.interpolate=function(c,b,d){return c*(1-d)+b*d};c.between=function(c,b,d){return c>=b&&c<=d||c>=d&&c<=b}})},"esri/views/2d/tiling/enums":function(){define(["require","exports"],function(d,c){Object.defineProperty(c,"__esModule",{value:!0});d=c.TileStatus||(c.TileStatus={});d[d.INITIALIZED=0]="INITIALIZED";d[d.NO_DATA=1]="NO_DATA";d[d.READY=2]="READY";d[d.MODIFIED=3]="MODIFIED";d[d.INVALID=4]="INVALID"})},"esri/views/2d/engine/vectorTiles/VertexMemoryBuffer":function(){define(["require",
"exports","tslib","./GeometryUtils","./MemoryBuffer"],function(d,c,h,m,q){Object.defineProperty(c,"__esModule",{value:!0});var b=new Float32Array(1),k=new Uint32Array(b.buffer);d=function(c){function a(a){var b=c.call(this,a?20:12)||this;b._isDataDriven=a;return b}h.__extends(a,c);a.prototype.isDataDriven=function(){return this._isDataDriven};a.prototype.add=function(a,c,d,h,f,l,m,z){var e=this.array;a=q.i1616to32(a,c);e.push(a);a=q.i8888to32(Math.round(31*d),Math.round(31*h),Math.round(31*f),Math.round(31*
l));e.push(a);a=q.i1616to32(m,0);e.push(a);if(this._isDataDriven){if(!z)throw Error("Expecting data driven values.");d=z.color;h=d[3]*z.opacity*255;e.push(q.i8888to32(d[0]*h,d[1]*h,d[2]*h,h));b[0]=z.size;e.push(k[0])}};return a}(q);c.LineVertexBuffer=d;d=function(b){function a(a){var c=b.call(this,a?8:4)||this;c._isDataDriven=a;return c}h.__extends(a,b);a.prototype.isDataDriven=function(){return this._isDataDriven};a.prototype.add=function(a,b,c){var d=this.array;d.push(q.i1616to32(a,b));if(this._isDataDriven){if(!c)throw Error("Expecting data driven values.");
a=c.color;c=a[3]*c.opacity*255;d.push(q.i8888to32(a[0]*c,a[1]*c,a[2]*c,c))}};return a}(q);c.FillVertexBuffer=d;d=function(b){function a(a){var c=b.call(this,a?12:8)||this;c._isDataDriven=a;return c}h.__extends(a,b);a.prototype.isDataDriven=function(){return this._isDataDriven};a.prototype.add=function(a,b,c,d,f,h,k){var e=this.array,g=this.index;a=q.i1616to32(a,b);e.push(a);a=q.i8888to32(Math.round(15*c),Math.round(15*d),f,h);e.push(a);if(this._isDataDriven){if(!k)throw Error("Expecting data driven values.");
c=k.color;k=c[3]*k.opacity*255;e.push(q.i8888to32(c[0]*k,c[1]*k,c[2]*k,k))}return g};return a}(q);c.OutlineVertexBuffer=d;d=function(c){function a(a){var b=c.call(this,a?28:20)||this;b._isDataDriven=a;return b}h.__extends(a,c);a.prototype.isDataDriven=function(){return this._isDataDriven};a.prototype.add=function(a,c,d,h,f,l,v,z,A,p,u,w,y){var e=this.array;a=q.i1616to32(a,c);e.push(a);a=q.i1616to32(Math.round(8*d),Math.round(8*h));e.push(a);a=q.i8888to32(f/4,l/4,0,0);e.push(a);a=q.i8888to32(Math.ceil(10*
w),m.radToByte(v),10*p,Math.min(10*u,255));e.push(a);a=q.i8888to32(z,A,0,0);e.push(a);if(this._isDataDriven){if(!y)throw Error("Expecting data driven values.");d=y.color;h=d[3]*y.opacity*255;e.push(q.i8888to32(d[0]*h,d[1]*h,d[2]*h,h));b[0]=y.size;e.push(k[0])}};return a}(q);c.SymbolVertexBuffer=d;d=function(b){function a(){return b.call(this,16)||this}h.__extends(a,b);a.prototype.add=function(a,b,c,d,f,h,k,l,m,p,u){var e=this.array;a=q.i1616to32(2*a+c,2*b+d);e.push(a);k=h[3]*k*255;a=q.i8888to32(h[0]*
k,h[1]*k,h[2]*k,k);e.push(a);h=p[3]*u*255;a=q.i8888to32(p[0]*h,p[1]*h,p[2]*h,h);e.push(a);a=q.i8888to32(Math.min(32*l,255),Math.min(4*m,255),Math.min(f,255),0);e.push(a)};return a}(q);c.CircleVertexBuffer=d})},"esri/views/2d/engine/vectorTiles/style/StyleRepository":function(){define(["require","exports","../../../../../core/has","./StyleLayer"],function(d,c,h,m){return function(){function c(b,d){this.backgroundBucketIds=[];this._layerByName={};this.styleJSON=b;this.version=parseFloat(b.version);
this.sprite=d?d.spriteUrl:b.sprite;this.glyphs=d?d.glyphsUrl:b.glyphs;if(this.layers=(b.layers||[]).map(c._create))for(b=void 0,d=0;d<this.layers.length;d++)b=this.layers[d],this._layerByName[b.id.toLowerCase()]=b,0===b.type&&this.backgroundBucketIds.push(d);this._identifyRefLayers()}c.prototype.isPainterDataDriven=function(b){return(b=this._layerByName[b.toLowerCase()])?b.isPainterDataDriven():!1};c.prototype.getStyleLayerId=function(b){return b>=this.layers.length?null:this.layers[b].id};c.prototype.getLayoutProperties=
function(b){return(b=this._layerByName[b.toLowerCase()])?b.layout:null};c.prototype.getPaintProperties=function(b){return(b=this._layerByName[b.toLowerCase()])?b.paint:null};c.prototype.setPaintProperties=function(b,d){b=this._layerByName[b.toLowerCase()];if(!b)return"";var h=this.layers.indexOf(b);this.styleJSON.layers[h].paint=d;d=c._recreateLayer({id:b.id,type:b.typeName,source:b.source,sourceLayer:b["source-layer"],minzoom:b.minzoom,maxzoom:b.maxzoom,filter:b.filter,layout:b.layout,paint:d},b);
this.layers[h]=d;this._layerByName[b.id.toLowerCase()]=d;return b.id};c.prototype.setLayoutProperties=function(b,d){b=this._layerByName[b.toLowerCase()];if(!b)return"";var h=this.layers.indexOf(b);this.styleJSON.layers[h].layout=d;d=c._recreateLayer({id:b.id,type:b.typeName,source:b.source,sourceLayer:b["source-layer"],minzoom:b.minzoom,maxzoom:b.maxzoom,filter:b.filter,layout:d,paint:b.paint},b);this.layers[h]=d;this._layerByName[b.id.toLowerCase()]=d;return b.id};c.prototype._identifyRefLayers=
function(){for(var b=[],c=[],d=0,a=0,e=this.layers;a<e.length;a++){var g=e[a];if(1===g.type){var h=g,m=g.source+"|"+g.sourceLayer,m=m+("|"+JSON.stringify(g.layout&&g.layout.visibility)),m=m+("|"+JSON.stringify(g.minzoom)),m=m+("|"+JSON.stringify(g.maxzoom)),m=m+("|"+JSON.stringify(g.filter));if(h.hasDataDrivenFill||h.hasDataDrivenOutline)m+="|"+JSON.stringify(d);b.push({key:m,layer:g})}2===g.type&&(h=g,m=g.source+"|"+g.sourceLayer,m+="|"+JSON.stringify(g.layout&&g.layout.visibility),m+="|"+JSON.stringify(g.minzoom),
m+="|"+JSON.stringify(g.maxzoom),m+="|"+JSON.stringify(g.filter),m+="|"+JSON.stringify(g.layout&&g.layout["line-cap"]),m+="|"+JSON.stringify(g.layout&&g.layout["line-join"]),h.hasDataDrivenLine&&(m+="|"+JSON.stringify(d)),c.push({key:m,layer:g}));++d}this._assignRefLayers(b);this._assignRefLayers(c)};c.prototype._assignRefLayers=function(b){b.sort(function(a,b){return a.key<b.key?-1:a.key>b.key?1:0});for(var c,d,a=b.length,e=0;e<a;e++){var g=b[e];if(g.key===c)g.layer.refLayerId=d;else if(c=g.key,
d=g.layer.id,1===g.layer.type&&!g.layer.getPaintProperty("fill-outline-color"))for(var h=e+1;h<a;h++){var m=b[h];if(m.key===c){if(m.layer.getPaintProperty("fill-outline-color")){b[e]=m;b[h]=g;d=m.layer.id;break}}else break}}};c._create=function(b,c,d){c=1-1/(d.length+1)*(1+c);switch(b.type){case "background":return new m.BackgroundStyleLayer(0,b,c);case "fill":return new m.FillStyleLayer(1,b,c);case "line":return new m.LineStyleLayer(2,b,c);case "symbol":return new m.SymbolStyleLayer(3,b,c);case "raster":throw Error("Unsupported vector tile raster layer");
case "circle":return new m.CircleStyleLayer(4,b,c)}throw Error("Unknown vector tile layer");};c._recreateLayer=function(b,c){switch(b.type){case "background":return new m.BackgroundStyleLayer(0,b,c.z);case "fill":return new m.FillStyleLayer(1,b,c.z);case "line":return new m.LineStyleLayer(2,b,c.z);case "symbol":return new m.SymbolStyleLayer(3,b,c.z);case "raster":throw Error("Unsupported vector tile raster layer");case "circle":return new m.CircleStyleLayer(4,b,c.z)}};return c}()})},"*noref":1}});
require.boot&&require.apply(null,require.boot);